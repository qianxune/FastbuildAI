import{v as U,ba as G,x as A,o as l,A as u,r as k,M as a,P as E,ag as L,f as V,aj as I,$ as v,af as M,as as W,at as J,d as c,aC as q,z as T,D as s,O as D,E as N,az as R,T as O,R as C,Q as r,F as Q,a1 as X,bz as Y,bA as Z,s as z,N as ee,b1 as te,S as ae,b3 as se,U as oe,b2 as le,a_ as ne,an as ie,bB as re,bC as ce}from"#entry";import{i as de,a as ue,A as pe,b as fe,c as _e,d as me,_ as ve}from"./BN9c5Gyj.js";import{_ as ye}from"./CcXcNz9k.js";import{_ as ge}from"./CugJVru6.js";import{_ as he}from"./B7RlxW8w.js";import{d as be}from"./DNsHFHOw.js";import"./TGMj2fgS.js";import"./z2CrSoMD.js";import"./CFMQFib2.js";import"./CnmASW3b.js";import"./DlAUqK2U.js";import"./CPXIjpTD.js";import"./DKtAdiWa.js";import"./Cci7V6xo.js";import"./DvyFBN4o.js";import"./C9ze5RlS.js";var xe=U({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(b){const _=b,o=de(),x=ue();return G(),(d,w)=>(l(),A(a(E),{as:_.as,"as-child":_.asChild,"data-orientation":a(o).orientation,"data-state":a(x).dataState.value,"data-disabled":a(x).dataDisabled.value},{default:u(()=>[k(d.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),we=xe;const ke={base:"animate-pulse rounded-md bg-elevated"},Ae={__name:"Skeleton",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(b){const _=b,o=L(),x=V(()=>I({extend:I(ke),...o.ui?.skeleton||{}}));return(d,w)=>(l(),A(a(E),{as:b.as,"aria-busy":"true","aria-label":"loading","aria-live":"polite",role:"alert",class:v(x.value({class:_.class}))},{default:u(()=>[k(d.$slots,"default")]),_:3},8,["as","class"]))}},Ce={slots:{root:"w-full",item:"border-b border-default last:border-b-0",header:"flex",trigger:"group flex-1 flex items-center gap-1.5 font-medium text-sm py-3.5 focus-visible:outline-primary min-w-0",content:"data-[state=open]:animate-[accordion-down_200ms_ease-out] data-[state=closed]:animate-[accordion-up_200ms_ease-out] overflow-hidden focus:outline-none",body:"text-sm pb-3.5",leadingIcon:"shrink-0 size-5",trailingIcon:"shrink-0 size-5 ms-auto group-data-[state=open]:rotate-180 transition-transform duration-200",label:"text-start break-words"},variants:{disabled:{true:{trigger:"cursor-not-allowed opacity-75"}}}},$e={__name:"Accordion",props:{as:{type:null,required:!1},items:{type:Array,required:!1},trailingIcon:{type:String,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},collapsible:{type:Boolean,required:!1,default:!0},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},type:{type:String,required:!1,default:"single"},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(b,{emit:_}){const o=b,x=_,d=M(),w=L(),y=W(J(o,"as","collapsible","defaultValue","disabled","modelValue","type","unmountOnHide"),x),p=V(()=>I({extend:I(Ce),...w.ui?.accordion||{}})({disabled:o.disabled}));return(n,B)=>(l(),A(a(me),Q(a(y),{class:p.value.root({class:[o.ui?.root,o.class]})}),{default:u(()=>[(l(!0),c(q,null,T(o.items,(e,i)=>(l(),A(a(pe),{key:i,value:e.value||String(i),disabled:e.disabled,class:v(p.value.item({class:[o.ui?.item,e.ui?.item,e.class]}))},{default:u(({open:t})=>[s(a(we),{as:"div",class:v(p.value.header({class:[o.ui?.header,e.ui?.header]}))},{default:u(()=>[s(a(fe),{class:v(p.value.trigger({class:[o.ui?.trigger,e.ui?.trigger],disabled:e.disabled}))},{default:u(()=>[k(n.$slots,"leading",{item:e,index:i,open:t},()=>[e.icon?(l(),A(N,{key:0,name:e.icon,class:v(p.value.leadingIcon({class:[o.ui?.leadingIcon,e?.ui?.leadingIcon]}))},null,8,["name","class"])):D("",!0)]),a(R)(e,o.labelKey)||d.default?(l(),c("span",{key:0,class:v(p.value.label({class:[o.ui?.label,e.ui?.label]}))},[k(n.$slots,"default",{item:e,index:i,open:t},()=>[O(C(a(R)(e,o.labelKey)),1)])],2)):D("",!0),k(n.$slots,"trailing",{item:e,index:i,open:t},()=>[s(N,{name:e.trailingIcon||b.trailingIcon||a(w).ui.icons.chevronDown,class:v(p.value.trailingIcon({class:[o.ui?.trailingIcon,e.ui?.trailingIcon]}))},null,8,["name","class"])])]),_:2},1032,["class"])]),_:2},1032,["class"]),e.content||d.content||e.slot&&d[e.slot]||d.body||e.slot&&d[`${e.slot}-body`]?(l(),A(a(_e),{key:0,class:v(p.value.content({class:[o.ui?.content,e.ui?.content]}))},{default:u(()=>[k(n.$slots,e.slot||"content",{item:e,index:i,open:t},()=>[r("div",{class:v(p.value.body({class:[o.ui?.body,e.ui?.body]}))},[k(n.$slots,e.slot?`${e.slot}-body`:"body",{item:e,index:i,open:t},()=>[O(C(e.content),1)])],2)])]),_:2},1032,["class"])):D("",!0)]),_:2},1032,["value","disabled","class"]))),128))]),_:3},16,["class"]))}},Se={class:"bg-background flex size-full overflow-hidden"},qe={class:"fixed bottom-1/2 left-0 md:hidden"},Te={class:"relative flex h-full w-52 flex-col"},Ie={class:"absolute -right-7 bottom-1/2 md:hidden"},Be={class:"flex-1 overflow-hidden"},De={key:0,class:"h-full space-y-3"},ze={key:1,class:"flex flex-col gap-3"},Oe=["onClick"],Ve={class:"mt-auto px-4 py-2"},Pe={class:"bg-muted w-0 overflow-x-hidden transition-[width] md:w-44 lg:w-52"},He={class:"flex h-full w-full min-w-44 flex-col gap-4"},Ne={class:"flex-1 overflow-hidden"},Re={key:0,class:"h-full space-y-3"},Ue={key:1,class:"flex flex-col gap-3 text-sm"},Ee=["onClick"],Le={class:"mt-auto px-4 py-2"},Fe={id:"__read_area__",class:"flex-1 overflow-y-auto"},je={class:"mx-auto flex w-full flex-col gap-4 p-6 md:max-w-prose"},Ke={key:0,class:"space-y-4"},Ge={class:"mt-8! space-y-6"},Me={key:1,class:"space-y-4"},We={class:"text-2xl font-medium"},Je={class:"text-foreground/60 text-xs"},Qe={key:1},Xe={class:"prose dark:prose-invert"},mt=U({__name:"index",async setup(b){let _,o;X({title:"Policy Agreements"});const x=Y(),{data:d,pending:w}=([_,o]=Z(()=>re(()=>ce(),{transform:i=>{const t=i.agreement;if(!t)return console.warn("Agreement configuration not found"),[];const g=[];return t.serviceTitle&&t.serviceContent&&g.push({title:t.serviceTitle,type:"service",content:t.serviceContent,updateAt:t.updateAt||new Date().toISOString()}),t.privacyTitle&&t.privacyContent&&g.push({title:t.privacyTitle,type:"privacy",content:t.privacyContent,updateAt:t.updateAt||new Date().toISOString()}),t.paymentTitle&&t.paymentContent&&g.push({title:t.paymentTitle,type:"payment",content:t.paymentContent,updateAt:t.updateAt||new Date().toISOString()}),g}},"$n2Wg6mu8NR")),_=await _,o(),_);(!d.value||d.value.length===0)&&console.error("Agreement configuration data not found");const y=z(!1);be({o:()=>y.value=!y.value});const p=z(!1),n=z(null),B=V(()=>[{id:"agreement",value:"agreement",label:"Policy Agreements",defaultOpen:!0,list:d.value||[]}]);async function e(i,t){p.value=!0,n.value=t,await ne({path:"/agreement",query:{type:i,item:t.type}},{replace:!0}),await ie(),document.getElementById("__read_area__")?.scrollTo({top:0,behavior:"smooth"}),p.value=!1}return ee(()=>x.query,i=>{const t=i.type,g=i.item,f=d.value||[];if(t==="agreement"&&g){const $=f.find(S=>S.type===g);if($){n.value=$;return}}f[0]&&!n.value&&(n.value=f[0])},{immediate:!0}),(i,t)=>{const g=ae,f=Ae,$=$e,S=ve,P=ye,H=se,F=ge,j=he,K=te("dompurify-html");return l(),c("div",Se,[r("div",qe,[s(g,{icon:"tabler:list",ui:{base:"rounded-s-none"},onClick:t[0]||(t[0]=m=>y.value=!0)})]),s(F,{open:a(y),"onUpdate:open":t[2]||(t[2]=m=>oe(y)?y.value=m:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:u(()=>[r("div",Te,[r("div",Ie,[s(g,{icon:"tabler:text-wrap",ui:{base:"rounded-s-none"},onClick:t[1]||(t[1]=m=>y.value=!1)})]),r("div",Be,[s(S,{class:"h-full px-4"},{default:u(()=>[s($,{items:a(B),type:"multiple",style:{"--ui-border":"transparent"},"default-value":["agreement"],ui:{trigger:"text-md",trailingIcon:"size-4"}},{content:u(({item:m})=>[a(w)?(l(),c("div",De,[s(f,{class:"h-6 w-full"}),s(f,{class:"h-6 w-full"}),s(f,{class:"h-6 w-full"})])):(l(),c("div",ze,[(l(!0),c(q,null,T(m.list,h=>(l(),c("div",{key:h.type,class:v(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":h.type===a(n)?.type}]),onClick:()=>{e(m.id,h),y.value=!1}},C(h.title),11,Oe))),128))]))]),_:1},8,["items"])]),_:1})]),r("div",Ve,[s(H,null,{default:u(()=>[s(P)]),_:1})])])]),_:1},8,["open"]),r("div",Pe,[r("div",He,[r("div",Ne,[s(S,{class:"h-full pr-4 pl-2"},{default:u(()=>[s($,{items:a(B),type:"multiple","default-value":["agreement"],style:{"--ui-border":"transparent"},ui:{trailingIcon:"size-4"}},{content:u(({item:m})=>[a(w)?(l(),c("div",Re,[s(f,{class:"h-6 w-full"}),s(f,{class:"h-6 w-full"}),s(f,{class:"h-6 w-full"})])):(l(),c("div",Ue,[(l(!0),c(q,null,T(m.list,h=>(l(),c("div",{key:h.type,class:v(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":h.type===a(n)?.type}]),onClick:Ye=>e(m.id,h)},C(h.title),11,Ee))),128))]))]),_:1},8,["items"])]),_:1})]),r("div",Le,[s(H,null,{default:u(()=>[s(P)]),_:1})])])]),r("div",Fe,[r("div",je,[a(p)?(l(),c("div",Ke,[s(f,{class:"h-6 w-[250px]"}),s(f,{class:"h-4 w-[200px]"}),r("div",Ge,[(l(),c(q,null,T(15,m=>s(f,{key:m,class:"h-4 w-full"})),64))])])):(l(),c("div",Me,[r("h1",We,C(a(n)?.title),1),r("p",Je,[O(C(i.$t("common.updateAt"))+": ",1),a(n)?.updateAt?(l(),A(j,{key:0,datetime:a(n).updateAt,mode:"datetime"},null,8,["datetime"])):(l(),c("span",Qe,"-"))]),le(r("div",Xe,null,512),[[K,a(n)?.content]])]))])])])}}});export{mt as default};
