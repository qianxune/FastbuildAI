import{v as w,l as B,a3 as C,a5 as S,b4 as b,s as $,f as M,h as N,x as R,o as i,A as m,d as l,M as s,D as d,E as V,Q as e,R as a,S as j,T as z}from"#entry";import{_ as D}from"./C5NBOd-j.js";import{u as E}from"./CnmASW3b.js";import"./zwMu3NXe.js";import"./DKtAdiWa.js";import"./Cci7V6xo.js";import"./TGMj2fgS.js";import"./DvyFBN4o.js";import"./DNsHFHOw.js";import"./C9ze5RlS.js";const F={key:0,class:"flex items-center justify-center",style:{height:"200px"}},L={key:1,class:"space-y-4 p-4"},T={class:"flex items-start gap-4"},U={class:"text-muted-foreground min-w-20 text-left text-sm"},A={class:"text-secondary-foreground text-left text-sm font-medium"},G={class:"flex items-center gap-4"},Q={class:"text-muted-foreground min-w-20 text-left text-sm"},q={class:"flex flex-1 items-center justify-between gap-2"},H={class:"text-secondary-foreground text-left text-sm font-medium"},ot=w({__name:"system-info-modal",emits:["close"],setup(J,{emit:u}){const f=u,{copy:p}=E(),{t:o}=B(),_=C(),{lockFn:y,isLock:x}=S(async()=>{try{return await b()}catch(t){return console.error("获取系统信息失败:",t),null}}),n=$(null),h=M(()=>{const t=n.value?.systemId;if(!t||t.length<=12)return t||"-";const r=t.substring(0,6),c=t.substring(t.length-6);return`${r}****${c}`}),g=()=>{f("close",!1)},I=async()=>{n.value?.systemId&&(await p(n.value.systemId),_.success(o("console-common.messages.copySuccess")))};return N(async()=>{n.value=await y()}),(t,r)=>{const c=V,v=j,k=D;return i(),R(k,{title:s(o)("layouts.systemInfo.title"),description:s(o)("layouts.systemInfo.description"),ui:{content:"max-w-md"},onClose:g},{default:m(()=>[s(x)?(i(),l("div",F,[d(c,{name:"i-lucide-loader-2",class:"size-8 animate-spin"})])):(i(),l("div",L,[e("div",T,[e("span",U,a(s(o)("layouts.systemInfo.version")),1),e("span",A,a(s(n)?.version||"-"),1)]),e("div",G,[e("span",Q,a(s(o)("layouts.systemInfo.systemId")),1),e("div",q,[e("span",H,a(s(h)),1),d(v,{size:"sm",class:"flex-none",variant:"soft",icon:"i-lucide-copy",onClick:I},{default:m(()=>[z(a(s(o)("console-common.copy")),1)]),_:1})])])]))]),_:1},8,["title","description"])}}});export{ot as default};
