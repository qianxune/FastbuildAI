const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dder6JY3.js","./pVZZS-72.js","./C5NBOd-j.js","./zwMu3NXe.js","./DKtAdiWa.js","./Cci7V6xo.js","./TGMj2fgS.js","./DvyFBN4o.js","./DNsHFHOw.js","./C9ze5RlS.js","./CnmASW3b.js"])))=>i.map(i=>d[i]);
import{ad as Y,aZ as X,a_ as $,v as j,s as K,ag as G,l as Q,k as Z,ab as w,aO as q,n as F,f as O,bv as H,bw as J,ac as L,d as f,o as i,O as h,Q as c,M as l,D as I,bx as ee,R as b,A as P,x as C,$ as N,ak as te,E as oe,T as ne,by as le,U as ae,p as se,_ as ie}from"#entry";import{_ as ce}from"./BJDY5_Md.js";import{a as re,b as ue}from"./CnmASW3b.js";import{u as me}from"./Cv_BLBat.js";import{d as de}from"./DNsHFHOw.js";import"./BA_H9tzV.js";import"./DAuIF7bR.js";import"./DvyFBN4o.js";import"./z2CrSoMD.js";import"./Cci7V6xo.js";import"./BU4xloRu.js";import"./BCKMtGRm.js";import"./TGMj2fgS.js";import"./By0PsbOB.js";import"./f0n4UPto.js";import"./C9ze5RlS.js";import"./BN9c5Gyj.js";import"./CFMQFib2.js";import"./DlAUqK2U.js";import"./DlA8nJ0P.js";import"./BgDSw5dl.js";import"./Kn2pa5Gb.js";const pe=["red","orange","yellow","lime","green","teal","cyan","blue","indigo","violet","purple","fuchsia","pink","black"],fe=["slate","gray","zinc","neutral","stone"],he={red:"common.theme.red",orange:"common.theme.orange",yellow:"common.theme.yellow",lime:"common.theme.lime",green:"common.theme.green",teal:"common.theme.teal",cyan:"common.theme.cyan",blue:"common.theme.blue",indigo:"common.theme.indigo",violet:"common.theme.violet",purple:"common.theme.purple",fuchsia:"common.theme.fuchsia",pink:"common.theme.pink",black:"common.theme.black"},ge={slate:"common.theme.slate",gray:"common.theme.gray",zinc:"common.theme.zinc",neutral:"common.theme.neutral",stone:"common.theme.stone"};function E(a){return a.startsWith("/extensions")}function A(a,S,r=!1){return S||r||E(a)}function ye(){const a=X(),S=Y(),r=a.public.isPlugin,g=a.public.appBaseURL||"/",M=n=>typeof n=="string"?n:S.resolve(n).href,v=n=>n.startsWith(g)?n:n.replace(new RegExp(`^${g}`),"");return{smartNavigate:(n,t)=>{const{newTab:k=!1,forceLocation:U=!1}=t||{},o=M(n);if(o.startsWith("http://")||o.startsWith("https://")){k?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o;return}if(k){const R=A(o,r,U)?o:r?`${g}${o}`.replace(/\/+/g,"/"):o;window.open(R,"_blank","noopener,noreferrer");return}A(o,r,U)?window.location.href=v(o):$(n)},smartReplace:n=>{const t=M(n);A(t,r)?window.location.replace(t):$(n,{replace:!0})},toAbsolutePath:n=>{if(n.startsWith("http://")||n.startsWith("https://"))return n;if(A(n,r)){const t=v(n),k=t.startsWith("/")?t:`/${t}`;return`${window.location.origin}${k}`}return n},isPlugin:r,baseURL:g,isExtensionPath:E}}const be={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},ve={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},ke={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},xe={key:0,class:"truncate"},_e={class:"ml-2 flex flex-col text-left"},we={class:"block w-35 truncate text-sm font-medium"},Ie={class:"text-muted-foreground text-xs"},Se={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},Le={class:"text-sm"},Pe={class:"flex flex-1 items-center gap-2"},Me={key:0,class:"flex w-[100px] flex-col"},Ue={class:"truncate text-sm font-medium"},Ce={class:"text-secondary-foreground truncate text-xs"},Ae={key:0,class:"flex items-center"},tt=j({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(a,{emit:S}){const r=se(()=>ie(()=>import("./Dder6JY3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),g=a,M=S,v=g.mode==="sidebar"?re(g,"collapsed",M):K(!1),p=me(),{store:d}=ue(),u=G(),{locale:n,t,setLocale:k}=Q(),{smartNavigate:U}=ye(),o=Z(),R=w("nuxt-ui-language"),x=q(!1),z=F(),B=async()=>{await z.create(r).open()},T=O(()=>d.value==="auto"?{label:t("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:d.value==="light"?{label:t("layouts.theme.light"),icon:"i-lucide-sun"}:{label:t("layouts.theme.dark"),icon:"i-lucide-moon"}),W=O(()=>[[{label:"profile"}],[{label:p.consoleLayoutMode==="side"?t("layouts.sidebar"):t("layouts.mixture"),icon:p.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:t("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:p.consoleLayoutMode==="side",onSelect(e){e.preventDefault(),p.consoleLayoutMode="side",w(L.LAYOUT_MODE).value="side"}},{label:t("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:p.consoleLayoutMode==="mixture",onUpdateChecked(e){e&&(p.consoleLayoutMode="mixture",w(L.LAYOUT_MODE).value="mixture")},onSelect(e){e.preventDefault()}}]},{label:t("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:t("layouts.theme.color"),slot:"chip",chip:u.ui.colors.primary,content:{align:"center",collisionPadding:16},children:pe.map(e=>({label:t(he[e]),chip:e,slot:"chip",checked:u.ui.colors.primary===e,type:"checkbox",onSelect:m=>{m.preventDefault();const y=w(L.NUXT_UI_BLACK_AS_PRIMARY),_=w(L.NUXT_UI_PRIMARY);if(_.value=e,u.ui.colors.primary=e,e==="black"){u.theme.blackAsPrimary=!0,y.value=!0,u.ui.colors.primary=e;return}u.theme.blackAsPrimary=!1,y.value=!1}}))},{label:t("layouts.theme.neutralLabel"),slot:"chip",chip:u.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:fe.map(e=>({label:t(ge[e]),chip:e,slot:"chip",type:"checkbox",checked:u.ui.colors.neutral===e,onSelect:m=>{m.preventDefault();const y=w(L.NUXT_UI_NEUTRAL);y.value=e,u.ui.colors.neutral=e}}))}]},{label:T.value.label,icon:T.value.icon,children:[{label:t("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:d.value==="auto",onSelect(e){e.preventDefault(),d.value="auto"}},{label:t("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:d.value==="light",onSelect(e){e.preventDefault(),d.value="light"}},{label:t("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:d.value==="dark",onUpdateChecked(e){e&&(d.value="dark")},onSelect(e){e.preventDefault()}}]},{label:J(n.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:H.map(e=>({label:`${e.name}`,type:"checkbox",slot:"lang",checked:n.value===e.code,onSelect(m){m.preventDefault(),k(e.code),R.value=e.code}}))}],[{label:t("layouts.systemInfo.title"),icon:"i-tabler-info-circle",onSelect(e){e.preventDefault(),B()}},{label:t("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:t("layouts.logout"),icon:"i-lucide-log-out",onSelect(e){e.preventDefault(),o.logout()}}]]);return de({o:()=>x.value=!x.value}),(e,m)=>{const y=ee,_=oe,D=te,V=ce;return i(),f("div",{class:N(["flex flex-col gap-1",a.collapsed?"px-1":"px-1.5"])},[l(p).consoleLayoutMode==="side"?(i(),f("div",be,[c("div",ve,[c("a",ke,[I(y,{name:"i-lucide-external-link"}),a.collapsed?h("",!0):(i(),f("span",xe,b(l(t)("layouts.officeLink")),1))])])])):h("",!0),c("div",{class:N(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":l(x)}])},[I(V,{open:l(x),"onUpdate:open":m[1]||(m[1]=s=>ae(x)?x.value=s:null),items:l(W),content:a.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:a.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:a.collapsed||a.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":P(({item:s})=>[c("span",{style:le({backgroundColor:s.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":P(({item:s})=>[s.children?(i(),C(_,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):h("",!0)]),"lang-leading":P(({item:s})=>[ne(b(s.icon),1)]),item:P(({item:s})=>[s?.label==="profile"?(i(),f("div",{key:0,class:"flex px-1 pt-1.5",onClick:m[0]||(m[0]=Re=>l(U)(`/profile/${l(o).userInfo?.id}`))},[I(D,{src:l(o).userInfo?.avatar,alt:l(o).userInfo?.nickname,icon:l(o).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),c("div",_e,[c("span",we,b(l(o).userInfo?.nickname),1),c("span",Ie,b(l(o).userInfo?.username),1)])])):(i(),f("div",Se,[I(_,{name:s.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),c("span",Le,b(s.label),1)])),s.children?(i(),C(_,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):h("",!0),s.checked?(i(),C(_,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):h("",!0)]),default:P(()=>[a.mode==="sidebar"?(i(),f("div",{key:0,class:N(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":l(v)}])},[c("div",Pe,[I(D,{src:l(o).userInfo?.avatar,alt:l(o).userInfo?.nickname,icon:l(o).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),l(v)?h("",!0):(i(),f("div",Me,[c("span",Ue,b(l(o).userInfo?.nickname),1),c("span",Ce,b(l(o).userInfo?.username),1)]))]),l(v)?h("",!0):(i(),f("div",Ae,[I(y,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):a.mode==="mixture"?(i(),C(D,{key:1,src:l(o).userInfo?.avatar,alt:l(o).userInfo?.nickname,icon:l(o).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])):h("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{tt as default};
