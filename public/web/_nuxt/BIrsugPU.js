import{d as L,i as N,s as w,q as V,f as x,o as a,w as u,c,g as t,x as e,t as r,z as o,_ as j,y as h,B as M,G,A as g,F as $,E as B,D as P}from"#entry";import{_ as W}from"./o4ws_w_T.js";import{_ as F}from"./DBiaUVBh.js";import{_ as R}from"./mTXQFtMl.js";import{E as l}from"./C_Nw1JQK.js";import{f as S,g as q}from"./CsRstiIM.js";import"./D9UsdH-b.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./CuVAPZQ8.js";import"./Z7qkLoXK.js";import"./DXt_wpdg.js";const H={key:0,class:"flex flex-col pr-4",style:{width:"400px"}},X={class:"flex items-center justify-between py-2"},J={class:"text-secondary-foreground text-xl font-bold"},K={class:"flex-1 overflow-y-auto"},O={class:"flex flex-col space-y-6"},Q={class:"mt-6 flex items-start gap-4"},Y={class:"flex-1"},Z={class:"text-secondary-foreground flex items-center gap-2 text-base"},ee={class:"text-accent-foreground my-2 text-sm dark:text-gray-400"},te={class:"flex items-center gap-4"},se={class:"flex gap-1"},oe={class:"text-secondary-foreground mb-2 font-medium"},ne={class:"text-accent-foreground dark:text-gray-400"},ae={class:"text-secondary-foreground mb-2 font-medium"},ie={class:"flex items-center gap-2"},re={class:"text-accent-foreground dark:text-gray-400"},ce={key:0,class:"text-error flex items-center gap-1"},le={class:"text-xs leading-none"},de={class:"text-secondary-foreground mb-2 font-medium"},me={class:"text-accent-foreground dark:text-gray-400"},ue={class:"text-secondary-foreground mb-2 font-medium"},_e={class:"text-accent-foreground dark:text-gray-400"},fe={key:0},pe={class:"text-secondary-foreground mb-2 font-medium"},xe={class:"space-y-3"},he={class:"mb-1 flex items-center justify-between"},ge={class:"text-secondary-foreground font-medium"},ye={class:"text-muted-foreground text-sm dark:text-gray-400"},ve={class:"text-accent-foreground text-sm dark:text-gray-400"},ke={class:"flex gap-3 pb-4"},be={key:1,class:"flex h-full w-full items-center justify-center",style:{width:"400px"}},Ne=L({__name:"details",props:{isIdentifier:{type:Boolean},extensionId:{},identifier:{}},emits:["close"],setup(I,{emit:T}){const E=T,_=I,{t:d}=N(),m=w(!0),s=w(null),A=n=>({[l.WEB]:d("extensions.modal.terminalTypes.web"),[l.WEIXIN]:d("extensions.modal.terminalTypes.weixin"),[l.H5]:d("extensions.modal.terminalTypes.h5"),[l.MP]:d("extensions.modal.terminalTypes.mp"),[l.API]:d("extensions.modal.terminalTypes.api")})[n]||"未知",z=async()=>{const n=_.isIdentifier?await S(_.extensionId):await q(_.identifier);s.value=n};function y(){E("close"),m.value=!1}return V(()=>{z()}),(n,f)=>{const v=j,p=M,C=G,k=W,b=F,D=R;return a(),x(D,{open:t(m),"onUpdate:open":f[0]||(f[0]=i=>P(m)?m.value=i:null),"set-background-color-on-scale":!1,direction:"right","should-scale-background":""},{content:u(()=>[t(s)?(a(),c("div",H,[e("div",X,[e("h2",J,o(n.$t("extensions.market.detail")),1),r(v,{color:"neutral",variant:"ghost",icon:"i-lucide-x",onClick:y})]),e("div",K,[e("div",O,[e("div",Q,[r(C,{src:t(s).icon,alt:t(s).name,size:"3xl",ui:{root:"rounded-lg"}},{fallback:u(()=>[r(p,{name:"i-lucide-puzzle",class:"text-muted-foreground h-8 w-8"})]),_:1},8,["src","alt"]),e("div",Y,[e("h3",Z,[g(o(t(s).name)+" ",1),r(k,{size:"sm"},{default:u(()=>[g(o(n.$t("extensions.market.officialTeam")),1)]),_:1})]),e("p",ee,o(n.$t("extensions.market.author"))+": "+o(t(s)?.author?.name||t(s)?.user),1),e("div",te,[e("div",se,[(a(!0),c($,null,B(t(s).supportTerminal,i=>(a(),x(k,{color:i===t(l).WEB?"success":i===t(l).API?"info":"neutral",variant:"soft",label:A(i)},null,8,["color","label"]))),256))])])])]),e("div",null,[e("h4",oe,o(n.$t("extensions.develop.form.version")),1),e("p",ne,o(t(s).version),1)]),e("div",null,[e("h4",ae,o(n.$t("extensions.market.platformVersion")),1),e("div",ie,[e("span",re,o(t(s).engine),1),t(s).isCompatible?h("",!0):(a(),c("div",ce,[r(p,{name:"i-lucide-circle-alert",class:"size-3.5 cursor-pointer"}),e("span",le,o(n.$t("extensions.manage.incompatible")),1)]))])]),e("div",null,[e("h4",de,o(n.$t("extensions.market.description")),1),e("p",me,o(t(s).description||t(s).describe),1)]),e("div",null,[e("h4",ue,o(n.$t("extensions.market.updateTime")),1),e("p",_e,[t(s).updatedAt?(a(),x(b,{key:0,datetime:t(s).updatedAt||t(s).createdAt,mode:"datetime"},null,8,["datetime"])):h("",!0)])]),t(s).versionLists&&t(s).versionLists.length>0?(a(),c("div",fe,[e("h4",pe,o(n.$t("extensions.market.changelog")),1),e("div",xe,[(a(!0),c($,null,B(t(s).versionLists.slice(0,3),(i,U)=>(a(),c("div",{key:U,class:"bg-muted rounded-lg p-3"},[e("div",he,[e("span",ge," v"+o(i.version),1),e("span",ye,[r(b,{datetime:i.createdAt,mode:"date"},null,8,["datetime"])])]),e("p",ve,o(i.explain),1)]))),128))])])):h("",!0)])]),e("div",ke,[r(v,{color:"neutral",variant:"outline",class:"flex-1 justify-center",size:"lg",onClick:y},{default:u(()=>[g(o(n.$t("console-common.close")),1)]),_:1})])])):(a(),c("div",be,[r(p,{name:"i-lucide-package-search",class:"h-12 w-12 text-gray-400"})]))]),_:1},8,["open"])}}});export{Ne as default};
