import{d as C,av as S,i as B,c,o as m,x as t,v as h,t as i,g as o,w as u,_ as M,B as U,z as a,aY as $}from"#entry";import{_ as A}from"./CBTz8tdX.js";import{_ as D}from"./DbqqhwXM.js";import{a as F}from"./DUoaAyrs.js";import{u as I}from"./BlyoSzaa.js";import{u as T}from"./CxvgZo8z.js";const V={class:"mb-3 flex items-start gap-3"},N={class:"border-default bg-primary-50 dark:bg-primary-600! flex size-10 flex-none items-center justify-center rounded-lg border"},R={class:"flex min-w-0 flex-1 flex-col"},j={class:"text-foreground truncate text-sm font-medium"},q={class:"text-muted-foreground mt-1 text-xs"},E={class:"text-muted-foreground mb-4 h-10 pr-8 text-xs"},L={key:0,class:"line-clamp-2 overflow-hidden"},P={key:1,class:"line-clamp-2 overflow-hidden"},Y={class:"text-muted-foreground mt-1 flex gap-6 text-xs"},G={class:"flex items-center"},H={class:"ml-3 text-xs"},J={class:"flex items-center"},K={class:"ml-3 text-xs"},te=C({__name:"dataset-card",props:{dataset:{}},emits:["delete","settings","retry"],setup(s,{emit:v}){const n=s,d=v,b=S(),{t:e}=B(),{hasAccessByCodes:l}=I(),f={vector:{value:e("ai-datasets.backend.retrieval.vector"),color:"primary"},fullText:{value:e("ai-datasets.backend.retrieval.fullText"),color:"success"},hybrid:{value:e("ai-datasets.backend.retrieval.hybrid"),color:"warning"}},g=()=>{b.push(T("ai-datasets-documents:list",{id:n.dataset.id}))},y=[l(["ai-datasets:update"])?{label:e("ai-datasets.backend.menu.settings"),color:"primary",onSelect:()=>d("settings",n.dataset)}:null,l(["ai-datasets:delete"])?{label:e("console-common.delete"),color:"error",onSelect:()=>d("delete",n.dataset)}:null,l(["ai-datasets:retry"])?{label:e("ai-datasets.backend.dataset.retry.title"),color:"warning",onSelect:()=>d("retry",n.dataset)}:null].filter(Boolean);return(p,r)=>{const k=M,w=A,z=U,x=$,_=D;return m(),c("div",{class:"group border-default relative cursor-pointer rounded-lg border p-4 transition-all duration-200 hover:shadow-lg",onClick:g},[t("div",{class:"absolute right-3 bottom-3 z-10 opacity-0 transition-opacity duration-200 group-hover:opacity-100",onClick:r[1]||(r[1]=h(()=>{},["stop"]))},[i(w,{items:o(y),popper:{placement:"bottom-end"}},{default:u(()=>[i(k,{icon:"i-heroicons-ellipsis-vertical",size:"xs",color:"neutral",variant:"ghost",class:"opacity-70 hover:opacity-100",onClick:r[0]||(r[0]=h(()=>{},["stop"]))})]),_:1},8,["items"])]),t("div",V,[t("div",N,[i(z,{name:"i-lucide-folder",class:"text-primary-500 dark:text-primary-50 h-6 w-6"})]),t("div",R,[t("h3",j,a(s.dataset.name),1),t("div",q,a(s.dataset.documentCount)+" "+a(o(e)("ai-datasets.backend.menu.documents"))+" · "+a(s.dataset.chunkCount)+" "+a(o(e)("ai-datasets.backend.menu.segments"))+" · 0 "+a(o(e)("ai-datasets.backend.menu.relatedApplications")),1)])]),t("div",E,[s.dataset.description?(m(),c("p",L,a(s.dataset.description),1)):(m(),c("p",P," useful for when you want to answer queries about the "+a(s.dataset.name),1))]),t("div",Y,[i(_,{text:o(e)("ai-datasets.backend.dataset.retrievalMode"),"delay-duration":0},{default:u(()=>[t("div",G,[i(x,{color:f[s.dataset.retrievalMode].color,size:"sm"},null,8,["color"]),t("span",H,a(f[s.dataset.retrievalMode].value),1)])]),_:1},8,["text"]),i(_,{text:o(e)("ai-datasets.backend.dataset.table.storageSize"),"delay-duration":0},{default:u(()=>[t("div",J,[i(x,{color:"neutral",size:"sm"}),t("span",K,a(o(e)("ai-datasets.backend.dataset.table.storageSize"))+"： "+a(("formatFileSize"in p?p.formatFileSize:o(F))(s.dataset.storageSize*1)),1)])]),_:1},8,["text"])])])}}});export{te as _};
