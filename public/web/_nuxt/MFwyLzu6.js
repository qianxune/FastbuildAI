import{d as I,l as x,a2 as b,cq as S,n as V,q as W,J as R,aV as j,p as X,cr as L,f as O,o as T,w as D,x as Y,C as H,a0 as J}from"#entry";import{W as N}from"./BJfIXs0j.js";import{_ as U}from"./abPSHzII.js";const G=I({__name:"content",props:{color:{default:"#FFF"},quantity:{default:100},staticity:{default:50},ease:{default:50},class:{default:""},style:{}},setup(F){const i=F,r=x(null),f=x(null),u=x(null),m=x([]),y=b({x:0,y:0}),e=b({w:0,h:0}),{x:w,y:z}=S(),{pixelRatio:v}=L();let d=null;const k=V(()=>{let a=i.color.replace(/^#/,"");a.length===3&&(a=a.split("").map(l=>l+l).join(""));const t=parseInt(a,16),s=t>>16&255,n=t>>8&255,o=t&255;return`${s} ${n} ${o}`});W(()=>{r.value&&(u.value=r.value.getContext("2d")),h(),_(),window.addEventListener("resize",h),f.value&&(d=new ResizeObserver(()=>{R(()=>{h()})}),d.observe(f.value))}),j(()=>{window.removeEventListener("resize",h),d&&(d.disconnect(),d=null)}),X([w,z],()=>{B()}),X(()=>i.style,()=>{R(()=>{h()})},{deep:!0});function h(){q(),A()}function B(){if(r.value){const a=r.value.getBoundingClientRect(),{w:t,h:s}=e,n=w.value-a.left-t/2,o=z.value-a.top-s/2;n<t/2&&n>-t/2&&o<s/2&&o>-s/2&&(y.x=n,y.y=o)}}function q(){f.value&&r.value&&u.value&&(m.value.length=0,e.w=f.value.offsetWidth,e.h=f.value.offsetHeight,r.value.width=e.w*v.value,r.value.height=e.h*v.value,r.value.style.width=e.w+"px",r.value.style.height=e.h+"px",u.value.scale(v.value,v.value))}function C(){const a=Math.floor(Math.random()*e.w),t=Math.floor(Math.random()*e.h),s=0,n=0,o=Math.floor(Math.random()*2)+1,l=0,p=parseFloat((Math.random()*.6+.1).toFixed(1)),g=(Math.random()-.5)*.2,P=(Math.random()-.5)*.2,$=.1+Math.random()*4;return{x:a,y:t,translateX:s,translateY:n,size:o,alpha:l,targetAlpha:p,dx:g,dy:P,magnetism:$}}function c(a,t=!1){if(u.value){const{x:s,y:n,translateX:o,translateY:l,size:p,alpha:g}=a;u.value.translate(o,l),u.value.beginPath(),u.value.arc(s,n,p,0,2*Math.PI),u.value.fillStyle=`rgba(${k.value.split(" ").join(", ")}, ${g})`,u.value.fill(),u.value.setTransform(v.value,0,0,v.value,0,0),t||m.value.push(a)}}function M(){u.value&&u.value.clearRect(0,0,e.w,e.h)}function A(){M();const a=i.quantity;for(let t=0;t<a;t++){const s=C();c(s)}}function E(a,t,s,n,o){const l=(a-t)*(o-n)/(s-t)+n;return l>0?l:0}function _(){M(),m.value.forEach((a,t)=>{const n=[a.x+a.translateX-a.size,e.w-a.x-a.translateX-a.size,a.y+a.translateY-a.size,e.h-a.y-a.translateY-a.size].reduce((l,p)=>Math.min(l,p)),o=parseFloat(E(n,0,20,0,1).toFixed(2));if(o>1?(a.alpha+=.02,a.alpha>a.targetAlpha&&(a.alpha=a.targetAlpha)):a.alpha=a.targetAlpha*o,a.x+=a.dx,a.y+=a.dy,a.translateX+=(y.x/(i.staticity/a.magnetism)-a.translateX)/i.ease,a.translateY+=(y.y/(i.staticity/a.magnetism)-a.translateY)/i.ease,a.x<-a.size||a.x>e.w+a.size||a.y<-a.size||a.y>e.h+a.size){m.value.splice(t,1);const l=C();c(l)}else c({...a,x:a.x,y:a.y,translateX:a.translateX,translateY:a.translateY,alpha:a.alpha},!0)}),window.requestAnimationFrame(_)}return(a,t)=>(T(),O(N,{style:J(i.style),"override-bg-color":!0,"custom-class":"particles-background-content"},{default:D(({style:s})=>[Y("div",{ref_key:"canvasContainerRef",ref:f,class:H([i.class,"particles-container"]),"aria-hidden":"true"},[Y("canvas",{ref_key:"canvasRef",ref:r},null,512)],2)]),_:1},8,["style"]))}}),aa=U(G,[["__scopeId","data-v-c18452ea"]]);export{aa as default};
