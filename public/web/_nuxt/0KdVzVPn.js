import{d as C,i as V,l as v,p as z,c as p,o as k,x as e,t as a,B as W,z as i,g as t,w as r,C as $,A as h,_ as B,F as x}from"#entry";import{_ as F}from"./Co1Njv5N.js";import{_ as I}from"./D_3bTjYR.js";import R from"./cd55qm53.js";import{L as N}from"./BherOyCc.js";import"./D9sX2Qi6.js";import"./CtosDvS0.js";import"./CAQVAH0V.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./Deu6qIfg.js";import"./DBEJUH-Z.js";import"./CuVAPZQ8.js";const q={class:"custom-link-provider flex h-full flex-col"},A={class:"flex-1 overflow-y-auto p-8"},E={class:"mx-auto max-w-lg space-y-8"},H={class:"flex items-center text-left"},J={class:"bg-primary/10 mr-4 flex size-16 items-center justify-center rounded-2xl"},O={class:"flex w-full flex-1 flex-col"},j={class:"text-foreground text-xl font-semibold"},D={class:"text-muted-foreground mt-2 text-sm"},G={class:"space-y-6"},M={class:"flex gap-3"},S={class:"bg-muted/50 text-muted-foreground rounded-lg p-4 text-xs"},K={class:"flex items-start gap-2"},Q={class:"space-y-2"},X={class:"text-foreground font-medium"},Y={class:"ml-2 space-y-1"},de=C({__name:"custom-link-provider",props:{selected:{default:null}},emits:["select"],setup(g,{emit:U}){const{t:o}=V(),L=g,P=U,l=v(""),s=v("internal"),b=()=>{if(!l.value)return;const n=s.value==="internal"?`/webview/${encodeURIComponent(l.value)}`:l.value;P("select",{type:N.CUSTOM,path:n,name:l.value})},w=()=>{l.value="",s.value="internal"},m=n=>{try{return s.value==="internal"?n.startsWith("/")?!0:n.startsWith("http://")||n.startsWith("https://")?(new URL(n),!0):!1:n.startsWith("http://")||n.startsWith("https://")?(new URL(n),!0):!1}catch{return!1}};return z(()=>L.selected,n=>{if(n)if(n.startsWith("/webview/")){const c=n.replace("/webview/","");try{l.value=decodeURIComponent(c),s.value="internal"}catch{l.value=c,s.value="internal"}}else l.value=n,s.value="external"},{immediate:!0}),(n,c)=>{const u=W,y=F,_=I,T=R,f=B;return k(),p("div",q,[e("div",A,[e("div",E,[e("div",H,[e("div",J,[a(u,{name:"i-heroicons-link",class:"text-primary h-8 w-8"})]),e("div",O,[e("h3",j,i(t(o)("console-common.linkPicker.customLink.title")),1),e("p",D,i(t(o)("console-common.linkPicker.customLink.description")),1)])]),e("div",G,[a(_,{label:t(o)("console-common.linkPicker.customLink.linkType"),required:""},{default:r(()=>[a(y,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=d=>s.value=d),items:[{value:"internal",label:t(o)("console-common.linkPicker.customLink.internalJump")},{value:"external",label:t(o)("console-common.linkPicker.customLink.externalJump")}]},null,8,["modelValue","items"])]),_:1},8,["label"]),a(_,{label:t(o)("console-common.linkPicker.customLink.linkAddress"),required:""},{help:r(()=>[e("span",{class:$(["text-xs",l.value&&!m(l.value)?"text-error":"text-muted-foreground"])},i(l.value&&!m(l.value)?t(o)("console-common.linkPicker.customLink.invalidUrl"):s.value==="internal"?t(o)("console-common.linkPicker.customLink.internalUrlHelp"):t(o)("console-common.linkPicker.customLink.externalUrlHelp")),3)]),default:r(()=>[a(T,{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=d=>l.value=d),placeholder:t(o)("console-common.linkPicker.customLink.linkPlaceholder"),size:"lg",color:l.value&&!m(l.value)?"error":void 0,ui:{root:"w-full"}},null,8,["modelValue","placeholder","color"])]),_:1},8,["label"])]),e("div",M,[a(f,{disabled:!l.value||!m(l.value),color:"primary",size:"lg",class:"flex-1",onClick:b},{default:r(()=>[a(u,{name:"i-heroicons-check",class:"mr-2 h-4 w-4"}),h(" "+i(t(o)("console-common.linkPicker.customLink.confirmSelect")),1)]),_:1},8,["disabled"]),a(f,{color:"neutral",variant:"outline",size:"lg",onClick:w},{default:r(()=>[a(u,{name:"i-heroicons-arrow-path",class:"mr-2 h-4 w-4"}),h(" "+i(t(o)("console-common.linkPicker.customLink.clear")),1)]),_:1})]),e("div",S,[e("div",K,[a(u,{name:"i-heroicons-light-bulb",class:"text-primary mt-0.5 h-4 w-4 flex-none"}),e("div",Q,[e("p",X,i(s.value==="internal"?t(o)("console-common.linkPicker.customLink.internalUsageTips.title"):t(o)("console-common.linkPicker.customLink.externalUsageTips.title")),1),e("ul",Y,[s.value==="internal"?(k(),p(x,{key:0},[e("li",null," • "+i(t(o)("console-common.linkPicker.customLink.internalUsageTips.relativePath")),1),e("li",null," • "+i(t(o)("console-common.linkPicker.customLink.internalUsageTips.absoluteUrl")),1),e("li",null," • "+i(t(o)("console-common.linkPicker.customLink.internalUsageTips.webviewEmbed")),1)],64)):(k(),p(x,{key:1},[e("li",null," • "+i(t(o)("console-common.linkPicker.customLink.externalUsageTips.httpOnly")),1),e("li",null," • "+i(t(o)("console-common.linkPicker.customLink.externalUsageTips.newTab")),1)],64))])])])])])])])}}});export{de as default};
