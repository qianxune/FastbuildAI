import{d as $,i as C,s as w,aN as N,q as V,f as p,o as n,w as c,c as a,y as b,g as e,t as r,B as F,x as s,z as o,A as _,_ as M,at as T}from"#entry";import{_ as U}from"./o4ws_w_T.js";import{_ as j}from"./DBiaUVBh.js";import{_ as z}from"./Ghlq83yM.js";import{a as I}from"./BdGWwroR.js";import"./DQMjdCEn.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./CuVAPZQ8.js";import"./Z7qkLoXK.js";import"./CjE5iPSn.js";import"./D9UsdH-b.js";import"./MCK2d4XT.js";import"./EK7Wbu3-.js";const L={key:0,class:"flex items-center justify-center py-10"},q={key:1,class:"space-y-6 p-2"},E={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},G={class:"text-muted-foreground text-sm font-medium"},P={class:"mt-1 font-mono text-sm"},R={class:"text-muted-foreground text-sm font-medium"},S={class:"mt-1 text-sm"},H={class:"text-muted-foreground text-sm font-medium"},J={class:"mt-1"},K={class:"text-muted-foreground text-sm font-medium"},O={class:"mt-1"},Q={class:"text-muted-foreground text-sm font-medium"},W={class:"mt-1 text-sm"},X={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Y={class:"text-muted-foreground text-sm font-medium"},Z={class:"mt-1 text-sm"},ee={key:1},se={class:"text-muted-foreground text-sm font-medium"},te={class:"mt-1 text-sm"},oe={key:1},ie={class:"mt-6 flex justify-end"},ge=$({__name:"edit",props:{code:{}},emits:["close"],setup(y,{emit:x}){const u=y,l=x,{t}=C(),i=w(null),{lockFn:g,isLock:h}=N(async()=>{try{const m=await I(u.code);i.value=m}catch(m){console.error("获取权限详情失败:",m),T().error(t("system-perms.permission.getDetailFailed")),l("close")}});return V(()=>u.code&&g()),(m,d)=>{const k=F,f=U,v=j,D=M,B=z;return n(),p(B,{title:e(t)("system-perms.permission.detailTitle"),description:e(t)("system-perms.permission.detailDesc"),ui:{content:"max-w-2xl"},onClose:d[1]||(d[1]=A=>l("close"))},{default:c(()=>[e(h)?(n(),a("div",L,[r(k,{name:"i-lucide-loader-2",class:"size-8 animate-spin"})])):e(i)?(n(),a("div",q,[s("div",E,[s("div",null,[s("div",G,o(e(t)("system-perms.permission.code")),1),s("div",P,o(e(i).code),1)]),s("div",null,[s("div",R,o(e(t)("system-perms.permission.name")),1),s("div",S,o(e(i).name),1)]),s("div",null,[s("div",H,o(e(t)("system-perms.permission.group")),1),s("div",J,[r(f,{color:"primary",variant:"subtle"},{default:c(()=>[_(o(e(i).group),1)]),_:1})])]),s("div",null,[s("div",K,o(e(t)("system-perms.permission.isDeprecated")),1),s("div",O,[r(f,{color:e(i).isDeprecated?"error":"success",variant:"subtle"},{default:c(()=>[_(o(e(i).isDeprecated?e(t)("system-perms.permission.yes"):e(t)("system-perms.permission.no")),1)]),_:1},8,["color"])])])]),s("div",null,[s("div",Q,o(e(t)("system-perms.permission.describe")),1),s("div",W,o(e(i).description||e(t)("system-perms.permission.noDescription")),1)]),s("div",X,[s("div",null,[s("div",Y,o(e(t)("console-common.createAt")),1),s("div",Z,[e(i).createdAt?(n(),p(v,{key:0,datetime:e(i).createdAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",ee,"-"))])]),s("div",null,[s("div",se,o(e(t)("console-common.updateAt")),1),s("div",te,[e(i).updatedAt?(n(),p(v,{key:0,datetime:e(i).updatedAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",oe,"-"))])])]),s("div",ie,[r(D,{color:"neutral",variant:"soft",onClick:d[0]||(d[0]=A=>l("close"))},{default:c(()=>[_(o(e(t)("console-common.close")),1)]),_:1})])])):b("",!0)]),_:1},8,["title","description"])}}});export{ge as default};
