const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dhl1aWH5.js","./CqBu4bDI.js","./Cgyg1gJC.js","./CdknASxf.js","./gaGwb9HC.js","./CuVAPZQ8.js","./CtosDvS0.js","./CjasYwqF.js","./C6Y-ieo6.js","./BJfIXs0j.js","./abPSHzII.js","./BoWzoGTa.js","./BAxLJKn7.js","./BZz9H-xd.js","./DUoaAyrs.js","./Cem-8SLm.js","./DrcSP_Lw.js","./DTcQcXku.js","./9H8Q2iGn.js","./D3mp7HEv.js","./C3NqQf_Y.js","./CzOszn0p.js","./CQ_sR6vK.js","./Bh9RJ9ir.js","./FjskMQcR.js","./OA7YHud5.js","./D2uWVeMw.js","./BXqSuWC0.js","./vMXLMQMq.js","./BMSQkwth.js","./DaWZu8wl.js","./MFwyLzu6.js","./DFgjuxdB.js","./o4ws_w_T.js","./D_oTteL2.js","./Ck-pXaDl.js","./CZTmw1_y.js","./BryN4xFv.js","./Dq3CNcv_.js","./BtvTHVu8.js","./B5Rt1H9s.js","./3kPxW-C5.js","./DTgnMVBb.js","./u_h4lk84.js","./QoEuM3po.js"])))=>i.map(i=>d[i]);
import{d as S,b6 as F,l as w,n,q as B,ai as G,c as s,o as r,y as N,x as p,A as M,g as U,bE as X,F as T,E as x,a0 as c,f as D,m as P,au as R,W as Z,X as t}from"#entry";import{u as j,D as b}from"./GVuuMf18.js";import{_ as q}from"./abPSHzII.js";import"./C0KOn7yN.js";const J={key:0,class:"fixed top-4 left-4 z-50 rounded-lg border border-gray-200 bg-white/80 px-3 py-2 shadow-lg backdrop-blur-sm dark:bg-black/40"},K=S({__name:"web-preview",props:{terminal:{default:"web"},data:{default:()=>[]},configs:{default:null},showToolbar:{type:Boolean,default:!0}},setup(f){const y=Object.assign({"./widgets/web/accordion/content.vue":()=>t(()=>import("./Dhl1aWH5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url),"./widgets/web/annotation/content.vue":()=>t(()=>import("./BoWzoGTa.js"),__vite__mapDeps([11,2,9,10]),import.meta.url),"./widgets/web/audio/content.vue":()=>t(()=>import("./BAxLJKn7.js"),__vite__mapDeps([12,2,9,10]),import.meta.url),"./widgets/web/button/content.vue":()=>t(()=>import("./BZz9H-xd.js"),__vite__mapDeps([13,2,14,9,10]),import.meta.url),"./widgets/web/card/content.vue":()=>t(()=>import("./Cem-8SLm.js"),__vite__mapDeps([15,2,14,9,10]),import.meta.url),"./widgets/web/carousel/content.vue":()=>t(()=>import("./DrcSP_Lw.js"),__vite__mapDeps([16,2,14,9,10]),import.meta.url),"./widgets/web/chat-bubble/content.vue":()=>t(()=>import("./DTcQcXku.js"),__vite__mapDeps([17,2,9,10]),import.meta.url),"./widgets/web/chat-bubbles/content.vue":()=>t(()=>import("./9H8Q2iGn.js"),__vite__mapDeps([18,2,9,10]),import.meta.url),"./widgets/web/divider/content.vue":()=>t(()=>import("./D3mp7HEv.js"),__vite__mapDeps([19,9,2,10]),import.meta.url),"./widgets/web/flickering-grid/content.vue":()=>t(()=>import("./C3NqQf_Y.js"),__vite__mapDeps([20,9,2,10]),import.meta.url),"./widgets/web/gradient-button/content.vue":()=>t(()=>import("./CzOszn0p.js"),__vite__mapDeps([21,2,14,9,10]),import.meta.url),"./widgets/web/grid-pattern/content.vue":()=>t(()=>import("./CQ_sR6vK.js"),__vite__mapDeps([22,9,2,10]),import.meta.url),"./widgets/web/image-cube/content.vue":()=>t(()=>import("./Bh9RJ9ir.js"),__vite__mapDeps([23,2,14,9,10]),import.meta.url),"./widgets/web/image/content.vue":()=>t(()=>import("./FjskMQcR.js"),__vite__mapDeps([24,2,14,9,10]),import.meta.url),"./widgets/web/interactive-button/content.vue":()=>t(()=>import("./OA7YHud5.js"),__vite__mapDeps([25,14,2,9,10]),import.meta.url),"./widgets/web/page-section/content.vue":()=>t(()=>import("./D2uWVeMw.js"),__vite__mapDeps([26,2,14,9,10]),import.meta.url),"./widgets/web/paragraph/content.vue":()=>t(()=>import("./BXqSuWC0.js"),__vite__mapDeps([27,28,2,29,30,10,9]),import.meta.url),"./widgets/web/particles-background/content.vue":()=>t(()=>import("./MFwyLzu6.js"),__vite__mapDeps([31,2,9,10]),import.meta.url),"./widgets/web/pricing-plan/content.vue":()=>t(()=>import("./DFgjuxdB.js"),__vite__mapDeps([32,33,2,14,9,10]),import.meta.url),"./widgets/web/pricing-plans/content.vue":()=>t(()=>import("./D_oTteL2.js"),__vite__mapDeps([34,33,2,14,9,10]),import.meta.url),"./widgets/web/qrcode/content.vue":()=>t(()=>import("./Ck-pXaDl.js"),__vite__mapDeps([35,2,9,10]),import.meta.url),"./widgets/web/rainbow-button/content.vue":()=>t(()=>import("./CZTmw1_y.js"),__vite__mapDeps([36,2,14,9,10]),import.meta.url),"./widgets/web/shimmer-button/content.vue":()=>t(()=>import("./BryN4xFv.js"),__vite__mapDeps([37,14,2,9,10]),import.meta.url),"./widgets/web/snowfall-bg/content.vue":()=>t(()=>import("./Dq3CNcv_.js"),__vite__mapDeps([38,2,9,10]),import.meta.url),"./widgets/web/text/content.vue":()=>t(()=>import("./BtvTHVu8.js"),__vite__mapDeps([39,9,2,10]),import.meta.url),"./widgets/web/video-text/content.vue":()=>t(()=>import("./B5Rt1H9s.js"),__vite__mapDeps([40,9,2,10]),import.meta.url),"./widgets/web/video/content.vue":()=>t(()=>import("./3kPxW-C5.js"),__vite__mapDeps([41,2,14,9,10]),import.meta.url),"./widgets/web/warp-background/content.vue":()=>t(()=>import("./DTgnMVBb.js"),__vite__mapDeps([42,9,2,10,43]),import.meta.url),"./widgets/web/webpage/content.vue":()=>t(()=>import("./QoEuM3po.js"),__vite__mapDeps([44,2,9,10]),import.meta.url)}),A=X(),L=F(),a=j(),d=f,O=w(typeof window<"u"?window.innerWidth:1920);function E(e){const o=Object.entries(y).find(([u])=>u.includes(`/${e}/content.vue`));if(!o)return null;const i=o[1];return Z(i)}const v=n(()=>b.value.DEFAULT_WIDTH),h=n(()=>b.value.DEFAULT_HEIGHT),_=n(()=>b.value.SAFE_AREA_WIDTH),l=n(()=>({left:(v.value-_.value)/2,right:(v.value-_.value)/2+_.value}));function k(e){const{position:o,size:i}=e;console.log(o,i);const u=o.x,H=o.x+i.width;return u>=l.value.left&&H<=l.value.right}const I=n(()=>{const e=[],o=[];return a.components.forEach(i=>{k(i)?e.push(i):o.push(i)}),{centerComponents:e,outsideComponents:o}}),V=n(()=>{const e=a.configs,o={width:"100%",minHeight:`${e.pageHeight||h.value}px`,backgroundColor:"#ffffff",position:"relative"};return e.backgroundType==="solid"&&(o.backgroundColor=L.value==="dark"?e.backgroundDarkColor:e.backgroundColor),e.backgroundType==="image"&&e.backgroundImage&&(o.backgroundImage=`url(${e.backgroundImage})`,o.backgroundSize="cover",o.backgroundPosition="center",o.backgroundRepeat="no-repeat"),o}),C=n(()=>{const e=a.configs;return{width:"100%",maxWidth:`${_.value}px`,margin:"0 auto",position:"relative",minHeight:`${e.pageHeight||h.value}px`,pointerEvents:"none"}});function z(e){return{position:"absolute",left:`${e.position.x-l.value.left}px`,top:`${e.position.y}px`,width:`${e.size.width}px`,height:`${e.size.height}px`,zIndex:e.zIndex||0,opacity:e.isHidden?0:1,pointerEvents:e.isHidden?"none":"auto",overflow:"hidden",flexShrink:"0",flexGrow:"0"}}const m=w(),g=w(0);function W(e){const o=g.value;let i;if(e.position.x<l.value.left)i=e.position.x;else{const u=v.value-e.position.x;i=o-u}return{position:"absolute",left:`${i}px`,top:`${e.position.y}px`,width:`${e.size.width}px`,height:`${e.size.height}px`,zIndex:e.zIndex||0,opacity:e.isHidden?0:1,pointerEvents:e.isHidden?"none":"auto",overflow:"hidden",flexShrink:"0",flexGrow:"0"}}const $=()=>{g.value=m.value?.offsetWidth||0};return B(async()=>{if(d.data&&d.data.length>0&&(a.components=d.data,a.configs=d.configs||{}),g.value=m.value?.offsetWidth||0,typeof window<"u"){const e=()=>{O.value=window.innerWidth,$()};window.addEventListener("resize",e),G(()=>{window.removeEventListener("resize",e)})}}),(e,o)=>(r(),s("div",{ref_key:"webPreviewRef",ref:m,class:"web-preview"},[f.showToolbar?(r(),s("div",J,[p("button",{type:"button",class:"inline-flex items-center gap-2 rounded-md px-2 py-1 text-sm hover:bg-gray-100 dark:hover:bg-gray-800",onClick:o[0]||(o[0]=i=>U(A).back())},[...o[1]||(o[1]=[p("span",{"aria-hidden":""},"←",-1),M(" 返回编辑 ",-1)])])])):N("",!0),p("div",{class:"preview-canvas",style:c(V.value)},[(r(!0),s(T,null,x(I.value.outsideComponents,i=>(r(),s("div",{key:`outside-${i.id}`,class:"design-component",style:c(W(i))},[(r(),D(R(E(i.type)),P({ref_for:!0},i.props),null,16))],4))),128)),p("div",{class:"content-container",style:c(C.value)},[(r(!0),s(T,null,x(I.value.centerComponents,i=>(r(),s("div",{key:i.id,class:"design-component",style:c(z(i))},[(r(),D(R(E(i.type)),P({ref_for:!0},i.props),null,16))],4))),128))],4)],4)],512))}}),oe=q(K,[["__scopeId","data-v-801d991f"]]);export{oe as default};
