import{d as E,i as j,n as _,l as D,am as F,f as h,o as u,w as r,x as l,t as n,A as g,z as d,g as p,B as L,v as M,D as P,c as x,y as G,E as R,F as Y,G as q,C as H,aY as J}from"#entry";import{_ as K}from"./DbqqhwXM.js";import{_ as O}from"./o4ws_w_T.js";import{_ as Q}from"./bvMLy1sv.js";import{_ as W}from"./B5gsc-Ax.js";import{_ as X}from"./Ce6s6j9m.js";import{u as Z}from"./BlyoSzaa.js";import"./DNSLGqNg.js";import"./psimjGaX.js";import"./CuVAPZQ8.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./D9sX2Qi6.js";import"./CAQVAH0V.js";import"./Deu6qIfg.js";import"./CBTz8tdX.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./Y67jy4iF.js";import"./CjasYwqF.js";import"./DBEJUH-Z.js";const ee={class:"flex items-center justify-between"},oe={class:"text-secondary-foreground flex items-center text-base font-semibold"},te={class:"line-clamp-1 shrink-0"},ie={class:"text-muted-foreground mr-2 ml-1 line-clamp-1 shrink-0 text-sm"},re={key:0,class:"text-muted-foreground line-clamp-2 text-xs"},se={class:"flex flex-row flex-wrap gap-1"},ne={class:"flex items-center justify-between gap-2"},je=E({__name:"provider-card",props:{provider:{},selected:{type:Boolean,default:!1}},emits:["select","delete","edit","view-models","toggle-active"],setup(o,{emit:b}){const t=o,m=b,{t:c}=j(),{hasAccessByCodes:f}=Z();function k(e){return e?{label:c("console-common.enabled"),color:"success",icon:"i-lucide-check-circle"}:{label:c("console-common.disabled"),color:"error",icon:"i-lucide-x-circle"}}const w=_(()=>{const e=[];return f(["ai-provider.backends:update"])&&e.push({label:c("console-common.edit"),icon:"i-lucide-edit",onSelect:()=>m("edit",t.provider)}),f(["ai-provider.backends:delete"])&&!t.provider.isBuiltIn&&(e.length>0&&e.push({type:"separator",label:"",onSelect:()=>{}}),e.push({label:c("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>m("delete",t.provider)})),e}),y=_(()=>k(t.provider.isActive));function C(){m("view-models",t.provider.id)}function A(e){typeof e=="boolean"&&m("select",t.provider,e)}const i=D(t.provider.isActive);F(()=>{i.value=t.provider.isActive});const B=async()=>{const e=!i.value;try{m("toggle-active",t.provider.id,i.value),await new Promise(s=>setTimeout(s,200)),t.provider.isActive!==i.value&&(i.value=e)}catch(s){i.value=e,console.error("Toggle provider active failed:",s)}};return(e,s)=>{const U=q,$=J,S=K,v=O,V=L,I=Q,T=W,z=X;return u(),h(z,{selectable:"",clickable:"","show-actions":"",variant:"outlined",class:"cursor-pointer",selected:o.selected,actions:p(w),onSelect:A,onClick:C},{icon:r(({groupHoverClass:a,selectedClass:N})=>[n($,{position:o.provider.isActive?"top-right":void 0,color:p(y).color},{default:r(()=>[n(U,{src:o.provider.iconUrl,alt:o.provider.name,size:"3xl",ui:{root:"rounded-lg",fallback:"text-inverted"},class:H([a,N,o.provider.iconUrl?"":"bg-primary"])},null,8,["src","alt","class"])]),_:2},1032,["position","color"])]),title:r(()=>[l("div",ee,[l("h3",oe,[n(S,{text:o.provider.name,delay:0},{default:r(()=>[l("span",te,d(o.provider.name),1)]),_:1},8,["text"]),l("span",ie," ("+d(o.provider.provider)+") ",1)])])]),description:r(()=>[o.provider.description?(u(),x("p",re,d(o.provider.description),1)):G("",!0),l("div",se,[(u(!0),x(Y,null,R(o.provider.supportedModelTypes,a=>(u(),h(v,{key:a,variant:"soft",color:"neutral",size:"sm",class:"h-fit"},{default:r(()=>[g(d(a.toLocaleUpperCase().replaceAll("-"," ")),1)]),_:2},1024))),128))])]),footer:r(()=>[l("div",ne,[n(v,{variant:"outline",color:"neutral",size:"sm",class:"shrink-0 gap-0 rounded-full"},{default:r(()=>[g(d(o.provider.models.length)+" "+d(`${p(c)("common.unit.general.item")}${p(c)("common.ai.model")}`)+" ",1),n(V,{name:"i-lucide-chevron-right"})]),_:1}),n(T,{codes:["ai-providers:update"]},{default:r(()=>[n(I,{modelValue:p(i),"onUpdate:modelValue":[s[0]||(s[0]=a=>P(i)?i.value=a:null),B],onClick:s[1]||(s[1]=M(()=>{},["stop"]))},null,8,["modelValue"])]),_:1})])]),_:1},8,["selected","actions"])}}});export{je as default};
