import{d as E,i as A,l as S,n as v,q as D,f as T,o as d,w as n,x as c,t as r,_ as M,A as j,z as s,g as i,c as x,y as q,B as G,aY as O,G as Y,C as F}from"#entry";import{_ as H}from"./DbqqhwXM.js";import{_ as J}from"./bvMLy1sv.js";import{_ as K}from"./Ce6s6j9m.js";import{h as L}from"./Dgxt_juz.js";import"./DNSLGqNg.js";import"./psimjGaX.js";import"./CuVAPZQ8.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./D9sX2Qi6.js";import"./CAQVAH0V.js";import"./Deu6qIfg.js";import"./CBTz8tdX.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./Y67jy4iF.js";import"./CjasYwqF.js";import"./DBEJUH-Z.js";const P={class:"flex items-center gap-4"},Q={class:"flex items-center gap-2"},R={class:"text-secondary-foreground flex items-center text-base font-semibold"},W={class:"line-clamp-1"},X={class:"text-muted-foreground line-clamp-1 text-xs",target:"_blank",rel:"noopener noreferrer"},Z={class:"max-w-100"},ee={key:0,class:"text-muted-foreground line-clamp-2 text-xs"},te={key:1,class:"text-muted-foreground line-clamp-2 text-xs"},oe={key:0,class:"flex flex-row items-center gap-1.5"},ce={class:"line-clamp-2 text-xs text-red-500"},ne={class:"flex items-center justify-between gap-2"},re={class:"flex items-center gap-1"},Ee=E({__name:"web-mcp-card",props:{mcpServer:{},selected:{type:Boolean,default:!1},updateIds:{}},emits:["select","delete","edit","view-models","remove-system","toggle-visible"],setup(e,{emit:b}){const t=e,a=b,{t:l}=A(),m=S(""),_=S(""),g=async()=>{const o=await L(t.mcpServer.id);m.value=o.connectable,_.value=o.error},y=v(()=>m.value===""?t.mcpServer.connectable:m.value),p=v(()=>m.value===""?t.mcpServer.connectError:_.value),w=v(()=>{const o=[];return t.mcpServer.type==="user"&&o.push({label:l("console-common.edit"),icon:"i-lucide-edit",onSelect:()=>a("edit",t.mcpServer)}),t.mcpServer.type==="user"&&(o.length>0&&o.push({type:"separator",label:"",onSelect:()=>{}}),o.push({label:l("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>a("delete",t.mcpServer)})),o});function k(){a("view-models",t.mcpServer.id)}function C(o){typeof o=="boolean"&&a("select",t.mcpServer,o)}return D(()=>{t.updateIds?.includes(t.mcpServer.id)&&(g(),t.updateIds?.splice(t.updateIds.indexOf(t.mcpServer.id),1))}),(o,h)=>{const B=Y,I=O,u=H,U=G,$=J,z=M,N=K;return d(),T(N,{class:"flex flex-col overflow-hidden","show-actions":"",variant:"outlined",selected:e.selected,actions:i(w),onSelect:C},{icon:n(({groupHoverClass:f,selectedClass:V})=>[c("div",P,[r(I,{color:i(y)?"success":"error",position:"top-right"},{default:n(()=>[r(B,{src:e.mcpServer.icon,alt:e.mcpServer.name,size:"3xl",ui:{root:"rounded-lg",fallback:"text-inverted"},class:F([f,V,e.mcpServer.icon?"":"bg-primary"])},null,8,["src","alt","class"])]),_:2},1032,["color"]),c("div",null,[c("div",Q,[c("h3",R,[r(u,{text:e.mcpServer.name,delay:0},{default:n(()=>[c("span",W,s(e.mcpServer.alias||e.mcpServer.name),1)]),_:1},8,["text"])])]),c("a",X," @ "+s(e.mcpServer.providerName),1)])])]),description:n(()=>[r(u,{disabled:!e.mcpServer.description,text:e.mcpServer.description,ui:{content:"max-w-100 !whitespace-pre-wrap leading-relaxed h-fit p-2"},"delay-duration":0},{content:n(()=>[c("div",Z,s(e.mcpServer.description),1)]),default:n(()=>[e.mcpServer.description?(d(),x("h4",ee,s(e.mcpServer.description),1)):(d(),x("h4",te,s(i(l)("ai-mcp.backend.noDescription")),1))]),_:1},8,["disabled","text"]),r(u,{text:i(p),"delay-duration":0},{default:n(()=>[i(p)?(d(),x("div",oe,[r(U,{name:"tabler:plug-connected-x",size:"16",class:"text-red-500"}),c("h4",ce,s(i(p)),1)])):q("",!0)]),_:1},8,["text"])]),footer:n(()=>[c("div",ne,[r($,{"model-value":!e.mcpServer.isDisabled,"onUpdate:modelValue":h[0]||(h[0]=f=>a("toggle-visible",e.mcpServer.id,!f)),size:"md"},null,8,["model-value"]),c("div",re,[r(z,{icon:"i-lucide-eye",variant:"ghost",size:"sm",onClick:k},{default:n(()=>[j(s(i(l)("console-common.check")),1)]),_:1})])])]),_:1},8,["selected","actions"])}}});export{Ee as default};
