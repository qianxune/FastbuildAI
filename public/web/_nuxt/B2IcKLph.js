import{d as w,i as B,at as C,aN as S,c0 as $,l as b,n as N,q as z,f as M,o as i,w as m,c as l,g as s,t as d,B as V,x as e,z as a,_ as j,A as F}from"#entry";import{_ as L}from"./Ghlq83yM.js";import{u as R}from"./TrJvDfxI.js";import"./DQMjdCEn.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./CuVAPZQ8.js";import"./Z7qkLoXK.js";import"./CjE5iPSn.js";import"./D9UsdH-b.js";import"./MCK2d4XT.js";import"./EK7Wbu3-.js";import"./jsPNKUA0.js";const U={key:0,class:"flex items-center justify-center",style:{height:"200px"}},q={key:1,class:"space-y-4 p-4"},A={class:"flex items-start gap-4"},D={class:"text-muted-foreground min-w-20 text-left text-sm"},E={class:"text-secondary-foreground text-left text-sm font-medium"},G={class:"flex items-center gap-4"},T={class:"text-muted-foreground min-w-20 text-left text-sm"},H={class:"flex flex-1 items-center justify-between gap-2"},J={class:"text-secondary-foreground text-left text-sm font-medium"},ct=w({__name:"system-info-modal",emits:["close"],setup(K,{emit:u}){const f=u,{copy:p}=R(),{t:o}=B(),_=C(),{lockFn:y,isLock:x}=S(async()=>{try{return await $()}catch(t){return console.error("获取系统信息失败:",t),null}}),n=b(null),h=N(()=>{const t=n.value?.systemId;if(!t||t.length<=12)return t||"-";const r=t.substring(0,6),c=t.substring(t.length-6);return`${r}****${c}`}),g=()=>{f("close",!1)},I=async()=>{n.value?.systemId&&(await p(n.value.systemId),_.success(o("console-common.messages.copySuccess")))};return z(async()=>{n.value=await y()}),(t,r)=>{const c=V,v=j,k=L;return i(),M(k,{title:s(o)("layouts.systemInfo.title"),description:s(o)("layouts.systemInfo.description"),ui:{content:"max-w-md"},onClose:g},{default:m(()=>[s(x)?(i(),l("div",U,[d(c,{name:"i-lucide-loader-2",class:"size-8 animate-spin"})])):(i(),l("div",q,[e("div",A,[e("span",D,a(s(o)("layouts.systemInfo.version")),1),e("span",E,a(s(n)?.version||"-"),1)]),e("div",G,[e("span",T,a(s(o)("layouts.systemInfo.systemId")),1),e("div",H,[e("span",J,a(s(h)),1),d(v,{size:"sm",class:"flex-none",variant:"soft",icon:"i-lucide-copy",onClick:I},{default:m(()=>[F(a(s(o)("console-common.copy")),1)]),_:1})])])]))]),_:1},8,["title","description"])}}});export{ct as default};
