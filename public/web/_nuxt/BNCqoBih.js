const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dhl1aWH5.js","./CqBu4bDI.js","./Cgyg1gJC.js","./CdknASxf.js","./gaGwb9HC.js","./CuVAPZQ8.js","./CtosDvS0.js","./CjasYwqF.js","./C6Y-ieo6.js","./BJfIXs0j.js","./abPSHzII.js","./BoWzoGTa.js","./BAxLJKn7.js","./BZz9H-xd.js","./DUoaAyrs.js","./Cem-8SLm.js","./DrcSP_Lw.js","./DTcQcXku.js","./9H8Q2iGn.js","./D3mp7HEv.js","./C3NqQf_Y.js","./CzOszn0p.js","./CQ_sR6vK.js","./Bh9RJ9ir.js","./FjskMQcR.js","./OA7YHud5.js","./D2uWVeMw.js","./BXqSuWC0.js","./vMXLMQMq.js","./BMSQkwth.js","./DaWZu8wl.js","./MFwyLzu6.js","./DFgjuxdB.js","./o4ws_w_T.js","./D_oTteL2.js","./Ck-pXaDl.js","./CZTmw1_y.js","./BryN4xFv.js","./Dq3CNcv_.js","./BtvTHVu8.js","./B5Rt1H9s.js","./3kPxW-C5.js","./DTgnMVBb.js","./u_h4lk84.js","./QoEuM3po.js"])))=>i.map(i=>d[i]);
import{d as he,av as An,i as In,f as rt,o as q,w as ae,x as P,a0 as ee,t as j,z as te,g as I,B as Xt,D as kn,s as ne,n as le,c as W,v as pe,C as de,y as Se,_ as Wt,au as Rn,m as On,F as ue,E as ve,W as Pn,X as Y,A as Ut,k as Bn,b6 as Vn,q as jt,ai as Gt,p as Kt,J as $n,r as Fn,l as Ot}from"#entry";import{_ as Jt}from"./DbqqhwXM.js";import Zn from"./cd55qm53.js";import{_ as Qt}from"./hsuWSsy6.js";import{b as en,D as ce,u as Ye}from"./GVuuMf18.js";import{_ as qe}from"./abPSHzII.js";import{d as Yn}from"./MCK2d4XT.js";import{g as qn}from"./DaWZu8wl.js";import"./DNSLGqNg.js";import"./psimjGaX.js";import"./CuVAPZQ8.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./C0KOn7yN.js";const Nn={class:"group-hover:text-primary-600 text-secondary-foreground text-sm leading-none font-medium"},Hn={class:"group-hover:text-primary-600 text-muted text-sm leading-none"},Xn={class:"w-80 p-4"},Wn={class:"space-y-3"},Un={class:"text-secondary-foreground text-sm font-medium"},jn={class:"space-y-2"},Gn={class:"text-muted-foreground text-xs font-medium tracking-wide uppercase"},Kn=he({__name:"canvas-page-info",props:{zoomScale:{}},setup(w){const i=w,p=An(),{t:s}=In(),{designHeight:v,designStyle:c,changeDesignSize:g}=en();return(h,r)=>{const _=Xt,t=Jt,d=Zn,M=Qt;return q(),rt(M,{content:{align:"center",side:"top",sideOffset:10}},{content:ae(()=>[P("div",Xn,[P("div",Wn,[P("div",Un,te(I(s)("console-widgets.pageConfig.pageSettings")),1),P("div",jn,[P("label",Gn,te(I(s)("console-widgets.pageConfig.pageHeight")),1),j(d,{modelValue:I(v),"onUpdate:modelValue":r[1]||(r[1]=S=>kn(v)?v.value=S:null),type:"number",placeholder:I(s)("console-widgets.pageConfig.inputPageHeight"),onChange:I(g),ui:{root:"w-full"}},null,8,["modelValue","placeholder","onChange"])])])])]),default:ae(()=>[P("div",{class:"hover:bg-primary-50 hover:text-primary-600 group bg-muted absolute bottom-full left-0 z-10 mb-2.5 flex h-7 cursor-pointer items-center rounded-md px-2 py-0.5 whitespace-nowrap transition-all duration-200",style:ee({transform:`scale(${1/(i.zoomScale>=1.3?1.3:i.zoomScale)})`,transformOrigin:"left bottom"})},[P("span",Nn,te(I(s)("console-widgets.pageConfig.page")),1),r[2]||(r[2]=P("div",{class:"bg-border mx-1.5 h-3 w-px"},null,-1)),P("span",Hn,te(I(c).width)+" * "+te(I(c).height),1),j(t,{text:h.$t("console-common.preview"),popper:{placement:"top"}},{default:ae(()=>[j(_,{name:"i-heroicons-play-circle-20-solid",class:"group-hover:text-primary-600 text-muted ml-2 size-4",onClick:r[0]||(r[0]=S=>I(p).push("/console/decorate/micropage/preview"))})]),_:1},8,["text"])],4)]),_:1})}}});function Jn(){function w(){return!1}function i(c){return Math.max(0,Math.round(c))}function p(c,g,h,r,_=800,t=600){const d=[],{SNAP_THRESHOLD:M}=ce.value,S=Math.round(c.x),E=Math.round(c.x+g.width),z=Math.round(c.y),b=Math.round(c.y+g.height),D=Math.round(c.x+g.width/2),V=Math.round(c.y+g.height/2),R=Math.round(_/2),A=Math.round(t/2),n=h.filter(l=>l.id!==r);Math.abs(S-0)<M&&d.push({type:"vertical",position:0,alignType:"canvasLeft",isAlignmentLine:!0}),Math.abs(E-_)<M&&d.push({type:"vertical",position:_,alignType:"canvasRight",isAlignmentLine:!0}),Math.abs(z-0)<M&&d.push({type:"horizontal",position:0,alignType:"canvasTop",isAlignmentLine:!0}),Math.abs(b-t)<M&&d.push({type:"horizontal",position:t,alignType:"canvasBottom",isAlignmentLine:!0}),Math.abs(D-R)<M&&d.push({type:"vertical",position:R,alignType:"canvasCenterX",isAlignmentLine:!0}),Math.abs(V-A)<M&&d.push({type:"horizontal",position:A,alignType:"canvasCenterY",isAlignmentLine:!0});const x=S,a=_-E,o=z,u=t-b,f=Math.min(x,a,o,u);f===x&&x>0?d.push({type:"horizontal",position:z+(b-z)/2,startX:0,endX:S,distance:x,isDistanceLine:!0,spacingType:"canvas-left"}):f===a&&a>0?d.push({type:"horizontal",position:z+(b-z)/2,startX:E,endX:_,distance:a,isDistanceLine:!0,spacingType:"canvas-right"}):f===o&&o>0?d.push({type:"vertical",position:S+(E-S)/2,startY:0,endY:z,distance:o,isDistanceLine:!0,spacingType:"canvas-top"}):f===u&&u>0&&d.push({type:"vertical",position:S+(E-S)/2,startY:b,endY:t,distance:u,isDistanceLine:!0,spacingType:"canvas-bottom"}),n.forEach(l=>{const k=Math.round(l.position.x),F=Math.round(l.position.x+l.size.width),Z=Math.round(l.position.y),O=Math.round(l.position.y+l.size.height),G=Math.round(l.position.x+l.size.width/2),K=Math.round(l.position.y+l.size.height/2);Math.abs(S-k)<M&&d.push({type:"vertical",position:k,alignType:"leftAlign",isAlignmentLine:!0}),Math.abs(E-F)<M&&d.push({type:"vertical",position:F,alignType:"rightAlign",isAlignmentLine:!0}),Math.abs(D-G)<M&&d.push({type:"vertical",position:G,alignType:"centerXAlign",isAlignmentLine:!0}),Math.abs(z-Z)<M&&d.push({type:"horizontal",position:Z,alignType:"topAlign",isAlignmentLine:!0}),Math.abs(b-O)<M&&d.push({type:"horizontal",position:O,alignType:"bottomAlign",isAlignmentLine:!0}),Math.abs(V-K)<M&&d.push({type:"horizontal",position:K,alignType:"centerYAlign",isAlignmentLine:!0})});const L=[],T=[];return n.forEach(l=>{n.forEach(k=>{if(l.id>=k.id)return;const F=Math.round(l.position.x),Z=Math.round(l.position.x+l.size.width),O=Math.round(l.position.y),G=Math.round(l.position.y+l.size.height),K=Math.round(k.position.x),B=Math.round(k.position.x+k.size.width),X=Math.round(k.position.y),U=Math.round(k.position.y+k.size.height);Z<K?L.push(K-Z):B<F&&L.push(F-B),G<X?T.push(X-G):U<O&&T.push(O-U)})}),n.forEach(l=>{const k=Math.round(l.position.x),F=Math.round(l.position.x+l.size.width),Z=Math.round(l.position.y),O=Math.round(l.position.y+l.size.height);if(!(b<=Z||z>=O)){let B=0,X=0,U=0;if(S>F?(B=S-F,X=F,U=S):E<k&&(B=k-E,X=E,U=k),B>0&&L.find(J=>Math.abs(J-B)<M)){const J=Math.max(z,Z),ge=Math.min(b,O),fe=J+(ge-J)/2;d.push({type:"horizontal",position:fe,startX:X,endX:U,distance:B,isDistanceLine:!0,spacingType:"horizontal",isEqualSpacing:!0})}}if(!(E<=k||S>=F)){let B=0,X=0,U=0;if(z>O?(B=z-O,X=O,U=z):b<Z&&(B=Z-b,X=b,U=Z),B>0&&T.find(J=>Math.abs(J-B)<M)){const J=Math.max(S,k),ge=Math.min(E,F),fe=J+(ge-J)/2;d.push({type:"vertical",position:fe,startY:X,endY:U,distance:B,isDistanceLine:!0,spacingType:"vertical",isEqualSpacing:!0})}}}),n.forEach(l=>{const k=Math.round(l.position.x),F=Math.round(l.position.x+l.size.width),Z=Math.round(l.position.y),O=Math.round(l.position.y+l.size.height);if(!(b<=Z||z>=O)){if(S>F&&S-F<=100){const B=S-F,X=Math.max(z,Z),U=Math.min(b,O),oe=X+(U-X)/2;d.push({type:"horizontal",position:oe,startX:F,endX:S,distance:B,isDistanceLine:!0,spacingType:"horizontal"})}if(E<k&&k-E<=100){const B=k-E,X=Math.max(z,Z),U=Math.min(b,O),oe=X+(U-X)/2;d.push({type:"horizontal",position:oe,startX:E,endX:k,distance:B,isDistanceLine:!0,spacingType:"horizontal"})}}if(!(E<=k||S>=F)){if(z>O&&z-O<=100){const B=z-O,X=Math.max(S,k),U=Math.min(E,F),oe=X+(U-X)/2;d.push({type:"vertical",position:oe,startY:O,endY:z,distance:B,isDistanceLine:!0,spacingType:"vertical"})}if(b<Z&&Z-b<=100){const B=Z-b,X=Math.max(S,k),U=Math.min(E,F),oe=X+(U-X)/2;d.push({type:"vertical",position:oe,startY:b,endY:Z,distance:B,isDistanceLine:!0,spacingType:"vertical"})}}}),d}function s(c,g,h){const r={...c},_=i(r.x+g.width),t=i(r.y+g.height),d=i(r.x+g.width/2),M=i(r.y+g.height/2);let S=ce.value.SNAP_THRESHOLD,E=r.x,z=ce.value.SNAP_THRESHOLD,b=r.y;return h.forEach(D=>{D.isAlignmentLine&&(D.type==="vertical"?[{pos:i(D.position),current:r.x},{pos:i(D.position-g.width),current:_},{pos:i(D.position-g.width/2),current:d}].forEach(({pos:R,current:A})=>{const n=Math.abs(A-D.position);n<S&&(S=n,E=R)}):[{pos:i(D.position),current:r.y},{pos:i(D.position-g.height),current:t},{pos:i(D.position-g.height/2),current:M}].forEach(({pos:R,current:A})=>{const n=Math.abs(A-D.position);n<z&&(z=n,b=R)}))}),S<=ce.value.SNAP_THRESHOLD&&(r.x=i(E)),z<=ce.value.SNAP_THRESHOLD&&(r.y=i(b)),r}function v(c,g,h,r){const _={...c};return _.x=Math.max(0,Math.min(_.x,h-g.width)),_.y=Math.max(0,Math.min(_.y,r-g.height)),_}return{checkCollision:w,calculateGuideLines:p,snapToGuideLines:s,ensureInBounds:v}}function Qn(w,i,p){const s=Ye(),v={animationFrameId:null,dragAnimationFrameId:null};function c(){const n=w.value;if(!n)return null;let x=n.closest(".zoom-content");return x||(x=document.querySelector(".zoom-content")),x?{design:n,zoomContainer:x}:{design:n,zoomContainer:n.parentElement}}function g(n){const x=c();if(!x)return{x:0,y:0};const{design:a,zoomContainer:o}=x,f=window.getComputedStyle(o).transform,T=(f&&f!=="none"?new DOMMatrix(f):new DOMMatrix).a||1,l=a.getBoundingClientRect(),k=(n.clientX-l.left)/T,F=(n.clientY-l.top)/T;return{x:Math.max(0,Math.min(k,a.clientWidth)),y:Math.max(0,Math.min(F,a.clientHeight))}}function h(n){return Math.round(n)}function r(n){return{x:h(n.x),y:h(n.y)}}function _(n){return{width:Math.min(n.width,w.value?.clientWidth??1/0),height:Math.min(n.height,w.value?.clientHeight??1/0)}}function t(){v.animationFrameId!==null&&(cancelAnimationFrame(v.animationFrameId),v.animationFrameId=null),v.dragAnimationFrameId!==null&&(cancelAnimationFrame(v.dragAnimationFrameId),v.dragAnimationFrameId=null)}function d(n){n.preventDefault(),t(),v.animationFrameId=requestAnimationFrame(()=>{const{draggedComponent:x}=s,a=w.value;if(!x||!a){i.clearState();return}const o=a.getBoundingClientRect();if(n.clientX<o.left||n.clientX>o.right||n.clientY<o.top||n.clientY>o.bottom){i.clearState();return}const u=g(n),{size:f}=x,L={x:Math.max(0,Math.min(u.x-f.width/2,a.clientWidth-f.width)),y:Math.max(0,Math.min(u.y-f.height/2,a.clientHeight-f.height))},T=p.checkCollision();if(i.setHighlightArea({...L,width:f.width,height:f.height}),i.setCollision(T),!T){const l=[{type:"vertical",position:L.x},{type:"vertical",position:L.x+f.width},{type:"horizontal",position:L.y},{type:"horizontal",position:L.y+f.height}];i.setGuideLines(l)}})}function M(){t(),i.clearState()}function S(n){t();const{draggedComponent:x}=s;if(!x||i.hasCollision.value){i.clearState();return}const a=g(n),{type:o,title:u,size:f,props:L,isHidden:T}=x,l=w.value;let k={x:a.x-f.width/2,y:a.y-f.height/2};l&&(k=p.snapToGuideLines(k,f,i.guideLines.value),k=p.ensureInBounds(k,f,l.clientWidth,l.clientHeight));const F=i.addComponent({type:o,title:u,position:k,isHidden:T,size:f,props:L});F&&i.setActiveComponent(F.id),i.clearState(),s.setDraggedComponent(null)}function E(n,x){if(x.button===2)return;i.setActiveComponent(n.id),i.setDragging(!0,n.id);const a=g(x);i.setDragStartOffset({x:a.x-n.position.x,y:a.y-n.position.y});const o=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",o),A()},u=f=>V(f);document.addEventListener("mousemove",u),document.addEventListener("mouseup",o)}function z(n,x,a,o,u){o=h(o),u=h(u);const f={...x},L={...a};if(n.includes("w")){const T=a.width-o;T>=1&&(f.x=x.x+o,L.width=T)}else if(n.includes("e")){const T=a.width+o;T>=1&&(L.width=T)}if(n.includes("n")){const T=a.height-u;T>=1&&(f.y=x.y+u,L.height=T)}else if(n.includes("s")){const T=a.height+u;T>=1&&(L.height=T)}return{position:r(f),size:_(L)}}function b(n,x){if(!i.dragStartOffset.value)return;let a=r({x:h(x.x-i.dragStartOffset.value.x),y:h(x.y-i.dragStartOffset.value.y)});const o=w.value;o&&(a=r(p.ensureInBounds(a,n.size,o.clientWidth,o.clientHeight)));const u=p.calculateGuideLines(a,n.size,s.components,n.id,o?.clientWidth||800,o?.clientHeight||600);u.length>0&&(a=r(p.snapToGuideLines(a,n.size,u)));const f=p.checkCollision();i.setHighlightArea({...a,width:n.size.width,height:n.size.height}),i.setCollision(f),f||(i.setGuideLines(u),s.updatePosition(n.id,a))}function D(n,x,a){a.stopPropagation(),i.setActiveComponent(n.id),i.setResizing(!0,x,n.id),i.setResizeStart({...n.position},{...n.size});const o=g(a);i.setDragStartOffset(o);const u=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u),A()},f=L=>V(L);document.addEventListener("mousemove",f),document.addEventListener("mouseup",u)}function V(n){!i.isDragging.value&&!i.isResizing.value||(v.dragAnimationFrameId=requestAnimationFrame(()=>{const x=s.components.find(o=>o.id===i.draggingComponentId.value);if(!x)return;const a=g(n);i.isDragging.value?b(x,a):i.isResizing.value&&R(x,a)}))}function R(n,x){if(!i.resizeStartPosition.value||!i.resizeStartSize.value||!i.resizeDirection.value||!i.dragStartOffset.value)return;const a=x.x-i.dragStartOffset.value.x,o=x.y-i.dragStartOffset.value.y,u=z(i.resizeDirection.value,i.resizeStartPosition.value,i.resizeStartSize.value,a,o);let f=u.position;const L=u.size,T=w.value;T&&(f=r(p.ensureInBounds(f,L,T.clientWidth,T.clientHeight)));const l=p.calculateGuideLines(f,L,s.components,n.id,T?.clientWidth||800,T?.clientHeight||600);l.length>0&&(f=r(p.snapToGuideLines(f,L,l)));const k=p.checkCollision();i.setHighlightArea({...f,width:L.width,height:L.height}),i.setCollision(k),k||(i.setGuideLines(l),s.updatePosition(n.id,f),s.updateSize(n.id,L))}function A(){t(),i.clearState()}return{handleDragOver:d,handleDragLeave:M,handleDrop:S,handleComponentMouseDown:E,handleResizeStart:D}}function eo(){const w=Ye(),i=ne(null),p=ne([]),s=ne(!1),v=ne(!1),c=ne(!1),g=ne(""),h=ne(null),r=ne(null),_=ne(null),t=ne(null),d=le(()=>w.components),M=le(()=>w.activeComponent?.id);function S(u){u!==null&&typeof u=="object"?i.value={...u}:i.value=null}function E(u){p.value=u}function z(u){s.value=u}function b(u,f=null){v.value=u,f!==null&&(_.value=f)}function D(u,f="",L=null){c.value=u,g.value=f,L!==null&&(_.value=L)}function V(u,f){h.value=u,r.value=f}function R(u){t.value=u?{...u}:null}function A(){i.value=null,p.value=[],s.value=!1,v.value=!1,c.value=!1,_.value=null,t.value=null,h.value=null,r.value=null,g.value=""}function n(u){return w.addComponent({...u,isHidden:u.isHidden??!1})}function x(u,f){w.updatePosition(u,f)}function a(u,f){w.updateSize(u,f)}function o(u){w.setActiveComponent(u)}return{components:d,highlightArea:i,guideLines:p,hasCollision:s,isDragging:v,isResizing:c,resizeDirection:g,resizeStartPosition:h,resizeStartSize:r,draggingComponentId:_,dragStartOffset:t,activeComponentId:M,setHighlightArea:S,setGuideLines:E,setCollision:z,setDragging:b,setResizing:D,setResizeStart:V,setDragStartOffset:R,clearState:A,addComponent:n,updatePosition:x,updateSize:a,setActiveComponent:o}}function to(w){const i=eo(),p=Jn(),s=Qn(w,i,p);return{components:i.components,highlightArea:i.highlightArea,guideLines:i.guideLines,hasCollision:i.hasCollision,isDragging:i.isDragging,draggingComponentId:i.draggingComponentId,activeComponentId:i.activeComponentId,handleDragOver:s.handleDragOver,handleDragLeave:s.handleDragLeave,handleDrop:s.handleDrop,handleComponentMouseDown:s.handleComponentMouseDown,handleResizeStart:s.handleResizeStart}}const no={key:1,class:"action-menu"},oo={class:"component-content-wrapper"},io=["onMousedown"],ro=he({__name:"component-viewport",props:{component:{},isActive:{type:Boolean},isDragging:{type:Boolean},hasCollision:{type:Boolean}},emits:["mousedown","resizeStart"],setup(w,{emit:i}){const p=Object.assign({"../widgets/web/accordion/content.vue":()=>Y(()=>import("./Dhl1aWH5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url),"../widgets/web/annotation/content.vue":()=>Y(()=>import("./BoWzoGTa.js"),__vite__mapDeps([11,2,9,10]),import.meta.url),"../widgets/web/audio/content.vue":()=>Y(()=>import("./BAxLJKn7.js"),__vite__mapDeps([12,2,9,10]),import.meta.url),"../widgets/web/button/content.vue":()=>Y(()=>import("./BZz9H-xd.js"),__vite__mapDeps([13,2,14,9,10]),import.meta.url),"../widgets/web/card/content.vue":()=>Y(()=>import("./Cem-8SLm.js"),__vite__mapDeps([15,2,14,9,10]),import.meta.url),"../widgets/web/carousel/content.vue":()=>Y(()=>import("./DrcSP_Lw.js"),__vite__mapDeps([16,2,14,9,10]),import.meta.url),"../widgets/web/chat-bubble/content.vue":()=>Y(()=>import("./DTcQcXku.js"),__vite__mapDeps([17,2,9,10]),import.meta.url),"../widgets/web/chat-bubbles/content.vue":()=>Y(()=>import("./9H8Q2iGn.js"),__vite__mapDeps([18,2,9,10]),import.meta.url),"../widgets/web/divider/content.vue":()=>Y(()=>import("./D3mp7HEv.js"),__vite__mapDeps([19,9,2,10]),import.meta.url),"../widgets/web/flickering-grid/content.vue":()=>Y(()=>import("./C3NqQf_Y.js"),__vite__mapDeps([20,9,2,10]),import.meta.url),"../widgets/web/gradient-button/content.vue":()=>Y(()=>import("./CzOszn0p.js"),__vite__mapDeps([21,2,14,9,10]),import.meta.url),"../widgets/web/grid-pattern/content.vue":()=>Y(()=>import("./CQ_sR6vK.js"),__vite__mapDeps([22,9,2,10]),import.meta.url),"../widgets/web/image-cube/content.vue":()=>Y(()=>import("./Bh9RJ9ir.js"),__vite__mapDeps([23,2,14,9,10]),import.meta.url),"../widgets/web/image/content.vue":()=>Y(()=>import("./FjskMQcR.js"),__vite__mapDeps([24,2,14,9,10]),import.meta.url),"../widgets/web/interactive-button/content.vue":()=>Y(()=>import("./OA7YHud5.js"),__vite__mapDeps([25,14,2,9,10]),import.meta.url),"../widgets/web/page-section/content.vue":()=>Y(()=>import("./D2uWVeMw.js"),__vite__mapDeps([26,2,14,9,10]),import.meta.url),"../widgets/web/paragraph/content.vue":()=>Y(()=>import("./BXqSuWC0.js"),__vite__mapDeps([27,28,2,29,30,10,9]),import.meta.url),"../widgets/web/particles-background/content.vue":()=>Y(()=>import("./MFwyLzu6.js"),__vite__mapDeps([31,2,9,10]),import.meta.url),"../widgets/web/pricing-plan/content.vue":()=>Y(()=>import("./DFgjuxdB.js"),__vite__mapDeps([32,33,2,14,9,10]),import.meta.url),"../widgets/web/pricing-plans/content.vue":()=>Y(()=>import("./D_oTteL2.js"),__vite__mapDeps([34,33,2,14,9,10]),import.meta.url),"../widgets/web/qrcode/content.vue":()=>Y(()=>import("./Ck-pXaDl.js"),__vite__mapDeps([35,2,9,10]),import.meta.url),"../widgets/web/rainbow-button/content.vue":()=>Y(()=>import("./CZTmw1_y.js"),__vite__mapDeps([36,2,14,9,10]),import.meta.url),"../widgets/web/shimmer-button/content.vue":()=>Y(()=>import("./BryN4xFv.js"),__vite__mapDeps([37,14,2,9,10]),import.meta.url),"../widgets/web/snowfall-bg/content.vue":()=>Y(()=>import("./Dq3CNcv_.js"),__vite__mapDeps([38,2,9,10]),import.meta.url),"../widgets/web/text/content.vue":()=>Y(()=>import("./BtvTHVu8.js"),__vite__mapDeps([39,9,2,10]),import.meta.url),"../widgets/web/video-text/content.vue":()=>Y(()=>import("./B5Rt1H9s.js"),__vite__mapDeps([40,9,2,10]),import.meta.url),"../widgets/web/video/content.vue":()=>Y(()=>import("./3kPxW-C5.js"),__vite__mapDeps([41,2,14,9,10]),import.meta.url),"../widgets/web/warp-background/content.vue":()=>Y(()=>import("./DTgnMVBb.js"),__vite__mapDeps([42,9,2,10,43]),import.meta.url),"../widgets/web/webpage/content.vue":()=>Y(()=>import("./QoEuM3po.js"),__vite__mapDeps([44,2,9,10]),import.meta.url)}),s={},v=w,c=i,g=Ye();function h(t){if(s[t]!==void 0)return s[t];const d=new RegExp(`/(?:web|mobile)/${t}/content\\.vue$`),M=Object.entries(p).find(([z])=>d.test(z));if(!M)return s[t]=null,null;const S=M[1],E=Pn(S);return s[t]=E,E}function r(t){const{component:d}=v;switch(t){case"delete":g.removeComponent(d.id);break;case"toggle":g.updateVisible(d.id,!d.isHidden);break}}function _(t,d){d.stopPropagation(),c("resizeStart",t,d)}return(t,d)=>{const M=Wt;return q(),W("div",{class:de(["component-wrapper",{"is-active":v.isActive,"is-dragging":v.isDragging,"has-collision":v.hasCollision}]),style:ee({left:`${w.component.position.x}px`,top:`${w.component.position.y}px`,width:`${w.component.size.width}px`,height:`${w.component.size.height}px`,opacity:w.component.isHidden?.5:1,zIndex:v.isDragging?999:v.isActive?(w.component.zIndex||0)+100:w.component.zIndex||0}),onMousedown:d[2]||(d[2]=pe(S=>c("mousedown",S),["stop"]))},[v.isActive||v.isDragging?(q(),W("div",{key:0,class:de(["size-indicator",{"has-collision":v.hasCollision}])},te(w.component.size.width)+" x "+te(w.component.size.height),3)):Se("",!0),v.isActive?(q(),W("div",no,[P("div",null,[j(M,{color:"primary",icon:w.component.isHidden?"i-lucide-eye-off":"i-lucide-eye",size:"md",onClick:d[0]||(d[0]=pe(S=>r("toggle"),["stop"]))},null,8,["icon"])]),P("div",null,[j(M,{color:"error",icon:"i-lucide-trash-2",size:"md",onClick:d[1]||(d[1]=pe(S=>r("delete"),["stop"]))})])])):Se("",!0),P("div",oo,[(q(),rt(Rn(h(w.component.type)),On(w.component.props,{size:w.component.size,class:"pointer-events-none select-none"}),null,16,["size"]))]),v.isActive?(q(),W(ue,{key:2},ve(["nw","n","ne","w","e","sw","s","se"],S=>P("div",{key:S,class:de(["resize-handle",`resize-${S}`]),onMousedown:pe(E=>_(S,E),["stop"])},null,42,io)),64)):Se("",!0)],38)}}}),ao=qe(ro,[["__scopeId","data-v-42aad11d"]]),so={class:"pointer-events-none absolute top-0 left-0 z-5 h-full w-full"},lo={class:"text-background pointer-events-none absolute rounded bg-red-500 px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap shadow-sm",style:{left:"50%",top:"-15px",transform:"translateX(-50%)"}},uo={class:"text-background pointer-events-none absolute rounded bg-red-500 px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap shadow-sm",style:{left:"5px",top:"50%",transform:"translateY(-50%)"}},co=he({__name:"guide-lines",props:{lines:{}},setup(w){const i=w;function p(r){return r.isDistanceLine&&r.distance!==void 0?`${Math.round(r.distance)}px`:""}const s=le(()=>i.lines.filter(r=>r.isAlignmentLine)),v=le(()=>i.lines.filter(r=>r.isDistanceLine&&r.spacingType==="horizontal")),c=le(()=>i.lines.filter(r=>r.isDistanceLine&&r.spacingType==="vertical")),g=le(()=>i.lines.filter(r=>r.isDistanceLine&&r.spacingType?.startsWith("canvas"))),h=le(()=>i.lines.filter(r=>r.isDistanceLine&&r.isEqualSpacing));return(r,_)=>(q(),W("div",so,[(q(!0),W(ue,null,ve(s.value,(t,d)=>(q(),W("div",{key:`align-${d}`,class:de(["absolute z-5",t.type==="vertical"?"left-[var(--pos)] h-full w-px":"top-[var(--pos)] h-px w-full"]),style:ee({"--pos":t.position+"px",background:t.type==="vertical"?"repeating-linear-gradient(to bottom, #ef4444 0px, #ef4444 2px, transparent 2px, transparent 4px)":"repeating-linear-gradient(to right, #ef4444 0px, #ef4444 2px, transparent 2px, transparent 4px)"})},null,6))),128)),(q(!0),W(ue,null,ve(h.value,(t,d)=>(q(),W("div",{key:`equal-spacing-${d}`,class:de(["absolute bg-green-500",t.type==="vertical"?"w-px":"h-px"]),style:ee({left:t.type==="vertical"?t.position+"px":(t.startX||0)+"px",top:t.type==="horizontal"?t.position+"px":(t.startY||0)+"px",width:t.type==="horizontal"?Math.abs((t.endX||0)-(t.startX||0))+"px":"1px",height:t.type==="vertical"?Math.abs((t.endY||0)-(t.startY||0))+"px":"1px"})},[P("div",{class:"text-background pointer-events-none absolute flex items-center gap-1 rounded bg-green-500 px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap shadow-sm",style:ee(t.type==="horizontal"?"left: 50%; top: -20px; transform: translateX(-50%)":"left: 8px; top: 50%; transform: translateY(-50%)")},[_[0]||(_[0]=P("span",{class:"text-[8px]"},"⚊",-1)),Ut(" "+te(p(t)),1)],4)],6))),128)),(q(!0),W(ue,null,ve(v.value.filter(t=>!t.isEqualSpacing),(t,d)=>(q(),W("div",{key:`h-distance-${d}`,class:"absolute h-px bg-red-500",style:ee({left:(t.startX||0)+"px",top:t.position+"px",width:Math.abs((t.endX||0)-(t.startX||0))+"px"})},[P("div",lo,te(p(t)),1)],4))),128)),(q(!0),W(ue,null,ve(c.value.filter(t=>!t.isEqualSpacing),(t,d)=>(q(),W("div",{key:`v-distance-${d}`,class:"absolute w-px bg-red-500",style:ee({left:t.position+"px",top:(t.startY||0)+"px",height:Math.abs((t.endY||0)-(t.startY||0))+"px"})},[P("div",uo,te(p(t)),1)],4))),128)),(q(!0),W(ue,null,ve(g.value,(t,d)=>(q(),W("div",{key:`canvas-distance-${d}`,class:de(["absolute bg-orange-500",t.type==="vertical"?"w-px":"h-px"]),style:ee({left:t.type==="vertical"?t.position+"px":(t.startX||0)+"px",top:t.type==="horizontal"?t.position+"px":(t.startY||0)+"px",width:t.type==="horizontal"?Math.abs((t.endX||0)-(t.startX||0))+"px":"1px",height:t.type==="vertical"?Math.abs((t.endY||0)-(t.startY||0))+"px":"1px"})},[P("div",{class:"text-background pointer-events-none absolute rounded bg-orange-500 px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap shadow-sm",style:ee(t.type==="horizontal"?"left: 50%; top: -15px; transform: translateX(-50%)":"left: 5px; top: 50%; transform: translateY(-50%)")},te(p(t)),5)],6))),128))]))}}),fo={class:"pointer-events-none absolute inset-0 z-[100]"},mo=he({__name:"highlight-area",props:{area:{},hasCollision:{type:Boolean}},setup(w){return(i,p)=>(q(),W("div",fo,[w.area?(q(),W("div",{key:0,class:de(["bg-opacity-10 absolute border will-change-transform",w.hasCollision?"border-red-500 bg-red-100":"border-primary"]),style:ee({left:`${w.area.x}px`,top:`${w.area.y}px`,width:`${w.area.width}px`,height:`${w.area.height}px`})},null,6)):Se("",!0)]))}}),po={class:"canvas-size-display"},vo=he({__name:"canvas-workspace",props:{zoomScale:{default:1}},setup(w){const i=w,p=Bn("designContainerRefs"),s=Ye(),v=Vn(),c=le(()=>i.zoomScale),{designStyle:g,handleSizeDragStart:h}=en(c),{components:r,highlightArea:_,guideLines:t,hasCollision:d,isDragging:M,draggingComponentId:S,activeComponentId:E,handleDragOver:z,handleDragLeave:b,handleDrop:D,handleComponentMouseDown:V,handleResizeStart:R}=to(p);function A(x){x.target===p.value?(s.isCanvasSelected=!0,s.setActiveComponent(null)):s.isCanvasSelected=!1}function n(x){const a=x.target.classList.contains("workspace"),o=x.target.classList.contains("zoom-container");(a||o)&&(s.isCanvasSelected=!1,s.setActiveComponent(null))}return Yn({delete:()=>{E.value&&s.removeComponent(E.value)}}),jt(()=>{document.addEventListener("click",n)}),Gt(()=>{document.removeEventListener("click",n)}),(x,a)=>(q(),W("div",{class:de(["relative h-full w-full",{"no-repeat bg-cover bg-center":I(s).configs.backgroundType!=="solid"}]),style:ee(I(s).configs.backgroundType==="solid"?{backgroundColor:I(v)==="light"?I(s).configs.backgroundColor:I(s).configs.backgroundDarkColor}:{backgroundImage:`url(${I(s).configs.backgroundImage})`})},[P("div",{ref_key:"designContainerRefs",ref:p,class:de(["design-container relative",{"canvas-selected":I(s).isCanvasSelected}]),style:ee(I(g)),onClick:pe(A,["stop"]),onDragover:a[1]||(a[1]=pe((...o)=>I(z)&&I(z)(...o),["prevent"])),onDragleave:a[2]||(a[2]=pe((...o)=>I(b)&&I(b)(...o),["prevent"])),onDrop:a[3]||(a[3]=pe((...o)=>I(D)&&I(D)(...o),["prevent"]))},[j(mo,{area:I(_),"has-collision":I(d)},null,8,["area","has-collision"]),j(co,{lines:I(t)},null,8,["lines"]),(q(!0),W(ue,null,ve(I(r),o=>(q(),rt(ao,{key:o.id,component:o,"is-active":o.id===I(E),"is-dragging":I(M)&&o.id===I(S),"has-collision":I(d)&&o.id===I(S),onMousedown:u=>I(V)(o,u),onResizeStart:(u,f)=>I(R)(o,u,f)},null,8,["component","is-active","is-dragging","has-collision","onMousedown","onResizeStart"]))),128)),I(ce).DEFAULT_WIDTH===1920&&I(s).showSafeArea?(q(),W(ue,{key:0},[P("div",{class:"safe-area-marker h-full",style:ee({left:`${(I(ce).DEFAULT_WIDTH-I(ce).SAFE_AREA_WIDTH)/2}px`})},[...a[4]||(a[4]=[P("div",{class:"safe-area-marker-line"},null,-1)])],4),P("div",{class:"safe-area-marker h-full",style:ee({right:`${(I(ce).DEFAULT_WIDTH-I(ce).SAFE_AREA_WIDTH)/2}px`})},[...a[5]||(a[5]=[P("div",{class:"safe-area-marker-line"},null,-1)])],4)],64)):Se("",!0),I(s).isCanvasSelected?(q(),W(ue,{key:1},[a[6]||(a[6]=P("div",{class:"canvas-border-line canvas-border-top"},null,-1)),a[7]||(a[7]=P("div",{class:"canvas-border-line canvas-border-right"},null,-1)),P("div",{class:"canvas-resize-line canvas-resize-bottom",onMousedown:a[0]||(a[0]=pe((...o)=>I(h)&&I(h)(...o),["stop"]))},null,32),a[8]||(a[8]=P("div",{class:"canvas-border-line canvas-border-left"},null,-1)),P("div",po,te(I(g).width)+" × "+te(I(g).height),1)],64)):Se("",!0)],38)],6))}}),ho=qe(vo,[["__scopeId","data-v-3f2582db"]]);var Le={exports:{}},Pt;function go(){if(Pt)return Le.exports;Pt=1,Le.exports=w,Le.exports.addWheelListener=w,Le.exports.removeWheelListener=i;function w(p,s,v){p.addEventListener("wheel",s,v)}function i(p,s,v){p.removeEventListener("wheel",s,v)}return Le.exports}var Ae={exports:{}},Qe,Bt;function yo(){if(Bt)return Qe;Bt=1;var w=4,i=.001,p=1e-7,s=10,v=11,c=1/(v-1),g=typeof Float32Array=="function";function h(z,b){return 1-3*b+3*z}function r(z,b){return 3*b-6*z}function _(z){return 3*z}function t(z,b,D){return((h(b,D)*z+r(b,D))*z+_(b))*z}function d(z,b,D){return 3*h(b,D)*z*z+2*r(b,D)*z+_(b)}function M(z,b,D,V,R){var A,n,x=0;do n=b+(D-b)/2,A=t(n,V,R)-z,A>0?D=n:b=n;while(Math.abs(A)>p&&++x<s);return n}function S(z,b,D,V){for(var R=0;R<w;++R){var A=d(b,D,V);if(A===0)return b;var n=t(b,D,V)-z;b-=n/A}return b}function E(z){return z}return Qe=function(b,D,V,R){if(!(0<=b&&b<=1&&0<=V&&V<=1))throw new Error("bezier x values must be in [0, 1] range");if(b===D&&V===R)return E;for(var A=g?new Float32Array(v):new Array(v),n=0;n<v;++n)A[n]=t(n*c,b,V);function x(a){for(var o=0,u=1,f=v-1;u!==f&&A[u]<=a;++u)o+=c;--u;var L=(a-A[u])/(A[u+1]-A[u]),T=o+L*c,l=d(T,b,V);return l>=i?S(a,T,b,V):l===0?T:M(a,o,o+c,b,V)}return function(o){return o===0?0:o===1?1:t(x(o),D,R)}},Qe}var Vt;function wo(){if(Vt)return Ae.exports;Vt=1;var w=yo(),i={ease:w(.25,.1,.25,1),easeIn:w(.42,0,1,1),easeOut:w(0,0,.58,1),easeInOut:w(.42,0,.58,1),linear:w(0,0,1,1)};Ae.exports=p,Ae.exports.makeAggregateRaf=h,Ae.exports.sharedScheduler=h();function p(r,_,t){var d=Object.create(null),M=Object.create(null);t=t||{};var S=typeof t.easing=="function"?t.easing:i[t.easing];S||(t.easing&&console.warn("Unknown easing function in amator: "+t.easing),S=i.ease);var E=typeof t.step=="function"?t.step:s,z=typeof t.done=="function"?t.done:s,b=v(t.scheduler),D=Object.keys(_);D.forEach(function(u){d[u]=r[u],M[u]=_[u]-r[u]});var V=typeof t.duration=="number"?t.duration:400,R=Math.max(1,V*.06),A,n=0;return A=b.next(a),{cancel:x};function x(){b.cancel(A),A=0}function a(){var u=S(n/R);n+=1,o(u),n<=R?(A=b.next(a),E(r)):(A=0,setTimeout(function(){z(r)},0))}function o(u){D.forEach(function(f){r[f]=M[f]*u+d[f]})}}function s(){}function v(r){if(!r){var _=typeof window<"u"&&window.requestAnimationFrame;return _?c():g()}if(typeof r.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof r.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return r}function c(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function g(){return{next:function(r){return setTimeout(r,1e3/60)},cancel:function(r){return clearTimeout(r)}}}function h(){var r=new Set,_=new Set,t=0;return{next:M,cancel:M,clearAll:d};function d(){r.clear(),_.clear(),cancelAnimationFrame(t),t=0}function M(z){_.add(z),S()}function S(){t||(t=requestAnimationFrame(E))}function E(){t=0;var z=_;_=r,r=z,r.forEach(function(b){b()}),r.clear()}}return Ae.exports}var et,$t;function xo(){if($t)return et;$t=1;function w(s){p(s);const v=i(s);return s.on=v.on,s.off=v.off,s.fire=v.fire,s}function i(s){let v=Object.create(null);return{on:function(c,g,h){if(typeof g!="function")throw new Error("callback is expected to be a function");let r=v[c];return r||(r=v[c]=[]),r.push({callback:g,ctx:h}),s},off:function(c,g){if(typeof c>"u")return v=Object.create(null),s;if(v[c])if(typeof g!="function")delete v[c];else{const h=v[c];for(let r=0;r<h.length;++r)h[r].callback===g&&h.splice(r,1)}return s},fire:function(c){const g=v[c];if(!g)return s;let h;arguments.length>1&&(h=Array.prototype.slice.call(arguments,1));for(let r=0;r<g.length;++r){const _=g[r];_.callback.apply(_.ctx,h)}return s}}}function p(s){if(!s)throw new Error("Eventify cannot use falsy object as events subject");const v=["on","fire","off"];for(let c=0;c<v.length;++c)if(s.hasOwnProperty(v[c]))throw new Error("Subject cannot be eventified, since it already has property '"+v[c]+"'")}return et=w,et}var tt,Ft;function bo(){if(Ft)return tt;Ft=1,tt=w;function w(s,v,c){typeof c!="object"&&(c={});var g=typeof c.minVelocity=="number"?c.minVelocity:5,h=typeof c.amplitude=="number"?c.amplitude:.25,r=typeof c.cancelAnimationFrame=="function"?c.cancelAnimationFrame:i(),_=typeof c.requestAnimationFrame=="function"?c.requestAnimationFrame:p(),t,d,M=342,S,E,z,b,D,V,R,A;return{start:x,stop:o,cancel:n};function n(){r(S),r(A)}function x(){t=s(),b=R=E=D=0,d=new Date,r(S),r(A),S=_(a)}function a(){var f=Date.now(),L=f-d;d=f;var T=s(),l=T.x-t.x,k=T.y-t.y;t=T;var F=1e3/(1+L);E=.8*l*F+.2*E,D=.8*k*F+.2*D,S=_(a)}function o(){r(S),r(A);var f=s();z=f.x,V=f.y,d=Date.now(),(E<-g||E>g)&&(b=h*E,z+=b),(D<-g||D>g)&&(R=h*D,V+=R),A=_(u)}function u(){var f=Date.now()-d,L=!1,T=0,l=0;b&&(T=-b*Math.exp(-f/M),T>.5||T<-.5?L=!0:T=b=0),R&&(l=-R*Math.exp(-f/M),l>.5||l<-.5?L=!0:l=R=0),L&&(v(z+T,V+l),A=_(u))}}function i(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function p(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(s){return setTimeout(s,16)}}return tt}var nt,Zt;function _o(){if(Zt)return nt;Zt=1,nt=w;function w(s){if(s)return{capture:p,release:p};var v,c,g,h=!1;return{capture:r,release:_};function r(t){h=!0,c=window.document.onselectstart,g=window.document.ondragstart,window.document.onselectstart=i,v=t,v.ondragstart=i}function _(){h&&(h=!1,window.document.onselectstart=c,v&&(v.ondragstart=g))}}function i(s){return s.stopPropagation(),!1}function p(){}return nt}var ot,Yt;function So(){if(Yt)return ot;Yt=1,ot=w;function w(){this.x=0,this.y=0,this.scale=1}return ot}var Fe={exports:{}},qt;function zo(){if(qt)return Fe.exports;qt=1,Fe.exports=w,Fe.exports.canAttach=i;function w(p,s){if(!i(p))throw new Error("svg element is required for svg.panzoom to work");var v=p.ownerSVGElement;if(!v)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");s.disableKeyboardInteraction||v.setAttribute("tabindex",0);var c={getBBox:h,getScreenCTM:r,getOwner:g,applyTransform:t,initTransform:_};return c;function g(){return v}function h(){var d=p.getBBox();return{left:d.x,top:d.y,width:d.width,height:d.height}}function r(){var d=v.getCTM();return d||v.getScreenCTM()}function _(d){var M=p.getCTM();M===null&&(M=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),d.x=M.e,d.y=M.f,d.scale=M.a,v.removeAttributeNS(null,"viewBox")}function t(d){p.setAttribute("transform","matrix("+d.scale+" 0 0 "+d.scale+" "+d.x+" "+d.y+")")}}function i(p){return p&&p.ownerSVGElement&&p.getCTM}return Fe.exports}var Ze={exports:{}},Nt;function Co(){if(Nt)return Ze.exports;Nt=1,Ze.exports=w,Ze.exports.canAttach=i;function w(p,s){var v=i(p);if(!v)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var c=p.parentElement;p.scrollTop=0,s.disableKeyboardInteraction||c.setAttribute("tabindex",0);var g={getBBox:r,getOwner:h,applyTransform:_};return g;function h(){return c}function r(){return{left:0,top:0,width:p.clientWidth,height:p.clientHeight}}function _(t){p.style.transformOrigin="0 0 0",p.style.transform="matrix("+t.scale+", 0, 0, "+t.scale+", "+t.x+", "+t.y+")"}}function i(p){return p&&p.parentElement&&p.style}return Ze.exports}var it,Ht;function Mo(){if(Ht)return it;Ht=1;var w=go(),i=wo(),p=xo(),s=bo(),v=_o(),c=v(),g=v(!0),h=So(),r=zo(),_=Co(),t=1,d=1.75,M=300,S=200;it=E;function E(a,o){o=o||{};var u=o.controller;if(u||(r.canAttach(a)?u=r(a,o):_.canAttach(a)&&(u=_(a,o))),!u)throw new Error("Cannot create panzoom for the current type of dom element");var f=u.getOwner(),L={x:0,y:0},T=!1,l=new h;u.initTransform&&u.initTransform(l);var k=typeof o.filterKey=="function"?o.filterKey:D,F=typeof o.pinchSpeed=="number"?o.pinchSpeed:1,Z=o.bounds,O=typeof o.maxZoom=="number"?o.maxZoom:Number.POSITIVE_INFINITY,G=typeof o.minZoom=="number"?o.minZoom:0,K=typeof o.boundsPadding=="number"?o.boundsPadding:.05,B=typeof o.zoomDoubleClickSpeed=="number"?o.zoomDoubleClickSpeed:d,X=o.beforeWheel||D,U=o.beforeMouseDown||D,oe=typeof o.zoomSpeed=="number"?o.zoomSpeed:t,J=z(o.transformOrigin),ge=o.enableTextSelection?g:c;V(Z),o.autocenter&&an();var fe,at=0,st=0,ze=0,lt=null,ut=new Date,Ne,Ce=!1,Me=!1,ie,re,He,Xe,We,se;"smoothScroll"in o&&!o.smoothScroll?se=n():se=s(hn,bn,o.smoothScroll);var Ue,Te,Ie,ke=!1;ht();var Re={dispose:_n,moveBy:xe,moveTo:je,smoothMoveTo:xn,centerOn:wn,zoomTo:Ve,zoomAbs:Oe,smoothZoom:Be,smoothZoomAbs:En,showRectangle:rn,pause:tn,resume:nn,isPaused:on,getTransform:sn,getMinZoom:ln,setMinZoom:un,getMaxZoom:cn,setMaxZoom:dn,getTransformOrigin:fn,setTransformOrigin:mn,getZoomSpeed:pn,setZoomSpeed:vn};p(Re);var ct=typeof o.initialX=="number"?o.initialX:l.x,dt=typeof o.initialY=="number"?o.initialY:l.y,ft=typeof o.initialZoom=="number"?o.initialZoom:l.scale;return(ct!=l.x||dt!=l.y||ft!=l.scale)&&Oe(ct,dt,ft),Re;function tn(){gt(),ke=!0}function nn(){ke&&(ht(),ke=!1)}function on(){return ke}function rn(e){var m=f.getBoundingClientRect(),y=ye(m.width,m.height),C=e.right-e.left,$=e.bottom-e.top;if(!Number.isFinite(C)||!Number.isFinite($))throw new Error("Invalid rectangle");var N=y.x/C,H=y.y/$,Q=Math.min(N,H);l.x=-(e.left+C/2)*Q+y.x/2,l.y=-(e.top+$/2)*Q+y.y/2,l.scale=Q}function ye(e,m){if(u.getScreenCTM){var y=u.getScreenCTM(),C=y.a,$=y.d,N=y.e,H=y.f;L.x=e*C-N,L.y=m*$-H}else L.x=e,L.y=m;return L}function an(){var e,m,y=0,C=0,$=pt();if($)y=$.left,C=$.top,e=$.right-$.left,m=$.bottom-$.top;else{var N=f.getBoundingClientRect();e=N.width,m=N.height}var H=u.getBBox();if(!(H.width===0||H.height===0)){var Q=m/H.height,_e=e/H.width,we=Math.min(_e,Q);l.x=-(H.left+H.width/2)*we+e/2+y,l.y=-(H.top+H.height/2)*we+m/2+C,l.scale=we}}function sn(){return l}function ln(){return G}function un(e){G=e}function cn(){return O}function dn(e){O=e}function fn(){return J}function mn(e){J=z(e)}function pn(){return oe}function vn(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");oe=e}function hn(){return{x:l.x,y:l.y}}function je(e,m){l.x=e,l.y=m,Ge(),be("pan"),Ke()}function mt(e,m){je(l.x+e,l.y+m)}function Ge(){var e=pt();if(e){var m=!1,y=gn(),C=e.left-y.right;return C>0&&(l.x+=C,m=!0),C=e.right-y.left,C<0&&(l.x+=C,m=!0),C=e.top-y.bottom,C>0&&(l.y+=C,m=!0),C=e.bottom-y.top,C<0&&(l.y+=C,m=!0),m}}function pt(){if(Z){if(typeof Z=="boolean"){var e=f.getBoundingClientRect(),m=e.width,y=e.height;return{left:m*K,top:y*K,right:m*(1-K),bottom:y*(1-K)}}return Z}}function gn(){var e=u.getBBox(),m=yn(e.left,e.top);return{left:m.x,top:m.y,right:e.width*l.scale+m.x,bottom:e.height*l.scale+m.y}}function yn(e,m){return{x:e*l.scale+l.x,y:m*l.scale+l.y}}function Ke(){T=!0,fe=window.requestAnimationFrame(Sn)}function vt(e,m,y){if(A(e)||A(m)||A(y))throw new Error("zoom requires valid numbers");var C=l.scale*y;if(C<G){if(l.scale===G)return;y=G/l.scale}if(C>O){if(l.scale===O)return;y=O/l.scale}var $=ye(e,m);if(l.x=$.x-y*($.x-l.x),l.y=$.y-y*($.y-l.y),Z&&K===1&&G===1)l.scale*=y,Ge();else{var N=Ge();N||(l.scale*=y)}be("zoom"),Ke()}function Oe(e,m,y){var C=y/l.scale;vt(e,m,C)}function wn(e){var m=e.ownerSVGElement;if(!m)throw new Error("ui element is required to be within the scene");var y=e.getBoundingClientRect(),C=y.left+y.width/2,$=y.top+y.height/2,N=m.getBoundingClientRect(),H=N.width/2-C,Q=N.height/2-$;xe(H,Q,!0)}function xn(e,m){xe(e-l.x,m-l.y,!0)}function xe(e,m,y){if(!y)return mt(e,m);Ue&&Ue.cancel();var C={x:0,y:0},$={x:e,y:m},N=0,H=0;Ue=i(C,$,{step:function(Q){mt(Q.x-N,Q.y-H),N=Q.x,H=Q.y}})}function bn(e,m){$e(),je(e,m)}function _n(){gt()}function ht(){f.addEventListener("mousedown",Ct,{passive:!1}),f.addEventListener("dblclick",zt,{passive:!1}),f.addEventListener("touchstart",wt,{passive:!1}),f.addEventListener("keydown",yt,{passive:!1}),w.addWheelListener(f,Lt,{passive:!1}),Ke()}function gt(){w.removeWheelListener(f,Lt),f.removeEventListener("mousedown",Ct),f.removeEventListener("keydown",yt),f.removeEventListener("dblclick",zt),f.removeEventListener("touchstart",wt),fe&&(window.cancelAnimationFrame(fe),fe=0),se.cancel(),Dt(),Et(),ge.release(),Je()}function Sn(){T&&zn()}function zn(){T=!1,u.applyTransform(l),be("transform"),fe=0}function yt(e){var m=0,y=0,C=0;if(e.keyCode===38?y=1:e.keyCode===40?y=-1:e.keyCode===37?m=1:e.keyCode===39?m=-1:e.keyCode===189||e.keyCode===109?C=1:(e.keyCode===187||e.keyCode===107)&&(C=-1),!k(e,m,y,C)){if(m||y){e.preventDefault(),e.stopPropagation();var $=f.getBoundingClientRect(),N=Math.min($.width,$.height),H=.05,Q=N*H*m,_e=N*H*y;xe(Q,_e)}if(C){var we=At(C*100),N=J?Ee():Cn();Ve(N.x,N.y,we)}}}function Cn(){var e=f.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function wt(e){if(Mn(e),De(),e.touches.length===1)return Dn(e,e.touches[0]);e.touches.length===2&&(We=St(e.touches[0],e.touches[1]),Ie=!0,xt())}function Mn(e){o.onTouch&&!o.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function Tn(e){De(),!(o.onDoubleClick&&!o.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function Dn(e){st=new Date;var m=e.touches[0],y=me(m);Ne=y;var C=ye(y.x,y.y);ie=C.x,re=C.y,He=ie,Xe=re,se.cancel(),xt()}function xt(){Ce||(Ce=!0,document.addEventListener("touchmove",bt),document.addEventListener("touchend",Pe),document.addEventListener("touchcancel",Pe))}function bt(e){if(e.touches.length===1){e.stopPropagation();var m=e.touches[0],y=me(m),C=ye(y.x,y.y),$=C.x-ie,N=C.y-re;$!==0&&N!==0&&It(),ie=C.x,re=C.y,xe($,N)}else if(e.touches.length===2){Ie=!0;var H=e.touches[0],Q=e.touches[1],_e=St(H,Q),we=1+(_e/We-1)*F,kt=me(H),Rt=me(Q);if(ie=(kt.x+Rt.x)/2,re=(kt.y+Rt.y)/2,J){var y=Ee();ie=y.x,re=y.y}Ve(ie,re,we),We=_e,e.stopPropagation(),e.preventDefault()}}function De(){ze&&(clearTimeout(ze),ze=0)}function _t(e){if(o.onClick){De();var m=ie-He,y=re-Xe,C=Math.sqrt(m*m+y*y);C>5||(ze=setTimeout(function(){ze=0,o.onClick(e)},M))}}function Pe(e){if(De(),e.touches.length>0){var m=me(e.touches[0]),y=ye(m.x,m.y);ie=y.x,re=y.y}else{var C=new Date;if(C-at<M)if(J){var m=Ee();Be(m.x,m.y,B)}else Be(Ne.x,Ne.y,B);else C-st<S&&_t(e);at=C,Je(),Et()}}function St(e,m){var y=e.clientX-m.clientX,C=e.clientY-m.clientY;return Math.sqrt(y*y+C*C)}function zt(e){Tn(e);var m=me(e);J&&(m=Ee()),Be(m.x,m.y,B)}function Ct(e){if(De(),!U(e)){if(lt=e,ut=new Date,Ce)return e.stopPropagation(),!1;var m=e.button===1&&window.event!==null||e.button===0;if(m){se.cancel();var y=me(e),C=ye(y.x,y.y);return He=ie=C.x,Xe=re=C.y,document.addEventListener("mousemove",Mt),document.addEventListener("mouseup",Tt),ge.capture(e.target||e.srcElement),!1}}}function Mt(e){if(!Ce){It();var m=me(e),y=ye(m.x,m.y),C=y.x-ie,$=y.y-re;ie=y.x,re=y.y,xe(C,$)}}function Tt(){var e=new Date;e-ut<S&&_t(lt),ge.release(),Je(),Dt()}function Dt(){document.removeEventListener("mousemove",Mt),document.removeEventListener("mouseup",Tt),Me=!1}function Et(){document.removeEventListener("touchmove",bt),document.removeEventListener("touchend",Pe),document.removeEventListener("touchcancel",Pe),Me=!1,Ie=!1,Ce=!1}function Lt(e){if(!X(e)){se.cancel();var m=e.deltaY;e.deltaMode>0&&(m*=100);var y=At(m);if(y!==1){var C=J?Ee():me(e);Ve(C.x,C.y,y),e.preventDefault()}}}function me(e){var m,y,C=f.getBoundingClientRect();return m=e.clientX-C.left,y=e.clientY-C.top,{x:m,y}}function Be(e,m,y){var C=l.scale,$={scale:C},N={scale:y*C};se.cancel(),$e(),Te=i($,N,{step:function(H){Oe(e,m,H.scale)},done:Ln})}function En(e,m,y){var C=l.scale,$={scale:C},N={scale:y};se.cancel(),$e(),Te=i($,N,{step:function(H){Oe(e,m,H.scale)}})}function Ee(){var e=f.getBoundingClientRect();return{x:e.width*J.x,y:e.height*J.y}}function Ve(e,m,y){return se.cancel(),$e(),vt(e,m,y)}function $e(){Te&&(Te.cancel(),Te=null)}function At(e){var m=Math.sign(e),y=Math.min(.25,Math.abs(oe*e/128));return 1-m*y}function It(){Me||(be("panstart"),Me=!0,se.start())}function Je(){Me&&(Ie||se.stop(),be("panend"))}function Ln(){be("zoomend")}function be(e){Re.fire(e,Re)}}function z(a){if(a){if(typeof a=="object")return(!R(a.x)||!R(a.y))&&b(a),a;b()}}function b(a){throw console.error(a),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function D(){}function V(a){var o=typeof a;if(!(o==="undefined"||o==="boolean")){var u=R(a.left)&&R(a.top)&&R(a.bottom)&&R(a.right);if(!u)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function R(a){return Number.isFinite(a)}function A(a){return Number.isNaN?Number.isNaN(a):a!==a}function n(){return{start:D,stop:D,cancel:D}}function x(){if(typeof document>"u")return;var a=document.getElementsByTagName("script");if(!a)return;for(var o,u=0;u<a.length;++u){var f=a[u];if(f.src&&f.src.match(/\bpanzoom(\.min)?\.js/)){o=f;break}}if(!o)return;var L=o.getAttribute("query");if(!L)return;var T=o.getAttribute("name")||"pz",l=Date.now();k();function k(){var O=document.querySelector(L);if(!O){var G=Date.now(),K=G-l;if(K<2e3){setTimeout(k,100);return}console.error("Cannot find the panzoom element",T);return}var B=F(o);console.log(B),window[T]=E(O,B)}function F(O){for(var G=O.attributes,K={},B=0;B<G.length;++B){var X=G[B],U=Z(X);U&&(K[U.name]=U.value)}return K}function Z(O){if(O.name){var G=O.name[0]==="p"&&O.name[1]==="z"&&O.name[2]==="-";if(G){var K=O.name.substr(3),B=JSON.parse(O.value);return{name:K,value:B}}}}}return x(),it}var To=Mo();const Do=qn(To);function Eo(w){const{maxZoom:i=2,minZoom:p=.2,modelValue:s="mouse",onUpdateMode:v}=w,c=ne(null),g=ne(null);let h=null;const r=ne(1),_=ne(!1),t=ne(s);function d(){if(!g.value||!c.value||!h)return;const n=g.value.getBoundingClientRect(),x=c.value.getBoundingClientRect(),a=(n.width-40)/x.width,o=(n.height-40)/x.height,u=Math.min(a,o),f=x.width===375?1.2:Math.min(Math.max(u,p),i),L=(n.width-x.width*f)/2,T=(n.height-x.height*f)/2;h.zoomAbs(0,0,f),h.moveTo(L,T),r.value=f}function M(){if(!c.value)return null;const n=Do(c.value,{maxZoom:i,minZoom:p,bounds:!0,smoothScroll:!0,beforeMouseDown:()=>t.value==="touchpad"?!_.value:!1,beforeWheel:x=>{if(t.value==="touchpad"){if(x.preventDefault(),x.metaKey||x.ctrlKey)return!1;if(n){const a=x.deltaMode===1?20:x.deltaMode===2?100:1;n.moveBy(-x.deltaX*a,-x.deltaY*a,!1)}return!0}return!1}});return n.on("zoom",x=>{r.value=x.getTransform().scale}),n}function S(){if(!h||h.getTransform().scale*1.2>i)return;const a=g.value?.getBoundingClientRect();if(!a)return;const o=a.width/2,u=a.height/2;h.smoothZoom(o,u,1.2)}function E(){if(!h||h.getTransform().scale*.8<p)return;const a=g.value?.getBoundingClientRect();if(!a)return;const o=a.width/2,u=a.height/2;h.smoothZoom(o,u,.8)}function z(){h&&d()}function b(){if(!h||!g.value||!c.value)return;const n=g.value.getBoundingClientRect(),x=c.value,a=Math.max(x.scrollWidth,x.offsetWidth,375),o=Math.max(x.scrollHeight,x.offsetHeight,600),u=(n.width-40)/a,f=(n.height-40)/o,L=Math.min(u,f),T=Math.min(Math.max(L,p),i),l=(n.width-a*T)/2,k=(n.height-o*T)/2,F=n.width/2,Z=n.height/2;h.smoothZoomAbs(F,Z,T),setTimeout(()=>{h&&h.smoothMoveTo(l,k)},250)}function D(n){t.value=n,v?.(n),c.value&&V()}function V(){const n=h?.getTransform();h?.dispose(),h=M(),n&&h&&(h.moveTo(n.x,n.y),h.zoomAbs(n.x,n.y,n.scale))}Kt(()=>s,n=>{n!==t.value&&D(n)},{immediate:!0});function R(n){n.code==="Space"&&!_.value&&(_.value=!0,n.preventDefault())}function A(n){n.code==="Space"&&_.value&&(_.value=!1)}return jt(()=>{if(!c.value)return;h=M();const n=new ResizeObserver(()=>{c.value&&g.value&&(n.disconnect(),$n(()=>{d()}))});n.observe(c.value),window.addEventListener("keydown",R),window.addEventListener("keyup",A)}),Gt(()=>{h?.dispose(),window.removeEventListener("keydown",R),window.removeEventListener("keyup",A)}),{contentRef:c,containerRef:g,currentScale:r,zoomIn:S,zoomOut:E,resetZoom:z,focusContent:b,updateInteractionMode:D}}const Lo=he({__name:"zoom-container",props:{maxZoom:{default:2},minZoom:{default:.2},zoomSpeed:{default:.1},containerStyle:{},contentStyle:{},modelValue:{default:"mouse"}},emits:["update:modelValue"],setup(w,{expose:i,emit:p}){const s=w,v=p,{contentRef:c,containerRef:g,currentScale:h,zoomIn:r,zoomOut:_,resetZoom:t,focusContent:d,updateInteractionMode:M}=Eo({maxZoom:s.maxZoom,minZoom:s.minZoom,zoomSpeed:s.zoomSpeed,modelValue:s.modelValue,onUpdateMode:S=>v("update:modelValue",S)});return Kt(()=>s.modelValue,S=>{S&&M(S)}),i({currentScale:h,zoomIn:r,zoomOut:_,resetZoom:t,focusContent:d,updateInteractionMode:M}),(S,E)=>(q(),W("div",{ref_key:"containerRef",ref:g,class:"zoom-container",style:ee(s.containerStyle)},[P("div",{ref_key:"contentRef",ref:c,class:"zoom-content",style:ee(s.contentStyle)},[Fn(S.$slots,"default",{},void 0,!0)],4)],4))}}),Ao=qe(Lo,[["__scopeId","data-v-7b87d7b6"]]),Io={class:"border-muted bg-background absolute bottom-5 left-1/2 z-10 -translate-x-1/2 rounded-lg border p-1 shadow-lg"},ko={class:"flex items-center gap-0.5"},Ro={class:"flex w-100 gap-4 p-2"},Oo=["onClick"],Po={class:"ml-3 flex-1"},Bo={class:"mb-1 text-sm font-medium"},Vo={class:"text-muted-foreground text-xs"},$o=he({__name:"zoom-controls",props:{scale:{default:1},modelValue:{default:"touchpad"}},emits:["zoomIn","zoomOut","reset","focus","update:modelValue"],setup(w,{emit:i}){const p=w,s=i,v=le(()=>`${Math.round(p.scale*100)}%`),c=[{label:"鼠标友好模式",value:"mouse",description:"按住鼠标左键拖动画布，直接滚轮缩放",icon:"i-lucide-mouse"},{label:"触摸板友好模式",value:"touchpad",description:"双指同向移动拖放，双指张开捏合缩放",icon:"i-lucide-tv-minimal"}];return(g,h)=>{const r=Xt,_=Wt,t=Qt,d=Jt;return q(),W("div",Io,[P("div",ko,[j(t,{content:{align:"center",side:"top",sideOffset:20}},{content:ae(()=>[P("div",Ro,[(q(),W(ue,null,ve(c,M=>P("div",{key:M.value,class:de(["hover:bg-muted flex cursor-pointer items-center rounded-lg p-3 transition-all",{"bg-primary-50 text-primary-600":p.modelValue===M.value}]),onClick:S=>s("update:modelValue",M.value)},[j(r,{name:M.icon,class:"h-5 w-5 flex-none"},null,8,["name"]),P("div",Po,[P("div",Bo,te(M.label),1),P("div",Vo,te(M.description),1)])],10,Oo)),64))])]),default:ae(()=>[j(_,{variant:"ghost",color:"neutral",size:"sm",class:"p-2"},{default:ae(()=>[j(r,{name:p.modelValue==="mouse"?"i-lucide-mouse":"i-lucide-tv-minimal",class:"size-4"},null,8,["name"]),j(r,{name:"i-heroicons-chevron-down",class:"size-4"})]),_:1})]),_:1}),j(_,{variant:"ghost",color:"neutral",size:"sm",class:"p-2",onClick:h[0]||(h[0]=M=>s("zoomOut"))},{default:ae(()=>[j(r,{name:"i-heroicons-minus",class:"size-4"})]),_:1}),j(_,{variant:"ghost",color:"neutral",size:"sm",class:"min-w-12 px-3 py-2",onClick:h[1]||(h[1]=M=>s("reset"))},{default:ae(()=>[Ut(te(v.value),1)]),_:1}),j(_,{variant:"ghost",color:"neutral",size:"sm",class:"p-2",onClick:h[2]||(h[2]=M=>s("zoomIn"))},{default:ae(()=>[j(r,{name:"i-heroicons-plus",class:"size-4"})]),_:1}),j(d,{text:"聚焦当前页面","delay-duration":0,popper:{placement:"top"}},{default:ae(()=>[j(_,{variant:"ghost",color:"neutral",size:"sm",class:"p-2",onClick:h[3]||(h[3]=M=>s("focus"))},{default:ae(()=>[j(r,{name:"i-lucide-fullscreen",class:"size-4"})]),_:1})]),_:1})])])}}}),Fo={class:"workspace flex min-w-0 flex-1 justify-center overflow-hidden rounded-lg p-5"},Zo={class:"relative h-full w-full"},Yo=he({__name:"workspace-panel",setup(w){const i=Ot(null),p=Ot("touchpad"),s=le(()=>i.value?.currentScale??1);return(v,c)=>(q(),W("div",Fo,[j(Ao,{ref_key:"zoomRef",ref:i,modelValue:p.value,"onUpdate:modelValue":c[0]||(c[0]=g=>p.value=g)},{default:ae(()=>[P("div",Zo,[j(Kn,{"zoom-scale":s.value},null,8,["zoom-scale"]),j(ho,{"zoom-scale":s.value},null,8,["zoom-scale"])])]),_:1},8,["modelValue"]),j($o,{modelValue:p.value,"onUpdate:modelValue":c[1]||(c[1]=g=>p.value=g),scale:s.value,onReset:c[2]||(c[2]=g=>i.value?.resetZoom()),onZoomIn:c[3]||(c[3]=g=>i.value?.zoomIn()),onZoomOut:c[4]||(c[4]=g=>i.value?.zoomOut()),onFocus:c[5]||(c[5]=g=>i.value?.focusContent())},null,8,["modelValue","scale"])]))}}),mi=qe(Yo,[["__scopeId","data-v-5fc01b36"]]);export{mi as default};
