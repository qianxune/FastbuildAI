import{d as k,at as w,av as E,i as K,s as B,n as A,q as D,c as h,o as y,x as v,t as c,z as f,w as s,_ as S,A as P,f as V,g as o,bJ as z,G as L}from"#entry";import{_ as N}from"./bvMLy1sv.js";import{_ as R}from"./o4ws_w_T.js";import{_ as q}from"./B5gsc-Ax.js";import{_ as F}from"./JxyxsHxp.js";import{P as T}from"./CClQHGwT.js";import{c as G,d as H}from"./DqafFsSA.js";import{u as M}from"./CxvgZo8z.js";import"./D9sX2Qi6.js";import"./CAQVAH0V.js";import"./Deu6qIfg.js";const W={class:"system-payConfig p-2"},I={class:"mb-6"},J={class:"text-secondary-foreground text-2xl font-bold"},j={key:1},ie=k({__name:"index",setup(O){const u=w(),x=E(),{t:e}=K(),g=B([]),C=A(()=>[{accessorKey:"logo",header:e("payment-config.logo")},{accessorKey:"payType",header:e("payment-config.payType")},{accessorKey:"name",header:e("payment-config.name")},{accessorKey:"isEnable",header:e("payment-config.isEnable")},{accessorKey:"isDefault",header:e("payment-config.isDefault")},{accessorKey:"sort",header:e("payment-config.sort")},{accessorKey:"action",header:e("payment-config.action")}]),$=z(async(t,n)=>{try{await H(t,n),u.success(e("system.website.messages.saveSuccess")),_()}catch{u.error(e("system.website.messages.saveFailed"))}},1e3),_=async()=>{const t=await G();g.value=t.map(({id:n,name:i,payType:r,isEnable:l,logo:d,isDefault:m,sort:p})=>({id:n,name:i,payType:r,isEnable:l,logo:d,isDefault:m,sort:p}))},U=(t,n)=>{x.push({path:M("system-payconfig:update"),query:{id:t,type:n}})};return D(()=>_()),(t,n)=>{const i=L,r=N,l=R,d=S,m=q,p=F;return y(),h("div",W,[v("div",I,[v("h1",J,f(t.$t("payment-config.title")),1)]),c(p,{columns:o(C),data:o(g),ui:{base:"table-fixed border-separate border-spacing-0",thead:"[&>tr]:bg-elevated/50 [&>tr]:after:content-none",tbody:"[&>tr]:last:[&>td]:border-b-0",th:"py-2 first:rounded-l-lg last:rounded-r-lg border-y border-default first:border-l last:border-r",td:"border-b border-default",tr:"[&:has(>td[colspan])]:hidden"}},{"logo-cell":s(({row:a})=>[c(i,{src:a.original.logo,alt:a.original.payType===o(T).WECHAT?o(e)("payment-config.wxPay"):o(e)("payment-config.alipayPay"),size:"md",ui:{root:"rounded-lg"}},null,8,["src","alt"])]),"payType-cell":s(({row:a})=>[P(f(a.original.payType===o(T).WECHAT?o(e)("payment-config.wxPay"):o(e)("payment-config.aliPay")),1)]),"isEnable-cell":s(({row:a})=>[c(r,{"model-value":a.original.isEnable===1,"onUpdate:modelValue":b=>o($)(a.original.id,b?1:0),size:"md"},null,8,["model-value","onUpdate:modelValue"])]),"isDefault-cell":s(({row:a})=>[a.original.isDefault===1?(y(),V(l,{key:0,label:o(e)("console-common.default"),color:"success"},null,8,["label"])):(y(),h("div",j))]),"action-cell":s(({row:a})=>[c(m,{codes:["system-payconfig:update"]},{default:s(()=>[c(d,{size:"md",variant:"ghost",color:"primary",onClick:b=>U(a.original.id,a.original.payType)},{default:s(()=>[P(f(t.$t("console-common.edit")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"])])}}});export{ie as default};
