const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B2IcKLph.js","./Cgyg1gJC.js","./Ghlq83yM.js","./DQMjdCEn.js","./OUYfsp1i.js","./BFo3vNrE.js","./CuVAPZQ8.js","./Z7qkLoXK.js","./CjE5iPSn.js","./D9UsdH-b.js","./MCK2d4XT.js","./EK7Wbu3-.js","./TrJvDfxI.js","./jsPNKUA0.js"])))=>i.map(i=>d[i]);
import{av as Y,as as X,ar as $,d as j,l as K,b7 as G,i as q,j as F,R as w,s as H,V as J,n as E,b8 as Q,cn as Z,S as L,c as f,o as i,y as h,x as c,g as s,t as I,bK as ee,z as y,w as P,f as U,C as N,G as te,B as oe,A as ne,a0 as se,D as le,W as ae,X as ie}from"#entry";import{_ as ce}from"./CBTz8tdX.js";import{a as re,b as ue,c as de,n as me}from"./CVgfx1_c.js";import{a as pe,c as fe}from"./TrJvDfxI.js";import{u as he}from"./fhkze2Jn.js";import{d as ge}from"./MCK2d4XT.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./DNSLGqNg.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./CuVAPZQ8.js";import"./psimjGaX.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./jsPNKUA0.js";function O(l){return l.startsWith("/extensions")}function A(l,S,r=!1){return S||r||O(l)}function xe(){const l=X(),S=Y(),r=l.public.isPlugin,g=l.public.appBaseURL||"/",C=n=>typeof n=="string"?n:S.resolve(n).href,v=n=>n.startsWith(g)?n:n.replace(new RegExp(`^${g}`),"");return{smartNavigate:(n,t)=>{const{newTab:b=!1,forceLocation:M=!1}=t||{},o=C(n);if(o.startsWith("http://")||o.startsWith("https://")){b?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o;return}if(b){const R=A(o,r,M)?o:r?`${g}${o}`.replace(/\/+/g,"/"):o;window.open(R,"_blank","noopener,noreferrer");return}A(o,r,M)?window.location.href=v(o):$(n)},smartReplace:n=>{const t=C(n);A(t,r)?window.location.replace(t):$(n,{replace:!0})},toAbsolutePath:n=>{if(n.startsWith("http://")||n.startsWith("https://"))return n;if(A(n,r)){const t=v(n),b=t.startsWith("/")?t:`/${t}`;return`${window.location.origin}${b}`}return n},isPlugin:r,baseURL:g,isExtensionPath:O}}const ye={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},ve={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},be={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},ke={key:0,class:"truncate"},_e={class:"ml-2 flex flex-col text-left"},we={class:"block w-35 truncate text-sm font-medium"},Ie={class:"text-muted-foreground text-xs"},Se={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},Le={class:"text-sm"},Pe={class:"flex flex-1 items-center gap-2"},Ce={key:0,class:"flex w-[100px] flex-col"},Me={class:"truncate text-sm font-medium"},Ue={class:"text-secondary-foreground truncate text-xs"},Ae={key:0,class:"flex items-center"},tt=j({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(l,{emit:S}){const r=ae(()=>ie(()=>import("./B2IcKLph.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),g=l,C=S,v=g.mode==="sidebar"?pe(g,"collapsed",C):K(!1),p=he(),{store:m}=fe(),u=G(),{locale:n,t,setLocale:b}=q(),{smartNavigate:M}=xe(),o=F(),R=w("nuxt-ui-language"),k=H(!1),B=J(),W=async()=>{await B.create(r).open()},T=E(()=>m.value==="auto"?{label:t("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:m.value==="light"?{label:t("layouts.theme.light"),icon:"i-lucide-sun"}:{label:t("layouts.theme.dark"),icon:"i-lucide-moon"}),z=E(()=>[[{label:"profile"}],[{label:p.consoleLayoutMode==="side"?t("layouts.sidebar"):t("layouts.mixture"),icon:p.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:t("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:p.consoleLayoutMode==="side",onSelect(e){e.preventDefault(),p.consoleLayoutMode="side",w(L.LAYOUT_MODE).value="side"}},{label:t("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:p.consoleLayoutMode==="mixture",onUpdateChecked(e){e&&(p.consoleLayoutMode="mixture",w(L.LAYOUT_MODE).value="mixture")},onSelect(e){e.preventDefault()}}]},{label:t("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:t("layouts.theme.color"),slot:"chip",chip:u.ui.colors.primary,content:{align:"center",collisionPadding:16},children:re.map(e=>({label:t(de[e]),chip:e,slot:"chip",checked:u.ui.colors.primary===e,type:"checkbox",onSelect:d=>{d.preventDefault();const x=w(L.NUXT_UI_BLACK_AS_PRIMARY),_=w(L.NUXT_UI_PRIMARY);if(_.value=e,u.ui.colors.primary=e,e==="black"){u.theme.blackAsPrimary=!0,x.value=!0,u.ui.colors.primary=e;return}u.theme.blackAsPrimary=!1,x.value=!1}}))},{label:t("layouts.theme.neutralLabel"),slot:"chip",chip:u.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:ue.map(e=>({label:t(me[e]),chip:e,slot:"chip",type:"checkbox",checked:u.ui.colors.neutral===e,onSelect:d=>{d.preventDefault();const x=w(L.NUXT_UI_NEUTRAL);x.value=e,u.ui.colors.neutral=e}}))}]},{label:T.value.label,icon:T.value.icon,children:[{label:t("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:m.value==="auto",onSelect(e){e.preventDefault(),m.value="auto"}},{label:t("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:m.value==="light",onSelect(e){e.preventDefault(),m.value="light"}},{label:t("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:m.value==="dark",onUpdateChecked(e){e&&(m.value="dark")},onSelect(e){e.preventDefault()}}]},{label:Z(n.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:Q.map(e=>({label:`${e.name}`,type:"checkbox",slot:"lang",checked:n.value===e.code,onSelect(d){d.preventDefault(),b(e.code),R.value=e.code}}))}],[{label:t("layouts.systemInfo.title"),icon:"i-tabler-info-circle",onSelect(e){e.preventDefault(),W()}},{label:t("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:t("layouts.logout"),icon:"i-lucide-log-out",onSelect(e){e.preventDefault(),o.logout()}}]]);return ge({o:()=>k.value=!k.value}),(e,d)=>{const x=ee,_=oe,D=te,V=ce;return i(),f("div",{class:N(["flex flex-col gap-1",l.collapsed?"px-1":"px-1.5"])},[s(p).consoleLayoutMode==="side"?(i(),f("div",ye,[c("div",ve,[c("a",be,[I(x,{name:"i-lucide-external-link"}),l.collapsed?h("",!0):(i(),f("span",ke,y(s(t)("layouts.officeLink")),1))])])])):h("",!0),c("div",{class:N(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":s(k)}])},[I(V,{open:s(k),"onUpdate:open":d[1]||(d[1]=a=>le(k)?k.value=a:null),items:s(z),content:l.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:l.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:l.collapsed||l.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":P(({item:a})=>[c("span",{style:se({backgroundColor:a.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":P(({item:a})=>[a.children?(i(),U(_,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):h("",!0)]),"lang-leading":P(({item:a})=>[ne(y(a.icon),1)]),item:P(({item:a})=>[a?.label==="profile"?(i(),f("div",{key:0,class:"flex px-1 pt-1.5",onClick:d[0]||(d[0]=Re=>s(M)(`/profile/${s(o).userInfo?.id}`))},[I(D,{src:s(o).userInfo?.avatar,alt:s(o).userInfo?.nickname,icon:s(o).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),c("div",_e,[c("span",we,y(s(o).userInfo?.nickname),1),c("span",Ie,y(s(o).userInfo?.username),1)])])):(i(),f("div",Se,[I(_,{name:a.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),c("span",Le,y(a.label),1)])),a.children?(i(),U(_,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):h("",!0),a.checked?(i(),U(_,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):h("",!0)]),default:P(()=>[l.mode==="sidebar"?(i(),f("div",{key:0,class:N(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":s(v)}])},[c("div",Pe,[I(D,{src:s(o).userInfo?.avatar,alt:s(o).userInfo?.nickname,icon:s(o).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),s(v)?h("",!0):(i(),f("div",Ce,[c("span",Me,y(s(o).userInfo?.nickname),1),c("span",Ue,y(s(o).userInfo?.username),1)]))]),s(v)?h("",!0):(i(),f("div",Ae,[I(x,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):l.mode==="mixture"?(i(),U(D,{key:1,src:s(o).userInfo?.avatar,alt:s(o).userInfo?.nickname,icon:s(o).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])):h("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{tt as default};
