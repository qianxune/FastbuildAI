const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Vk7x4Qbv.js","./cd55qm53.js","./Cgyg1gJC.js","./D_3bTjYR.js","./D9sX2Qi6.js","./Ghlq83yM.js","./DQMjdCEn.js","./OUYfsp1i.js","./BFo3vNrE.js","./CuVAPZQ8.js","./Z7qkLoXK.js","./CjE5iPSn.js","./D9UsdH-b.js","./MCK2d4XT.js","./EK7Wbu3-.js","./DJSECST3.js"])))=>i.map(i=>d[i]);
import{d as A,b4 as S,i as C,at as B,j as D,aN as E,c as k,x as l,z as i,g as e,t as o,w as n,b5 as F,o as v,W as y,_ as L,A as f,f as P,X as w}from"#entry";import{_ as T}from"./Da83zglB.js";import $ from"./cd55qm53.js";import{_ as j}from"./D_3bTjYR.js";import{_ as M}from"./DBiaUVBh.js";import"./9Q2Y_nd6.js";import"./td2xDKru.js";import"./RPflLnqr.js";import"./TrJvDfxI.js";import"./jsPNKUA0.js";import"./abPSHzII.js";import"./D9sX2Qi6.js";const O={class:"flex h-full flex-col space-y-4 p-2 pb-5"},R={class:"mt-8 mb-6 text-lg font-medium"},W={class:"bg-accent mb-6 flex items-center rounded-xl p-6"},q={class:"ml-4"},X={class:"text-foreground text-md font-semibold"},G={class:"text-muted-foreground mt-1 text-sm"},H={class:"space-y-8"},J={class:"flex items-center gap-2"},K={class:"flex-none"},Q={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},se={key:1},te={class:"mt-8 mb-6 text-lg font-medium"},le={class:"space-y-8"},ne={class:"flex items-center gap-2"},ae={class:"flex-none"},re={class:"flex items-center gap-2"},ke=A({__name:"index",setup(ie){const h=y(()=>w(()=>import("./Vk7x4Qbv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),z=y(()=>w(()=>import("./DJSECST3.js"),__vite__mapDeps([15,2,1,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),{copy:g}=S(),{t:s}=C(),p=B(),t=D(),{lockFn:x,isLock:b}=E(async(I,a)=>{try{const m=await F({field:I,value:a});t.getUser(),p.success(m.message)}catch(m){console.error("修改失败:",m)}});async function V(){t.userInfo?.userNo&&(await g(t.userInfo.userNo),p.success(s("console-common.messages.copySuccess")))}async function U(){t.userInfo?.username&&(await g(t.userInfo.username),p.success(s("console-common.messages.copySuccess")))}function _(){p.info(s("user.frontend.profile.featureNotAvailable"))}return(I,a)=>{const m=T,u=$,c=L,d=j,N=M;return v(),k("div",O,[l("section",null,[l("h2",R,i(e(s)("user.frontend.profile.myAccount")),1),l("div",W,[l("div",null,[o(m,{modelValue:e(t).userInfo.avatar,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).userInfo.avatar=r),class:"size-16 overflow-hidden !rounded-full",text:e(s)("user.frontend.profile.uploadAvatar"),icon:"i-lucide-user",accept:".jpg,.png,.jpeg",maxCount:1,single:!0,onSuccess:a[1]||(a[1]=r=>e(x)("avatar",r.url))},null,8,["modelValue","text"])]),l("div",q,[l("div",X,i(e(t).userInfo?.nickname||e(s)("user.frontend.profile.notSet")),1),l("div",G,i(e(t).userInfo?.phone||e(t).userInfo?.email||"-"),1)])]),l("div",H,[o(d,{label:e(s)("user.frontend.profile.nickname"),required:"",name:"nickname"},{default:n(()=>[l("div",J,[o(u,{modelValue:e(t).userInfo.nickname,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).userInfo.nickname=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),l("div",K,[o(e(h),{loading:e(b),"current-value":e(t).userInfo?.nickname,class:"flex-none",size:"lg",onSuccess:a[3]||(a[3]=r=>e(x)("nickname",r))},{default:n(()=>[o(c,{variant:"soft"},{default:n(()=>[f(i(e(s)("console-common.edit")),1)]),_:1})]),_:1},8,["loading","current-value"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.userNo"),name:"userNo"},{default:n(()=>[l("div",Q,[o(u,{modelValue:e(t).userInfo.userNo,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).userInfo.userNo=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:V},{default:n(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.username"),name:"username"},{default:n(()=>[l("div",Y,[o(u,{modelValue:e(t).userInfo.username,"onUpdate:modelValue":a[5]||(a[5]=r=>e(t).userInfo.username=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:U},{default:n(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.email"),name:"email"},{default:n(()=>[l("div",Z,[o(u,{"model-value":e(t).userInfo.email||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:n(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.phone"),name:"phone"},{default:n(()=>[l("div",ee,[o(u,{"model-value":e(t).userInfo.phone||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:n(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.registrationTime"),name:"createdAt"},{default:n(()=>[l("div",oe,[o(u,{variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},{leading:n(()=>[e(t).userInfo?.createdAt?(v(),P(N,{key:0,datetime:e(t).userInfo.createdAt,mode:"datetime"},null,8,["datetime"])):(v(),k("span",se,"-"))]),_:1})])]),_:1},8,["label"])])]),l("section",null,[l("h2",te,i(e(s)("user.frontend.profile.accountSecurity")),1),l("div",le,[o(d,{label:e(s)("user.frontend.profile.loginPassword"),name:"password"},{default:n(()=>[l("div",ne,[o(u,{"model-value":e(t).userInfo.password?e(s)("user.frontend.profile.passwordSet"):e(s)("user.frontend.profile.passwordSet"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),l("div",ae,[o(e(z),{loading:e(b),class:"flex-none",size:"lg"},{default:n(()=>[o(c,{size:"lg",variant:"soft"},{default:n(()=>[f(i(e(s)("console-common.update")),1)]),_:1})]),_:1},8,["loading"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.deactivateAccount"),name:"deactivate"},{default:n(()=>[l("div",re,[o(u,{"model-value":e(s)("user.frontend.profile.deactivateWarning"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",color:"error",onClick:_},{default:n(()=>[f(i(e(s)("user.frontend.profile.deactivate")),1)]),_:1})])]),_:1},8,["label"])])])])}}});export{ke as default};
