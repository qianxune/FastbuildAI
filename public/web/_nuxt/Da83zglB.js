const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CkFtyGVK.js","./Ghlq83yM.js","./Cgyg1gJC.js","./DQMjdCEn.js","./OUYfsp1i.js","./BFo3vNrE.js","./CuVAPZQ8.js","./Z7qkLoXK.js","./CjE5iPSn.js","./D9UsdH-b.js","./MCK2d4XT.js","./EK7Wbu3-.js"])))=>i.map(i=>d[i]);
import{aj as ue,d3 as ce,d as ge,bd as de,aP as me,l as x,k as fe,at as pe,n as H,p as Be,c,x as d,y as I,r as R,t as f,g as h,C as Q,z as w,bX as Ce,o as u,F as ve,E as he,f as Ee,B as xe,aZ as we,v as O,J as Se,V as ye,W as be,X as Ie}from"#entry";import Qe from"./cd55qm53.js";import{g as Ue,a as Fe,o as Ve,u as Ke}from"./9Q2Y_nd6.js";import{S as q}from"./td2xDKru.js";import{u as ke}from"./RPflLnqr.js";import{_ as Ye}from"./abPSHzII.js";async function De(i,B){const o=ue();try{let r=o.storageType;switch(r||(r=await o.checkStorageType()),r){case q.OSS:{const U=Ue(i.extensionId);return await Fe({...Ve(i,"description"),...U&&{extensionId:U}},B)}case q.LOCAL:return await ce(i,B)}return Promise.reject("Invalid storage type")}catch(r){throw console.error("[Upload] upload failed:",r),r}}const ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFF0lEQVR4nO2bX0xbVRzHfwXZTEF5YIss29gCxk1kkOGcwuLQGKpbMkc3EnERgjoNxDnJwEwfFqrypMw/82GYaDTwIA8bxZhsS4mKM5txw39z8U8iZBsPAs5EEJiU0vr73nlqb3vLei/H2FvPJyH3/O69hfP7nN855zalDorDA96ae4IOxzMhClVx+J+yu3DXmw/d8uBebkrHUEClt6aer7zLzaSgdm01Tfgn2/YU1x/gUCoxAjDycw76hJtJAwSAsenLrS2lDS9yUxoxAlzemt6Qg7ZzM2kQAsAf/sl9TxXXv8ZNKcQIqOytCfEhqYgUkO5I+zNIwYdr11T3crhgbCcABEPBK6NXxrbtL93zEYcLwpYCgCwJthUAIME/5694suiRsxxawtYCwExgZngqNH1H07onRjk0je0FgIVISAkBwKqElBEA+GnxEj8truJmwqSUADA+M/Hx0yWP3cfNhEg5AcCMhJQUABKVYAsBrrwKusm5lFvmGPr94lueu5obuBkXWwgozSmi25au5ZZ5rvUO0hYCnGnX07YCFy1KX8SReeaTYAsBYHXmcrp7ZRm3rDEw+k3ToYq2N7ipwzYCQE5GNm1eUUZZi7M4Mge/Z6ALE8M728r293AYxlYCQGB2lm5Ic9J1lEYrspfzmcTxzwX8Hfe/vJibYWwnQDAXCNCsf4Zb5vhs14e6nHUBsIsAq/RVdety1gVACVAClAAlgA8pixKgBCgBupx1AVAClAAlQAngQ8qiBCgBSoAuZ10AlAAlwJqA4pxbqWRJIbeIRqZ/pc9HvqTJ2SmOYsG9BdmrKSvDSYPjF+ncbz/o7sWnQLn88+3l7zkyJisjk/JvzNNeawbpAspzN1DDujqtw+Acd7r4bxFdPx6hrp+Ocusq6HTrxn2aKCSO12SyBCTvHTwevrdlfSOVL7uddhzbzZExjUV15C7Yot2D1yeKVAGulRXEn7hoybR/fVg7AiTqzt/CH2rupI7vOqln6DifJXpl0wHtmufMQRrlKgEY7do11bRp2QZyH3ucz1yV6rmzmdq/6iDf8Kd8JpaerW/TEP+9llMvcZQ40gSg412Vh7SkG/uf4zOxiJEWI+Tb/j5XxVEe6SMczQ9+N6bSswYJCvHzCYqHNAGiBJE8kkwE79Z36OfxC/TCmVfDUuKBqkAF1fbtDVeLAJV0M68homLMIE1AO3cCC5mZToikMLKnfznLPwNxFzFRYdEVI85jzTh8vpPPmEOaAKtzEOWLyinIXsURaZWAZLxDJ7R2JJ6NzZTP99VxFQiERKPKSARpAlABwKwAAUayJKeQXHmbtV1jkKdGY//zfOUfxGLo+eIgnR4Z4DNEnTz6Y5y41b8rTQC2KnTe7DZkxA7eMbCVRiYqQLljjcHOYSTELNIEYIXHYhQ9R60Sb4cQJQ/RLesbtKmD8reKNAEAc7Sc92+j7QgdbeXreA7AaCFGAh3nu2Ke8LAuYFsz2lEwVVAFkAMROEZLMoNUAXioQVKQgDmMVR2g0/jHJiSDfRxTBPeiYiDiFO8AWECBuNd36aT2MGWEEA0w+lYWP4FUAQJMh0oexVznEi0hdBAyfMMnteQjwWgjGdwHpvg6ko+uoEggDc8d17ovEf4VAXZCCVAClABdzroAKAH/dwHJ+MVJWThC9IHP3V3FzTAxApLxq7OySA/RvSfc3f0UQYwAkGxfnpZCiB7tc3e/R1EYCgCohCBRk92nA8o+jej16JEX/AVS3+lfWhLTjQAAAABJRU5ErkJggg==",G="data:image/png;base64,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",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAqdJREFUeF7tm012AiEMgKG9gJ6oeqX6uq6u++yVtCfSC1TaWOkb24QEJgygzHb4/UhCCMEa6fd2WJhH+3ou7sxCWk2nnNuY1Xyt09Z1K5Zt1E988kljI9MHEQawPayNuaw6S2rCAie3NC/zvUaPDICj0+gkTxs60kADqHX1r2iOh4ADAL1/sDt05azZm0+3ybOql1bB2IptzjgIOABq9RV1Lwjw/biTAzhvS8m7hBwArPzzbJl15X3j0QCMMYnjwwFgA0jsIAkY1T+oHqWa0FHCGNsCABIYsk8/XlqUOrQHAOaoCKFNAIoQ2gUggSDYtdoGoAChTgCUH7KapTluge27TgCkkXMbczJ79CAUMowBVagTAIj2VvkgRkhPvQDYrS7SxSKkoF4AZylQjEcQXmLdADQhNAvgd6uDOOSI6FTTAIbqDraB+7B4ws0A4CYP/yNOs/XbAMmE/5bpAJCIUlcBPKLVVQBVsQgdSlHR7HUixt8loEsARiBChLKLc0oHEePvKqCqArmv0v21HHczXEwCtIMYlPhTobHQzVJ2R0g7gBHSfS7aW0QC7h6AZvAiaPkFV19FJMAPWnJeT9nafB3OAPbjcI8H9IBIjwgVNYJjDJxW3Q6gh8T+Z5lld4WHfoBPqtYSad+Ocx+ipOliKpCS3hYLSZIJVgTA3Z8F7h4A5YPHijhXvloV8AOHO31rn7h5JP2HTNF+GBKgK2IEBeOarEgHMNYTxHJzJMZnsiVmOhotAdSWxgUjbx5AK1KAeqR4LJF+NEW6tYKgZElJCGWZIo8vaQCsZ3d5OAWpq7V8ocdWUYmSQ6dmTGpaLWACr0j4p7NTnPBygwpcpfEAJrvwyEUhbLNkAFqEILxJlgO4sgvwRM0+xT1uzLXCg3Zh0vBJD03fZb8AO+e+X+4bn4oAAAAASUVORK5CYII=",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADWUlEQVR4nO2Z3XHaQBDHVx77OaSCyB24g0AFwR1cKrCZ8cerX/0xg12B6cCkApMKQgfgDvCzPVZ+68EaEIIs4YQluN/Mzp6Ovdu9v4Q4pEi2nCAAttUEATAT19fX9SRJ7mnGsj56e3t7h61Wa0S7ECLMxNXV1QAXy/rpI0KjKBEizAQCJLjPojARqiKAUogIZRXgGfuCZfEuQlkF+I11ROQey+JVhAgzsW4Bzs7O6uR0UrAIpRZAgLxOChSh9AIo5HZSkAiVEEAhv5MCRKiMAAo1OPEsQqUEUKjDiUcRKieAQi1OPIlQSQEU6nHiQYTKCqBQk5N8EXqMb+D/SYSZIFmCWxcmARTqcpIjAuNNazMFKSRKcOtiGEVRR4zwnKKJO8BSqi7AygQBggBBANPaTEFKECAIEAQIAuCW5Y5NyggvbGxquCPMwh3xXfzHJsc6LqUUAmSLYI6eiHzHFjGzDWZcglsK5pjKPQ9TkOKjiJubm+bb29sDzbns7OwcnpycdGmm+Mg9D1OQ4qsI5hmKyDcsjyfGxJKBMQluKZhnJncepiDFVxG8ZD3me92mOQPf+9bp6ektzSl85c7DFKT4KqLdbtdeXl6GMvvm55kHGXHegwxfufMwBSk+i2CuW9wRNskd8cf4GYj3ljuLKUjxWQRXQcxVMKCZwtnf5+wPJQefubOYghTfRTBfF/cDU34R28TnQqzX3JOYgpRVi+DmV9/d3e1zlkccvh9zM3ykqTe/Bje/noBeHa+vr/HHsbJq7kWYgpRVi9AFsweon5+fX8gY+vqIUCMuljGXl5cX7AV6GykAi32g7yuH7zCnE6CvI8DZ11+IAVfE4aYK8EjzJ/0dyYEcTnjCiwDpV0KhP8EtBTnS3IswBSmrFjEhwJD+ffwM5Bjg4k0XQLILVCb/J2Q/XzX3IkxByqpFTAoAPT5r4FOYXz+rC2yDAFMbH+Y+wP3B3tkKAWDIQjsC9DsRiWUM/ZsnAOOdcIfHLEz9UjA2wS0F49PcizAFKf9TBPQ5m118bXyWa5iFEeM6gmdcE3+ALUVZBPg0ggBBgCCAaW2mICUIEAQIAgQBcJWhCAFGuC9YFXhCgFgMmAUY/5npyPzXWmXhKYoiN/lnahFmATaVIAC21Wy9AH8BUf5iXxuxTnAAAAAASUVORK5CYII=",Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACyUlEQVR4nO2bMUjjUBjH/1FwENo70EVQJ9FFsK5dxAZXrzc52sVFB+/Awe16u3C3u3R1K7oIWuktrnVwURw8FEVQEAU3yX3/exculLY2bWOT9PvBl3x5fUnf98tLCiWx0OOoAImeRgVI+MLJZj/i+XlZ0qxEsPT1fbUODk4kCwz/Amy7AsdJSfoePKK/fz5ICb4EOJnMF1n9QDIJjI9LGhAPD8DtrSR/CVSCPwG2XZCzv4zpaeDlRVoCgnLLZXgITII/AZlMGcBcFwSQQCRESQDpuISoCZARWydIJOatYvFRttomegJIByVEUwDpkIToCiAdkBBtAaRNCdEXQNqQEA8BpEUJ8RFAWpAQLwGG79bRUR5NogIkmubdBCQS/C9AEh/c3QE3N5LEQUArDA4Cp6eSqAAVoAJUgArIo0lUgETTqAAVoALKUAEqQAWoABWgAlSAClABVQImJ2VRxfX1/35DQya88EkQhguLGB2VpAbn57JoAPftqoDtbVPM/b1sCFNTps/ODnB8DCwuArYNXF2ZwY6NSSfh8ND0IdxnYwM4O5ONKra2ZNEAHrPrAvb2gN1d2fjH2pqZGevrRgBzbyGzs0AuB5RKZj9XwMoKfBNKASxwddUUVEsAYTtnBiXFSgAHlMuZolgcC60lgJ+z6M1NYHjY5O4xXHhp8TJqBL+v6wKqYZ9CAahU3hbgtjOvvgfwvuHeJ+oRCgE8SwwXbyH1BHgvE1cGc7+EQoD3EqimngAWTNgeewEzM2Yqc7D8GUynTc7iOc0jLYAD5/Rn1CKdNuGFNzcK45pQytKSEeKXrgvoNipABagAFaACghZg20U4zqfeFZDJ5AF8w8QEMDIiaYjgKzYXF1KR9dkqlYrS0hT+BPCNsaenSwAfJMLIbySTqcAelCTOwkIKr68/JZ2TCBO/MDCQs/b3L+ED3wLihgqQ6Gl6XsAfGqGLXxM1sLEAAAAASUVORK5CYII=",Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAD00lEQVR4nO2bT0gUURzHf2/+rIsRGVRS0db2HwS1gxoFVkR1sjzkoUNlhw5BUoeORVAdFYoOHVQyT0FdqlvRH+vUerAEISkKkwrDyBDM/eO8vm/8k7M7u85sI7szvQ/MvN9vZnm77zNv3rzd2WGUhWRveK9B/Bxx3oi0oCirzjzTN9zYj9BzbAUkYuFmTsZthEWBuvYiPtS3O1r0VjN5TIYA88hz4znCosEUAHhi+LIebb+C0DMyBMRjoS4iOomlaJgVIPBagp2APhTVWIqG+QIEXkqwE8BRFBXpAogbv9X4cAPb1PkU2T/hTwECjyT4V4DAAwn+FiAQEhIfd7KN3f3IXON/AYAZE8NKaLSGlXeMIHVFIAQI8pUQGAGCfCQESoDJ1K9eLdJWi8gRwRMAePKH4y9PgRQgcCrBFwKUFSeIlUQQucOJBF8IYKX1pCyvR+Sehb43+EIA52FSV7cQU0uQuSeXBF8IMAlVkbqyAUF+ZJPgHwEm5TgVDuGUiCDOg8TQMS3aeRfRHD4TgCOZwspYhksDFrcY8VR497COaA7fCZiFG1iJxSXhXQlLmy2JwC8C8qWkVgqwtNmSCKQAKUAKkAJQBBYpQAqQAixttiQCKUAKkAKkABSBRQqQAqQAS5stiUAKcCiAlVYt+MMkn+jHzcoxvK4Md3bWI3+LrTaI/aiPj/cgcVj3+Eus3eOZAK2il5TSSkTZSb5vIj72kJTyFtIirZR8dxAfvAd7rGgVMawZpQZqUBLpO74T03ILSA7UZheaA88EpBOqidPUl2s09fUqskyEMBaKULJ/23SvmEGNtJFafjZngxaq2w0FE0ChDaTjSIsekPrQhA1487LDpG+5R6nPF8gYuYkt9ixYtwsKJwBYGvzzEYS8hpBXEHIUe7PjpG6nFFSAQI12kLriOBno7gyDn+j6808JO5zW7YSCCxAjvl45iEGujFKfTpMx2o2NuXFctwMKLkBdc8n8xwePDyHj6AF1/08PYEv3kL79sfk6A5dHbdsTjAF/B8VsOKnbKYUTMNP1xeQoNXgAG6b/+qJF26cHxaBfBcRkh+FSmOzfauny2ub7uOffgFMhwPOAucmO3UxQ9AzIyTUe5KrbLYsmQBzJKYzoYuqbjhj4eGIo64gv5v7qutbpscBGgFk3Gp+th7hh0QT4BSlACpACLG22JAIpIBZ6g6IKSyBxIqCLiuzBSc/g7EFJXbwR0RwZAhKxJdWYkvQhDBwKU/bpNZMvaB4ZAgTF9vC0FzBSToVqJ7soDVsBAvMhaoOfJ8aPIPUv6PaKwq6nH/lZ/gBjD5Nf2bkbBQAAAABJRU5ErkJggg==",Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABXFJREFUWEfdmXtQVHUUx793dwUExBeIFEaCYIiYaySglDZSU8pkk6HRhMlYIsJI0TgitolubYBKg2TTMKyWj9HBpiwLBns51UQyhkSBUko4gDxUGHk/9zZnY7f94YV73b2g9ftnh3vP48P3nt+557fLwXLtgAIh6hQYuE3g4MHck+GPiSpnrHJ/TNfW151xIij9pjUhOcbpiwX+UKAEgIM1wcR8JqkmIN4rsq2h9/o+fWDqG2L2QvdZ4C/Vq8BxH1sTSIoPASfeHwUePGq7GnVtfV23rTQLXPBQJHg+T0pya2xMwOTbz/dbpfQdAyZoo9LdDdr6zuY9BSHZrVJEuKPAg0rfrO9q2ntg/i7tfwKYIA0woK6z4c367pYsMaXvuMImVfv4/psNEpS+a4ClKn1XARO0mNJjCuykdMDrM6PBgU07dLNRTdd2N2lutHZmfR6W0WZ5f0yBKXGUx5Pwc7pPtCEYle69lnEgcKdueOB89XMAd0I0mg0GDgo7+Dh6wtVusmgUHgb+ckdNeN2y09+ajMdcYVHKoQY81mBFifnte1vAkdPDEekRzoRs7GnGu9VHUdVZNyLLeKU91ns+g0enqBm7H1tKoa/5DB0DXcL+tgB7OrijKPQg6NPcPw39RuCtlftGBH7cNQSH5+2Cu/1Us12PoQ+LitahpPXi8L62AFPUcNeFODRPCw97VyZJeHEcvrlRLJiYbL8P0WOWo6f5fmt/B5IuZkJfc3LkKrEV2F5hh20+MdgxawOTiGDXlaWitruRuU72Wt84bPFey1zX155E0oVMEPiIy1ZgU/CCoGw84RYKhUVPJYiNv+vQzw+YGWJnrMJe/9fgpBxvvna+tRKhRevQY+gV34NyAQdN9DeWhr/zTIua7EXEuUR8PVgaQjVPT+Dl37QovF4kDksWcgFTrBXTwpA3Px2Oyn9PVGVtf+KF0hQ09bYgN1CDp6ctMYMN8AOILtPg2NVCabByA6s4JbLmbEHsjGeh5JRGCCqHnJpPUNleDd3sBKYUjtcXIvpXDVMyouRyKkzJqAN8MDeFUZKuU33ShjMtKgEqhaGbcsyBKeG8Cb74IUQPF5WTYH5J/XY4crkVNuV58Z7l2B+QfAu05H471sCznbyQp043qm25KtqrsPr8VpS3V4k+fUGD0VCYNt97AcnGzSe0hPqzZPrRAF7uFoY8dRrTESyBaANGlW7Hp43mKVEyr6x9mLIunvwgDgamwtdiKG/uawXNvZb9ubrrKmLKUnGm+RfpsHL3YYp3+uH9WDY1GArun0mV1Hzrsh5Txrlgs9fz5v5M92iUpCFJ0ivZ9G/JVRI0327zjoFm1iuMYh/VncLmij2g85tQf95ddQg7L+UMP/8O1V8u4IhpjyB3roaZb6mFLfxpLSo7qo1pqWMULzoMe8U4M8a13hbEl6fjRMNX0kpDDmAaakoWH4WbxbmMYOPL03Dkaj4DkuC1Bu/4JcBZ5chALz27AdTyRJetwC4qZ2T6J2G950om15G6fMRXpN0y37raTTI+iZXuSxn7Y/WFSChPA23QEZetwFq/OCR7x4B6r2n90XEFYT+vBz1uoSU0ZtKQlF193HjqGDXgBS4P4LvgHOb1S6WQWLEbH9adGjEvDfL0ZCxbHR08I869ijPN54b3tVZhUonmW4K2XDRKai/lirYqOnGk+sbipXsjGP8L7X9hY7kO9Cm4rAWmvjrH2QcqTsHEpYFdtA4HPWiTBjh7M/4G8KjsuILGnhvyAovu5tEysFbh0eIRjfv/Ah7ln71E1RQy4Ayr8VSp+QvKMf1h0QrgbhiwABElF0y+LDD9dBus3g5wmwBMtyKBfC48GsDx7+Ps+bexEwZT4L8Bn330S/1bvzIAAAAASUVORK5CYII=",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAxlJREFUeF7tmzFS6zAQhmUq6B4lA0143aOHErgCk3CL8I5AOALkFiTDFYASeuggFUMJJVXMrIdlhIjtXWtXyFhuQogk7//pX1mW7Mx0/Mg6rt8kAMkBDQiM+7M9qDY38+JT+vg//TuSbrOsPVYKfAg/zk2uIhyDzEx2NZz29kNA4AK4BPEQ4NzMr6UDzEx2DG3jOUJAIAM47T+MIMDc5CcaFgV35SYHwCcAFmFoQ2ADyEy2P5z2rqR73wYAgBG4djqQAYz7s8L+R9NNch0OJBcA1A0BgSzmJwCEgBA9AG0IrQCgCaE1ALQgtAqABoTWAZCG0EoAkhBaC0AKQnQAuDM/38lSNACgR8/6jzkXgK8TogLgc8PV1AlRAbB7E/7GO0PqPQXcQX7cSZLXE6ID4EKgirfLcdIoSgC2GFx+o4KANYVfBYAqHMtxB9LoHZAAMAkkBzDnEikFqA7TXhKjxlFXzjsFynZ9cJLBnZzUBSz9Oy6nL9q3WLSc/y0FgKB0UDG15y7rfwGA8+mYApaOpfMA3J2tzjlAHcDBaK3StTeTF/N092Z2DlfN+r/louzF6Ln4XN9aNjuD1S/1n+7fiu835y8i2aAOYDjpVQYKYgEAgALBcIwHs08AVQBvJ6/eINQBuAJQJFJBsRQAAAqdgfURYFM7qANwA7OF2j1YBwDE26mBYO3/N4EQFADk+fbgTxGna18OAKiPqdUqAPZ4gNbHXqMCgBTa2FopBcl1QTAHVPU+BF0HoEyYCzJKAHXimwAA6+MllCvaLh/EAVXW56QACMYDrwg+4qGuOgBK71Mc4DvYlYFSBWCLLwuAOhFKAKx5gK/tg44B7szPDX7R7M7Ob7u+VN4HBSDZWxptqY4BGgFLt1kJAB9WlD5pTO1VAoBAf/Oy2KI9w7QvQLVnZ/YFSm9ClB+WpnZEXTnvjZGyE1iPoKg8Ll8njPJ7k0dsOGNA8UID5+EDStCSZTBNOS91kAG4VwgAIRm8b1v4HhNHPJyTBQAhLJmlXe0Xp7hA8D0m7us8bADcwGIvnwDE3kPa8SUHaBOOvf13EUdIbo6UuVAAAAAASUVORK5CYII=",Je={doc:G,docx:G,pdf:Te,txt:Re,xlsx:Oe,csv:ze,mark:J,md:J,markdown:J,file:N,zip:Z,rar:Z},Ne=i=>{const B=i.split(".").pop()?.toLowerCase();return B?Je[B]??N:N},E={INITIAL:0,UPLOADING:1,SUCCESS:2,FAIL:3},Le={class:"bd-uploader"},Me={class:"group absolute inset-0 z-[1] size-full cursor-pointer rounded-md p-px"},je={key:1,class:"relative size-full rounded-md bg-black"},Pe=["src"],Xe={class:"absolute inset-0 flex items-center justify-center rounded-md bg-black/20"},He={key:2,class:"flex size-full flex-col items-center justify-center"},qe={class:"text-accent-foreground mt-2 max-w-full truncate px-2 text-xs"},Ge={key:3,class:"absolute inset-0 z-50 flex size-full flex-col items-center justify-center overflow-hidden rounded-md px-4 backdrop-blur-lg"},Ze={class:"text-xs text-white"},We={key:4,class:"absolute inset-0 z-10 flex w-full items-center justify-around overflow-hidden rounded-b-md bg-black/30 opacity-0 transition-all duration-200 group-hover:opacity-100 dark:bg-gray-800/80"},_e=["onClick"],$e=["onClick"],et=["onClick"],tt={key:0,class:"text-xs text-red-500"},st={key:1,class:"text-xs"},ot={key:0,timeout:0,class:"fixed right-4 bottom-4 z-50 w-64 rounded-lg bg-white p-4 shadow-lg dark:bg-gray-800",color:"primary"},nt={class:"flex flex-col gap-2"},at={class:"flex items-center justify-between"},it={class:"text-sm font-medium"},At={class:"text-xs"},rt=ge({__name:"index",props:{modelValue:{},type:{},single:{type:Boolean},maxCount:{},accept:{},maxSize:{},text:{},icon:{},class:{},disabled:{type:Boolean},progressText:{},finishProgressText:{},multiple:{type:Boolean},uploadApi:{},showPreviewButton:{type:Boolean,default:!0},showReplaceButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},addButtonClassName:{},extensionId:{}},emits:["update:modelValue","success","error","progress","exceed","change","remove"],setup(i,{emit:B}){const o=i,r=B,U=de(),{$i18n:W}=me(),{t:g}=W,n=x([]),F=fe("fileInputRef"),C=x(0),S=x(!1),v=x(""),V=x(null),_=x(`bd-uploader-${b()}`),p=pe(),L=H(()=>o.class||"h-28 w-full"),M=H(()=>o.single?n.value.length===0:o.maxCount?n.value.length<o.maxCount:!0);Be(()=>o.modelValue,$,{immediate:!0});function $(){if(n.value=[],!!o.modelValue)if(o.single&&typeof o.modelValue=="string"&&o.modelValue){const e=P(o.modelValue),s=k(e);n.value=[{id:b(),name:e,size:0,type:X(s),url:o.modelValue,progress:100,status:E.SUCCESS,extension:s,isImage:y(s),isVideo:Y(s)}]}else Array.isArray(o.modelValue)&&(n.value=o.modelValue.map(e=>{const s=P(e),t=k(s);return{id:b(),name:s,size:0,type:X(t),url:e,progress:100,status:E.SUCCESS,extension:t,isImage:y(t),isVideo:Y(t)}}))}async function ee(e){try{const t=e.target.files;if(!t||!t.length)return;if(v.value="",o.multiple&&t.length>1&&!o.single)await te(t);else{const a=t[0];if(!a||!j(a))return;const A=oe(a);ne(A),await se(A)}}finally{Se(()=>{const s=F.value;s&&(s.value="")})}}async function te(e){if(o.maxCount&&n.value.length+e.length>o.maxCount){p.warning(g("common.message.maxCount",{count:o.maxCount})),r("exceed",Array.from(e));return}const s=Array.from(e).filter(j);if(s.length){S.value=!0,C.value=0;try{const a=await(o.uploadApi||De)({files:s,...o.extensionId&&{extensionId:o.extensionId}},{onProgress:A=>{C.value=A}});Array.isArray(a)&&(a.forEach(A=>{const m={id:b(),name:A.originalName,size:A.size,type:A.type,url:A.url,progress:100,status:E.SUCCESS,extension:A.extension,isImage:y(A.extension),isVideo:Y(A.extension)};n.value.push(m),r("success",m,A)}),T(),p.success(g("common.message.uploadSuccess")))}catch(t){console.error("文件上传失败:",t),p.error(t?.message||g("common.message.uploadFailed"))}finally{setTimeout(()=>{S.value=!1},500)}}}async function se(e){if(!e.file){console.error("上传文件不存在");return}S.value=!0,C.value=0;try{const t=await(o.uploadApi||Ke)({file:e.file,...o.extensionId&&{extensionId:o.extensionId}},{onProgress:A=>{const m=n.value.findIndex(l=>l.id===e.id);m!==-1&&n.value[m]&&(n.value[m].progress=A,C.value=A,r("progress",n.value[m],A))}}),a=n.value.findIndex(A=>A.id===e.id);a!==-1&&n.value[a]&&(n.value[a].progress=100,n.value[a].status=E.SUCCESS,t&&(n.value[a].url=t.url,n.value[a].extension=t.extension),T(),r("success",n.value[a],t),setTimeout(()=>{p.success(g("common.message.uploadSuccess"))},1e3))}catch(s){const t=n.value.findIndex(a=>a.id===e.id);t!==-1&&n.value[t]&&(r("error",n.value[t],s),K(t)),console.error("文件上传失败:",s),p.error(s?.message||"上传失败")}finally{setTimeout(()=>{S.value=!1},500)}}function oe(e){const s=k(e.name),t=e.type.startsWith("image/")||y(s),a=e.type.startsWith("video/")||Y(s);return{id:b(),name:e.name,size:e.size,type:e.type,url:URL.createObjectURL(e),progress:0,status:E.UPLOADING,file:e,extension:s,isImage:t,isVideo:a}}function ne(e){return V.value!==null?(o.single?n.value=[e]:n.value.splice(V.value,1,e),V.value=null,r("change",e),!0):o.single?(n.value=[e],r("change",e),!0):o.maxCount&&n.value.length>=o.maxCount?(p.warning(g("common.message.maxCount",{count:o.maxCount})),e.file&&r("exceed",[e.file]),!1):(n.value.push(e),r("change",e),!0)}function ae(e,s){if(e.isImage){const t=Array.isArray(o.modelValue)?o.modelValue.filter(a=>a):o.modelValue?[o.modelValue]:[];ke(t,s)}else if(e.isVideo){const t=ye(),a=be(()=>Ie(()=>import("./CkFtyGVK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url));t.create(a).open({videoUrl:e.url,title:e.name})}else window.open(e.url,"_blank")}function ie(e){if(V.value=e,o.disabled)return;F.value?.inputRef?.click()}function Ae(){if(o.disabled)return;F.value?.inputRef?.click()}function K(e){const s=n.value[e];s&&s.url.startsWith("blob:")&&URL.revokeObjectURL(s.url),n.value.splice(e,1),T(),s&&r("remove",s)}function T(){const e=n.value.filter(t=>t.status===E.SUCCESS).map(t=>t.url),s=o.single?e[0]||"":e;r("update:modelValue",s),U?.emitFormChange()}function j(e){const s=o.maxSize||5;if(e.size>s*1024*1024){const t=g("common.message.fileSizeTooLarge",{size:le(s*1024*1024)});return v.value=t,p.warning(t),!1}if(o.accept&&!re(e)){const t=g("common.message.fileTypeNotMatch");return v.value=t,p.warning(t),!1}return!0}function re(e){return o.accept?o.accept.split(",").map(t=>t.trim()).some(t=>{if(t==="*")return!0;if(t.startsWith("."))return`.${k(e.name)}`===t.toLowerCase();if(t.endsWith("/*")){const a=t.split("/")[0];return e.type.startsWith(`${a}/`)}return e.type===t}):!0}function k(e){return e.split(".").pop()?.toLowerCase()||""}function P(e){try{const s=new URL(e);return s.pathname.substring(s.pathname.lastIndexOf("/")+1)}catch{return e.substring(e.lastIndexOf("/")+1)}}function y(e){return["jpg","jpeg","png","gif","bmp","webp","svg"].includes(e.toLowerCase())}function Y(e){return["mp4","webm","ogg","mov","avi","m4v","mkv"].includes(e.toLowerCase())}function X(e){return y(e)?"image":["mp4","webm","ogg","mov","avi"].includes(e.toLowerCase())?"video":"file"}function b(){return`${Date.now().toString(36)}${Math.random().toString(36).substring(2,5)}`}function le(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:e<1073741824?`${(e/1048576).toFixed(2)} MB`:`${(e/1073741824).toFixed(2)} GB`}return(e,s)=>{const t=we,a=xe,A=Ce,m=Qe;return u(),c("div",Le,[d("div",{class:Q(["file-list",{"flex flex-wrap gap-4":!i.single&&n.value.length>0}])},[R(e.$slots,"file-list",{fileList:n.value,remove:K},()=>[(u(!0),c(ve,null,he(n.value,(l,D)=>(u(),c("div",{key:l.id,class:Q(["form-input focus-within:ring-primary-500 dark:focus-within:ring-primary-400 file:text-muted-foreground relative block rounded-md border-0 bg-gray-50 p-0 text-sm text-gray-900 placeholder-gray-400 shadow-sm ring-1 ring-gray-300 ring-inset file:mr-1.5 file:border-0 file:bg-transparent file:p-0 file:font-medium file:outline-none focus-within:ring-2 focus-within:outline-none dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:ring-gray-700 dark:file:text-gray-400",[L.value]])},[R(e.$slots,"file-item",{item:l,index:D,remove:K},()=>[d("div",Me,[l.isImage?(u(),Ee(t,{key:0,src:l.url,class:"size-full rounded-md object-contain",alt:""},null,8,["src"])):l.isVideo?(u(),c("div",je,[d("video",{src:l.url,class:"size-full rounded-md object-cover",preload:"metadata",muted:""},null,8,Pe),d("div",Xe,[f(a,{name:"i-lucide-play-circle",class:"size-10 text-white opacity-80"})])])):(u(),c("div",He,[f(t,{src:h(Ne)(l.name),class:"size-12 object-contain",alt:""},null,8,["src"]),d("p",qe,w(l.name),1)])),l.status===h(E).UPLOADING?(u(),c("div",Ge,[f(A,{class:"my-2",modelValue:l.progress,"onUpdate:modelValue":z=>l.progress=z},null,8,["modelValue","onUpdate:modelValue"]),d("p",Ze,w(l.progress===100?i.finishProgressText||h(g)("common.message.uploadSuccess"):i.progressText||h(g)("common.message.uploading")),1)])):(u(),c("div",We,[i.showPreviewButton?(u(),c("span",{key:0,class:"hover:bg-primary transition-color flex size-6 cursor-pointer items-center justify-center rounded-lg",onClick:O(z=>ae(l,D),["stop"]),title:"预览"},[f(a,{name:"i-lucide-eye",class:"text-white"})],8,_e)):I("",!0),i.showReplaceButton?(u(),c("span",{key:1,class:"hover:bg-primary flex size-6 cursor-pointer items-center justify-center rounded-lg transition-colors",onClick:O(z=>ie(D),["stop"]),title:"重新选择"},[f(a,{name:"tabler:reload",class:"text-white"})],8,$e)):I("",!0),i.showRemoveButton?(u(),c("span",{key:2,class:"flex size-6 cursor-pointer items-center justify-center rounded-lg transition-colors hover:bg-red-500",onClick:O(z=>K(D),["stop"]),title:"删除"},[f(a,{name:"tabler:trash",class:"text-white"})],8,et)):I("",!0)]))])],!0)],2))),128))],!0),M.value?(u(),c("div",{key:0,onClick:Ae},[R(e.$slots,"add-button",{showAddButton:M.value,disabled:i.disabled,errorMessage:v.value,text:i.text||h(g)("common.clickUploadFile"),icon:i.icon||"tabler:upload"},()=>[d("div",{class:Q(["hover:border-primary-500 dark:hover:border-primary-400 relative block rounded-md border border-dashed border-gray-300 p-0 text-sm text-gray-900 placeholder-gray-400 transition-colors duration-200 dark:border-gray-700",[L.value,i.disabled?"cursor-not-allowed opacity-75":"cursor-pointer"]])},[d("div",{class:Q(["dark:text-muted-foreground flex size-full flex-col items-center justify-center gap-2 text-gray-400",[i.addButtonClassName]])},[f(a,{name:i.icon||"tabler:upload",class:Q(["text-2xl",v.value?"text-red-500":""])},null,8,["name","class"]),v.value?(u(),c("p",tt,w(v.value),1)):(u(),c("p",st,w(i.text||h(g)("common.clickUploadFile")),1))],2)],2)],!0)])):I("",!0),f(m,{id:_.value,ref_key:"fileInputRef",ref:F,type:"file",class:"hidden",disabled:i.disabled,multiple:i.multiple&&!i.single,accept:i.accept,onChange:ee},null,8,["id","disabled","multiple","accept"])],2),S.value?(u(),c("div",ot,[d("div",nt,[d("div",at,[d("span",it,w(h(g)("common.message.progress")),1),d("span",At,w(C.value)+"%",1)]),f(A,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=l=>C.value=l)},null,8,["modelValue"])])])):I("",!0)])}}}),ft=Ye(rt,[["__scopeId","data-v-ef742a4b"]]);export{ft as _};
