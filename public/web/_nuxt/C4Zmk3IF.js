import{d as S,i as b,l as w,n as C,q as P,c as a,o as r,x as n,t as L,B,z as d,g as i,F as Q,E,C as M,y as q,av as z}from"#entry";import{L as h}from"./BherOyCc.js";import"./cd55qm53.js";const N={class:"system-page-provider flex h-full flex-col"},T={key:0,class:"flex flex-1 items-center justify-center"},V={class:"mx-auto max-w-sm text-center"},j={class:"text-foreground mb-2 text-lg font-semibold"},A={class:"text-muted-foreground text-sm"},F={key:1,class:"flex-1 overflow-y-auto p-6"},I={class:"flex flex-wrap gap-3"},R=["onClick"],Y={class:"min-w-0 flex-1"},$={class:"text-foreground flex items-center truncate text-base font-semibold"},D={key:0,class:"absolute top-0 right-0 flex-none"},G=S({__name:"system-page-provider",props:{searchQuery:{default:""},selected:{default:null}},emits:["select"],setup(m,{emit:g}){const{t:c}=b(),l=m,x=g,u=w([]),f=C(()=>{if(!l.searchQuery)return u.value;const t=l.searchQuery.toLowerCase();return u.value.filter(s=>s.name?.toLowerCase().includes(t)||s.path?.toLowerCase().includes(t))}),_=async()=>{const t=z().getRoutes(),s=[];for(const o of t){const e=o.meta;e?.inLinkSelector&&e?.inSystem&&s.push({type:h.SYSTEM,name:e.title||o.name?.toString()||o.path,path:o.path,query:{}})}s.sort((o,e)=>{const y=o.name||"",k=e.name||"";return y.localeCompare(k)}),u.value=s},v=t=>{x("select",t)},p=t=>l.selected?.path===t.path&&l.selected?.type===h.SYSTEM;return P(()=>_()),(t,s)=>{const o=B;return r(),a("div",N,[f.value.length===0?(r(),a("div",T,[n("div",V,[L(o,{name:"i-heroicons-document-magnifying-glass",class:"text-muted-foreground/50 mx-auto mb-4 h-16 w-16"}),n("h3",j,d(m.searchQuery?i(c)("console-common.linkPicker.emptyState.noMatchingPages"):i(c)("console-common.linkPicker.emptyState.noSystemPages")),1),n("p",A,d(m.searchQuery?i(c)("console-common.linkPicker.emptyState.tryOtherKeywords"):i(c)("console-common.linkPicker.emptyState.contactAdmin")),1)])])):(r(),a("div",F,[n("div",I,[(r(!0),a(Q,null,E(f.value,e=>(r(),a("div",{key:e.path,class:M(["group relative flex cursor-pointer items-center gap-4 rounded-xl px-4 py-3 transition-all duration-200",p(e)?"bg-primary/5 shadow-sm":"bg-accent hover:bg-primary/5"]),onClick:y=>v(e)},[n("div",Y,[n("div",$,d(i(c)(e.name)),1)]),p(e)?(r(),a("div",D,[...s[0]||(s[0]=[n("div",{class:"bg-primary flex size-3 items-center justify-center rounded-full"},null,-1)])])):q("",!0)],10,R))),128))])]))])}}});export{G as default};
