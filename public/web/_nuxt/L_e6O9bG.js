import{d as I,i as D,s as x,a2 as k,p as $,f as z,o as C,w as f,t as l,x as t,z as _,g as a,B as F,m as O,v as R,_ as A,y as L,A as G,c as H,E as J,C as K,F as Q,D as W}from"#entry";import{_ as X}from"./DOOZ3wAl.js";import{_ as Y}from"./Y67jy4iF.js";import{_ as Z}from"./DbqqhwXM.js";import{_ as ee}from"./D5g96Tpw.js";import{_ as oe}from"./hsuWSsy6.js";import{d as te}from"./MCK2d4XT.js";import"./o4ws_w_T.js";import"./cd55qm53.js";import"./Cub7JM7Q.js";import"./Cie-o9Wa.js";import"./jsPNKUA0.js";import"./abPSHzII.js";import"./D7VOTB3C.js";import"./B0g9CpkI.js";import"./CjasYwqF.js";import"./CAQVAH0V.js";import"./DBEJUH-Z.js";import"./CuVAPZQ8.js";import"./CMKSl-Ng.js";import"./BCcN9pii.js";import"./CtosDvS0.js";import"./Deu6qIfg.js";import"./D9sX2Qi6.js";import"./DNSLGqNg.js";import"./psimjGaX.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./BstbYvQo.js";import"./DMoqg0Fd.js";import"./kRIii9yh.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";const ae={class:"truncate"},se={class:"flex items-center gap-2"},ie={class:"hidden"},ne={class:"bg-background w-84 overflow-hidden rounded-lg p-4 shadow-lg"},le={class:"mb-4"},de={class:"mb-1 text-sm font-medium"},re={class:"space-y-2"},me={class:"flex items-center justify-between"},pe={class:"text-sm font-medium"},ce={class:"space-y-3"},ue={class:"flex items-center gap-3"},fe={class:"flex w-20 min-w-0 items-center"},_e={class:"text-muted-foreground text-xs"},Ye=I({__name:"model-config",props:{modelValue:{default:()=>({id:"",options:{}})},disabled:{type:Boolean,default:!1},buttonUi:{}},emits:["update:modelValue"],setup(B,{emit:M}){const s=B,j=M,{t:i}=D(),d=x(!1),b=x(""),r=x(s.modelValue.id),c=[{key:"temperature",label:i("ai-provider.backend.modelConfig.temperature.title"),description:i("ai-provider.backend.modelConfig.temperature.description"),range:{min:0,max:1,step:.1,default:0}},{key:"topP",label:i("ai-provider.backend.modelConfig.top_p.title"),description:i("ai-provider.backend.modelConfig.top_p.description"),range:{min:0,max:1,step:.1,default:1}},{key:"presencePenalty",label:i("ai-provider.backend.modelConfig.presence_penalty.title"),description:i("ai-provider.backend.modelConfig.presence_penalty.description"),range:{min:0,max:1,step:.1,default:0}},{key:"frequencyPenalty",label:i("ai-provider.backend.modelConfig.frequency_penalty.title"),description:i("ai-provider.backend.modelConfig.frequency_penalty.description"),range:{min:0,max:1,step:.1,default:0}}],u=k(c.reduce((o,{key:e,range:p})=>({...o,[e]:s.modelValue.options?.[e]??p.default}),{})),m=k(c.reduce((o,{key:e})=>({...o,[e]:s.modelValue.options?.[e]!==void 0}),{})),v=()=>{const o=Object.fromEntries(c.filter(({key:e})=>m[e]).map(({key:e})=>[e,u[e]]));j("update:modelValue",{id:r.value,options:o})},V=o=>{r.value=o,v()},y=o=>{o&&(b.value=o.name,r.value=o.id,v())};return $([u,m],v,{deep:!0}),$(()=>s.modelValue,o=>{r.value=o.id,c.forEach(({key:e,range:p})=>{u[e]=o.options?.[e]??p.default,m[e]=o.options?.[e]!==void 0})},{deep:!0}),te({o:()=>d.value=!d.value}),(o,e)=>{const p=F,w=A,U=X,E=Y,N=Z,P=ee,S=oe;return C(),z(S,{open:a(d),"onUpdate:open":e[1]||(e[1]=n=>W(d)?d.value=n:null),"default-open":!1,disabled:s.disabled},{content:f(()=>[t("div",ne,[t("div",le,[t("h3",de,_(o.$t("ai-agent.backend.configuration.model")),1),l(U,{"model-value":a(r),console:"",disabled:s.disabled,"button-ui":{variant:"outline",color:"neutral",size:"lg",class:"w-full justify-between bg-background"},supportedModelTypes:["llm"],"onUpdate:modelValue":V,onChange:y},null,8,["model-value","disabled"])]),t("div",re,[t("div",me,[t("h3",pe,_(o.$t("ai-agent.backend.configuration.parameters")),1),l(w,{size:"xs",variant:"soft",color:"primary",icon:"i-lucide-plus"},{default:f(()=>[G(_(o.$t("ai-agent.backend.configuration.preset")),1)]),_:1})]),t("div",ce,[(C(),H(Q,null,J(c,({key:n,label:T,description:q,range:g})=>t("div",{key:n},[t("div",ue,[l(E,{modelValue:a(m)[n],"onUpdate:modelValue":h=>a(m)[n]=h,size:"sm"},null,8,["modelValue","onUpdate:modelValue"]),t("div",fe,[t("span",_e,_(T),1),l(N,{text:q,"delay-duration":0},{default:f(()=>[l(p,{name:"i-lucide-circle-help",class:"text-muted-foreground ml-1 size-3"})]),_:1},8,["text"])]),t("div",{class:K(["flex-1",{"pointer-events-none opacity-50":!a(m)[n]}])},[l(P,{modelValue:a(u)[n],"onUpdate:modelValue":h=>a(u)[n]=h,min:g.min,max:g.max,step:g.step,size:"sm",class:"w-full"},null,8,["modelValue","onUpdate:modelValue","min","max","step"])],2)])])),64))])])])]),default:f(()=>[l(w,O({color:a(b)?"primary":"neutral",variant:"soft",class:"flex items-center justify-between",disabled:s.disabled},s.buttonUi,{onClick:e[0]||(e[0]=R(()=>{},["stop"]))}),{default:f(()=>[t("span",ae,_(a(b)||a(i)("common.placeholder.modelSelect")),1),t("div",se,[l(p,{name:"i-lucide-settings-2"})])]),_:1},16,["color","disabled"]),t("div",ie,[a(d)?L("",!0):(C(),z(U,{key:0,"model-value":a(r),console:"",disabled:s.disabled,"button-ui":{variant:"soft",color:"neutral",size:"lg",class:"w-full justify-between"},supportedModelTypes:["llm"],"onUpdate:modelValue":V,onChange:y},null,8,["model-value","disabled"]))])]),_:1},8,["open","disabled"])}}});export{Ye as default};
