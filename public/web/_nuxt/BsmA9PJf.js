import{a_ as x,j as y,i as v,n as r,h as n}from"#entry";import{u as h}from"./CSy6ZCzT.js";function b(m={},c){const{width:g="!w-[420px]"}=m,t=x(),a=y(),{t:e}=v(),s=r(()=>!!t.loginWay.loginAgreement&&!!t.loginSettings?.showPolicyAgreement),o=r(()=>{const l=t.siteConfig?.webinfo?.name||e("login.messages.agreementModal.appNameFallback"),d=e("login.messages.agreementModal.prefix",{appName:l}),p=`<a href="/agreement?type=agreement&item=service" target="_blank" class="text-primary font-medium hover:underline">${e("login.userAgreement")}</a>`,f=`<a href="/agreement?type=agreement&item=privacy" target="_blank" class="text-primary font-medium hover:underline">${e("login.privacyPolicy")}</a>`;return`<p class="text-sm leading-relaxed text-muted-foreground mb-4 ml-7">${d}${p}<span class="mx-1 text-muted-foreground">${e("login.and")}</span>${f}</p>`}),i=r(()=>n("div",{class:"flex items-center gap-1"},[n(c,{name:"i-tabler-info-circle-filled",class:"size-6 text-primary"}),n("h2",{class:"text-lg font-medium"},e("login.messages.agreementModal.title"))]));async function u(){if(!s.value||a.isAgreed)return!0;try{return await h({header:i.value,description:"",content:o.value,confirmText:e("login.messages.agreementModal.confirm"),cancelText:e("login.messages.agreementModal.cancel"),color:"primary",ui:{content:g}}),a.isAgreed=!0,!0}catch{return!1}}return{requiresAgreement:s,agreementModalContent:o,agreementModalHeader:i,ensureAgreementAccepted:u}}export{b as u};
