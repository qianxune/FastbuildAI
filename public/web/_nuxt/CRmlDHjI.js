import{d as b,i as k,n as y,f as B,o as S,w as n,x as o,t as s,B as $,z as r,C as A,G as z,g as D}from"#entry";import{_ as U}from"./DbqqhwXM.js";import{_ as I}from"./DBiaUVBh.js";import{_ as N}from"./Ce6s6j9m.js";import{u as T}from"./BlyoSzaa.js";import"./DNSLGqNg.js";import"./psimjGaX.js";import"./CuVAPZQ8.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./CBTz8tdX.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./Y67jy4iF.js";import"./CjasYwqF.js";import"./CAQVAH0V.js";import"./DBEJUH-Z.js";import"./Deu6qIfg.js";import"./D9sX2Qi6.js";const V={class:"text-secondary-foreground flex items-center text-base font-semibold"},j={class:"mr-2 line-clamp-1"},F={class:"text-accent-foreground flex items-center gap-2 text-xs"},G={class:"mr-2 line-clamp-1"},M={class:"flex justify-between gap-2"},q={class:"text-accent-foreground flex items-center gap-4 text-xs"},E={class:"flex items-center gap-1"},H={class:"text-muted-foreground flex items-center gap-1 text-xs"},xe=b({__name:"chats-card",props:{conversation:{},selected:{type:Boolean,default:!1}},emits:["select","delete","toggle-pin","view-detail"],setup(t,{emit:d}){const i=d,a=t,{t:l}=k(),{hasAccessByCodes:p}=T();function u(e){return e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString()}function f(e){typeof e=="boolean"&&i("select",a.conversation,e)}function _(){i("view-detail",a.conversation.id)}const v=y(()=>{const e=[];return e.push({label:l("ai-chat.backend.actions.viewDetail"),icon:"i-lucide-eye",onSelect:()=>i("view-detail",a.conversation.id)}),p(["ai-conversations:ai_conversation_delete"])&&e.push({label:l("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>i("delete",a.conversation)}),e});return(e,J)=>{const x=z,m=U,c=$,h=I,g=N;return S(),B(g,{selectable:"",clickable:"","show-actions":"",variant:"outlined",class:"cursor-pointer",selected:t.selected,actions:D(v),onSelect:f,onClick:_},{icon:n(({groupHoverClass:w,selectedClass:C})=>[s(x,{src:t.conversation?.user?.avatar,alt:t.conversation.title,size:"3xl",class:A(["bg-primary",[w,C]]),ui:{root:"rounded-lg",fallback:"text-inverted"}},null,8,["src","alt","class"])]),title:n(()=>[o("h3",V,[s(m,{text:t.conversation.title,delay:0},{default:n(()=>[o("span",j,r(t.conversation.title),1)]),_:1},8,["text"])])]),description:n(()=>[o("div",F,[s(c,{name:"i-lucide-user",class:"h-3 w-3"}),s(m,{text:t.conversation?.user?.nickname,delay:0},{default:n(()=>[o("span",G,r(t.conversation?.user?.nickname),1)]),_:1},8,["text"])])]),footer:n(()=>[o("div",M,[o("div",q,[o("div",E,[s(c,{name:"i-lucide-message-circle",class:"h-3 w-3"}),o("span",null,r(u(t.conversation.messageCount)),1)])]),o("div",H,[s(c,{name:"i-lucide-clock",class:"h-3 w-3"}),s(h,{datetime:t.conversation.updatedAt,mode:"relative"},null,8,["datetime"])])])]),_:1},8,["selected","actions"])}}});export{xe as default};
