const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BfLOgjJL.js","./Cgyg1gJC.js","./Da83zglB.js","./cd55qm53.js","./9Q2Y_nd6.js","./td2xDKru.js","./RPflLnqr.js","./TrJvDfxI.js","./jsPNKUA0.js","./abPSHzII.js","./D_3bTjYR.js","./D9sX2Qi6.js","./CvI6s-qz.js","./CtosDvS0.js","./CAQVAH0V.js","./DNSLGqNg.js","./BFo3vNrE.js","./DeCyaT7k.js","./D4e4FYoF.js","./Z7qkLoXK.js","./BstbYvQo.js","./CuVAPZQ8.js","./4jjeIyfe.js","./CqBu4bDI.js","./CdknASxf.js","./gaGwb9HC.js","./CjasYwqF.js","./C6Y-ieo6.js","./DD8ySyt7.js","./hsuWSsy6.js","./DMoqg0Fd.js","./kRIii9yh.js","./BCcN9pii.js","./CMKSl-Ng.js","./psimjGaX.js","./Ghlq83yM.js","./DQMjdCEn.js","./OUYfsp1i.js","./CjE5iPSn.js","./D9UsdH-b.js","./MCK2d4XT.js","./EK7Wbu3-.js","./Dgxt_juz.js","./FTderXKt.js","./DaWZu8wl.js","./Cr7loeLi.js","./DbqqhwXM.js","./B3rWqoNg.js","./bvMLy1sv.js","./Deu6qIfg.js","./Ce6s6j9m.js","./CBTz8tdX.js","./Y67jy4iF.js","./DBEJUH-Z.js","./C3SmGInR.js","./o4ws_w_T.js"])))=>i.map(i=>d[i]);
import{d as j,at as F,i as N,V as O,aQ as T,q,c as u,x as o,y,t as p,g as e,z as r,F as G,E as J,w as k,W as x,X as M,o as c,K,B as Q,f as S,_ as W,A as E}from"#entry";import{_ as X}from"./DO9M7gn1.js";import H from"./cd55qm53.js";import{_ as Y}from"./BjKIBNOf.js";import{_ as Z}from"./D4ebF709.js";import{a as ee,b as te,c as se}from"./Dgxt_juz.js";import{u as oe}from"./ZDOPDbaX.js";import{u as ae}from"./CSy6ZCzT.js";import"./CtosDvS0.js";import"./CuVAPZQ8.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./DBEJUH-Z.js";import"./o4ws_w_T.js";import"./o0-e7Rye.js";import"./abPSHzII.js";const ie={class:"provider-list-container"},ne={class:"bg-background sticky top-0 z-50 flex flex-wrap items-center justify-between gap-4 pb-4"},re={key:0,class:"grid grid-cols-1 gap-6 py-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"},ce={key:0,class:"rounded-lg border border-dashed p-4"},le={class:"flex flex-col"},de={class:"text-muted-foreground pb-2 pl-2 text-xs font-bold"},me={key:1,class:"flex h-[50vh] items-center justify-center"},pe={class:"flex items-center gap-3"},ue={class:"text-accent-foreground"},_e={key:2,class:"flex h-[50vh] flex-col items-center justify-center"},fe={class:"text-secondary-foreground mb-2 text-lg font-medium"},ge={class:"text-accent-foreground"},ye={key:3,class:"bg-background sticky bottom-0 z-50 flex items-center justify-between gap-3 py-4"},he={class:"text-muted text-sm"},ve={class:"flex items-center gap-1.5"},Be=j({__name:"mcp-settings",setup(be){const I=x(()=>M(()=>import("./BfLOgjJL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]),import.meta.url)),U=x(()=>M(()=>import("./Cr7loeLi.js"),__vite__mapDeps([45,1,46,15,34,21,47,41,48,11,14,49,50,51,30,13,31,19,27,16,17,18,32,33,52,26,53,42]),import.meta.url)),z=x(()=>M(()=>import("./C3SmGInR.js"),__vite__mapDeps([54,1,46,15,34,21,47,41,55,35,36,37,16,19,38,39,40,42]),import.meta.url)),h=F(),{t:a}=N(),V=O(),d=T({name:"",type:"system"}),m=T({isJsonImport:!1,selectMcpServer:new Set,isSystemMcp:!1,updateIds:[],systemList:[]}),{paging:n,getLists:l}=oe({fetchFun:ee,params:d}),D=async t=>{if(t.id)try{await ae({title:a("ai-mcp.backend.deleteTitle"),description:a("ai-mcp.backend.deleteMessage"),color:"error"}),await te(t.id),h.success(a("ai-mcp.backend.deleteSuccess")),m.selectMcpServer.clear(),l()}catch(s){console.error("Delete MCP server failed:",s),h.error(a("common.message.deleteFailed"))}},v=async(t="",s=!1)=>{await V.create(I).open({id:t,isView:!1,isJsonImport:s,isSystemMcp:m.isSystemMcp,onUpdateIds:g=>{m.updateIds=g}}).result&&l()},$=async t=>{await V.create(z).open({id:t,isView:!0,isSystemMcp:m.isSystemMcp}).result&&l()},w=()=>{v()},C=()=>{v("",!0)},P=t=>{v(t.id)},A=async(t,s)=>{try{await se(t,{status:s}),h.success(a(s?"ai-mcp.backend.form.isActiveEnabled":"ai-mcp.backend.form.isActiveDisabled")),l()}catch(_){console.error("Toggle MCP server visibility failed:",_)}},B=K(()=>{m.systemList=[],l()},500);return q(()=>l()),(t,s)=>{const _=X,b=H,f=Q,g=W,L=Y,R=Z;return c(),u("div",ie,[o("div",ne,[p(_,{modelValue:e(d).type,"onUpdate:modelValue":[s[0]||(s[0]=i=>e(d).type=i),e(l)],color:"primary",content:!1,items:[{label:e(a)("ai-mcp.backend.search.system"),value:"system"},{label:e(a)("ai-mcp.backend.userMcp"),value:"user"}]},null,8,["modelValue","items","onUpdate:modelValue"]),o("div",null,[p(b,{modelValue:e(d).name,"onUpdate:modelValue":[s[1]||(s[1]=i=>e(d).name=i),e(B)],class:"w-50",placeholder:e(a)("ai-mcp.backend.search.placeholder"),onChange:e(l)},null,8,["modelValue","placeholder","onChange","onUpdate:modelValue"])])]),!e(n).loading&&e(n).items.length>0?(c(),u("div",re,[e(d).type==="user"?(c(),u("div",ce,[o("div",le,[o("h3",de,r(e(a)("ai-mcp.backend.addTitle")),1),o("div",{class:"text-primary hover:bg-primary-50 flex cursor-pointer items-center rounded-lg px-2 py-2 text-sm",onClick:w},[p(f,{name:"i-lucide-file-plus-2",class:"mr-2 size-4"}),o("span",null,r(e(a)("ai-mcp.backend.quickCreateTitle")),1)]),o("div",{class:"text-primary hover:bg-primary-50 flex cursor-pointer items-center rounded-lg px-2 py-2 text-sm",onClick:C},[p(f,{name:"i-lucide-file-json-2",class:"mr-2 size-4"}),o("span",null,r(e(a)("ai-mcp.backend.importTitle")),1)])])])):y("",!0),(c(!0),u(G,null,J(e(n).items,i=>(c(),S(e(U),{key:i.id,mcpServer:i,selected:e(m).selectMcpServer.has(i.id),"update-ids":e(m).updateIds,onDelete:D,onEdit:P,onViewModels:$,onToggleVisible:A},null,8,["mcpServer","selected","update-ids"]))),128))])):e(n).loading?(c(),u("div",me,[o("div",pe,[p(f,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),o("span",ue,r(t.$t("common.loading")),1)])])):(c(),u("div",_e,[p(f,{name:"i-lucide-building",class:"mb-4 h-16 w-16 text-gray-400"}),o("h3",fe,r(t.$t("ai-mcp.backend.emptyState")),1),o("p",ge,r(t.$t("ai-mcp.backend.emptyStateDescription")),1),p(L,{orientation:"horizontal",class:"mt-4"},{default:k(()=>[e(d).type!=="system"?(c(),S(g,{key:0,icon:"i-heroicons-plus",color:"primary",onClick:w},{default:k(()=>[E(r(t.$t("ai-mcp.backend.quickCreateTitle")),1)]),_:1})):y("",!0),e(d).type!=="system"?(c(),S(g,{key:1,icon:"i-lucide-file-json-2",color:"primary",variant:"subtle",onClick:C},{default:k(()=>[E(r(t.$t("ai-mcp.backend.importTitle")),1)]),_:1})):y("",!0)]),_:1})])),e(n).total>0?(c(),u("div",ye,[o("div",he,r(e(m).selectMcpServer.size)+" "+r(t.$t("console-common.selected")),1),o("div",ve,[p(R,{page:e(n).page,"onUpdate:page":s[2]||(s[2]=i=>e(n).page=i),size:e(n).pageSize,"onUpdate:size":s[3]||(s[3]=i=>e(n).pageSize=i),total:e(n).total,onChange:e(l)},null,8,["page","size","total","onChange"])])])):y("",!0)])}}});export{Be as default};
