import{d as N,i as C,av as I,c as a,y as l,o as t,F as _,E as f,f as p,w as i,t as x,_ as F,x as s,z as o,A as S,g,a0 as V}from"#entry";import{_ as $}from"./shdu-Ndv.js";import{_ as z}from"./hsuWSsy6.js";import{u as U}from"./CxvgZo8z.js";const E={key:0,class:"space-y-3"},K={class:"relative flex items-center justify-between gap-4"},P={key:0,class:"text-muted-foreground ml-1"},R={class:"bg-muted text-muted-foreground w-xs rounded p-2"},T={class:"flex items-center gap-4"},j={class:"text-muted-foreground text-xs"},q={class:"bg-accent h-2 w-20 rounded"},A={class:"text-muted-foreground text-xs"},M=N({__name:"reference-knowledge-files",props:{references:{default:()=>[]}},setup(c){const{t:d}=C(),h=I();function v(r){return(r*100).toFixed(0)}function y(r,u){h.push({path:U("ai-datasets:detail",{id:r}),query:{documentId:u}})}return(r,u)=>{const m=F,k=$,w=z;return c.references&&c.references.length>0?(t(),a("div",E,[(t(!0),a(_,null,f(c.references,(n,b)=>(t(),p(w,{key:b,ui:{content:"flex flex-col"}},{content:i(()=>[(t(!0),a(_,null,f(n.chunks,(e,B)=>(t(),a("div",{key:e.id,class:"group m-3 inline-block cursor-pointer space-y-2 rounded-lg text-xs"},[s("div",K,[e.chunkIndex!==void 0?(t(),a("span",P," #chunk "+o(e.chunkIndex+1),1)):l("",!0),x(m,{size:"xs",color:"primary",variant:"soft",icon:"i-lucide-external-link",class:"top0 absolute right-0 hidden group-hover:flex",onClick:D=>y(n.datasetId,e.documentId)},{default:i(()=>[S(o(g(d)("common.reference.goToKnowledgeBase")),1)]),_:1},8,["onClick"])]),s("div",R,o(e.content),1),s("div",T,[s("span",j,o(e.content.length)+" "+o(g(d)("common.reference.characters")),1),s("div",q,[s("div",{class:"bg-primary h-2 rounded transition-all duration-300",style:V({width:v(e.score)+"%"})},null,4)]),s("span",A,o(e.score.toFixed(3)),1)]),B!==n.chunks.length-1?(t(),p(k,{key:0})):l("",!0)]))),128))]),default:i(()=>[x(m,{label:n?.chunks?.[0]?.fileName||n?.chunks?.[0]?.datasetName,color:"neutral",variant:"ghost",class:"w-full"},null,8,["label"])]),_:2},1024))),128))])):l("",!0)}}});export{M as _};
