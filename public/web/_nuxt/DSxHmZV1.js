import N from"./cd55qm53.js";import{_ as B}from"./D_3bTjYR.js";import{_ as C}from"./Da83zglB.js";import{d as k,i as T,at as F,aQ as S,s as z,aN as f,q as I,c as $,o as L,t as l,w as r,x as m,z as y,g as e,_ as D,A as _}from"#entry";import{_ as W}from"./B5gsc-Ax.js";import{_ as j}from"./DD8ySyt7.js";import{a as A,b as E}from"./C1E-FicH.js";import"./FTderXKt.js";import{u as G}from"./UqhBTNL6.js";import"./D9sX2Qi6.js";import"./9Q2Y_nd6.js";import"./td2xDKru.js";import"./RPflLnqr.js";import"./TrJvDfxI.js";import"./jsPNKUA0.js";import"./abPSHzII.js";import"./DaWZu8wl.js";const M={class:"copyright-container mt-8"},P={class:"mb-2 text-lg font-bold"},R={class:"flex items-start gap-4"},q={class:"mb-2 text-lg font-bold"},Q={class:"flex w-full gap-4"},H={class:"bg-background sticky bottom-0 flex space-x-3 py-4"},de=k({__name:"copyright",setup(J){const{t:o}=T(),g=F(),t=S({displayName:"",iconUrl:"",url:"",copyrightText:"",copyrightBrand:"",copyrightUrl:""}),c=z(null),{lockFn:u,isLock:h}=f(async()=>{try{const i=await A();c.value=i,G(t,i.copyright)}catch(i){console.error("Get website config failed:",i)}}),{lockFn:w,isLock:d}=f(async()=>{try{const i={copyright:{displayName:t.displayName,iconUrl:t.iconUrl,url:t.url,copyrightText:t.copyrightText,copyrightBrand:t.copyrightBrand,copyrightUrl:t.copyrightUrl}};await E(i),g.success(o("system.website.messages.saveSuccess")),await u()}catch(i){console.error("Save failed:",i)}}),U=()=>{c.value?(t.displayName=c.value.copyright.displayName||"",t.iconUrl=c.value.copyright.iconUrl||"",t.url=c.value.copyright.url||"",t.copyrightText=c.value.copyright.copyrightText||"",t.copyrightBrand=c.value.copyright.copyrightBrand||"",t.copyrightUrl=c.value.copyright.copyrightUrl||"",g.info(o("system.website.messages.resetSuccess"))):(t.displayName="",t.iconUrl="",t.url="",t.copyrightText="",t.copyrightBrand="",t.copyrightUrl="",g.info(o("system.website.messages.resetEmpty")))};return I(()=>u()),(i,s)=>{const n=N,p=B,x=C,b=D,V=W,v=j;return L(),$("div",M,[l(v,{state:e(t),class:"space-y-6",onSubmit:e(w)},{default:r(()=>[m("h4",P,y(e(o)("system.website.copyright.sections.filing")),1),l(p,{name:"displayName",label:e(o)("system.website.copyright.displayName.label")},{default:r(()=>[l(n,{modelValue:e(t).displayName,"onUpdate:modelValue":s[0]||(s[0]=a=>e(t).displayName=a),size:"lg",ui:{root:"w-full"},placeholder:e(o)("system.website.copyright.displayName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{name:"iconUrl",label:e(o)("system.website.copyright.icon.label")},{default:r(()=>[m("div",R,[l(x,{modelValue:e(t).iconUrl,"onUpdate:modelValue":s[1]||(s[1]=a=>e(t).iconUrl=a),class:"h-24 w-24",text:e(o)("system.website.copyright.icon.upload"),icon:"i-lucide-upload",accept:".jpg,.png,.jpeg",maxCount:1,single:!0},null,8,["modelValue","text"])])]),_:1},8,["label"]),l(p,{name:"url",label:e(o)("system.website.copyright.url.label")},{default:r(()=>[l(n,{modelValue:e(t).url,"onUpdate:modelValue":s[2]||(s[2]=a=>e(t).url=a),size:"lg",ui:{root:"w-full"},placeholder:e(o)("system.website.copyright.url.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),m("h4",q,y(e(o)("system.website.copyright.sections.copyright")),1),l(p,{name:"copyrightText",label:e(o)("system.website.copyright.copyrightInfo.label")},{default:r(()=>[m("div",Q,[l(n,{modelValue:e(t).copyrightText,"onUpdate:modelValue":s[3]||(s[3]=a=>e(t).copyrightText=a),size:"lg",class:"flex-1",placeholder:e(o)("system.website.copyright.copyrightInfo.textPlaceholder")},null,8,["modelValue","placeholder"]),l(n,{modelValue:e(t).copyrightBrand,"onUpdate:modelValue":s[4]||(s[4]=a=>e(t).copyrightBrand=a),size:"lg",class:"flex-1",placeholder:e(o)("system.website.copyright.copyrightInfo.brandPlaceholder")},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),l(p,{name:"copyrightUrl",label:e(o)("system.website.copyright.copyrightUrl.label")},{default:r(()=>[l(n,{modelValue:e(t).copyrightUrl,"onUpdate:modelValue":s[5]||(s[5]=a=>e(t).copyrightUrl=a),size:"lg",ui:{root:"w-full"},placeholder:e(o)("system.website.copyright.copyrightUrl.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),m("div",H,[l(V,{codes:["system-website:setConfig"]},{default:r(()=>[l(b,{type:"submit",color:"primary",loading:e(d),disabled:e(d)||e(h)},{default:r(()=>[_(y(e(d)?e(o)("system.website.actions.saving"):e(o)("system.website.actions.saveChanges")),1)]),_:1},8,["loading","disabled"])]),_:1}),l(b,{type:"reset",color:"neutral",variant:"outline",disabled:e(d)||e(h),onClick:U},{default:r(()=>[_(y(e(o)("system.website.actions.reset")),1)]),_:1},8,["disabled"])])]),_:1},8,["state","onSubmit"])])}}});export{de as default};
