const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DGkLjulG.js","./Cgyg1gJC.js"])))=>i.map(i=>d[i]);
import{d as k,aM as M,at as V,i as C,n as U,a2 as I,aN as W,q as S,g as t,ac as j,c as N,o as O,x as i,z as p,t as a,w as r,W as T,_ as q,X as D,aO as E}from"#entry";import R from"./cd55qm53.js";import{_ as B}from"./D_3bTjYR.js";import F from"./4jjeIyfe.js";import{_ as L}from"./DOOZ3wAl.js";import{_ as P}from"./uASGRMzF.js";import{_ as A}from"./shdu-Ndv.js";import{t as z}from"./gu2_Ts15.js";import"./D9sX2Qi6.js";import"./o4ws_w_T.js";import"./DbqqhwXM.js";import"./DNSLGqNg.js";import"./psimjGaX.js";import"./CuVAPZQ8.js";import"./B3rWqoNg.js";import"./EK7Wbu3-.js";import"./Cub7JM7Q.js";import"./hsuWSsy6.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./Cie-o9Wa.js";import"./jsPNKUA0.js";import"./abPSHzII.js";import"./D7VOTB3C.js";import"./B0g9CpkI.js";const J={class:"h-full w-full overflow-auto"},K={class:"inline-block px-6 py-4"},Q={class:"mb-8"},X={class:"text-foreground mb-1 text-lg font-medium"},G={class:"text-muted text-sm"},H={class:"space-y-8"},Y={class:"flex flex-col space-y-8"},Z={class:"space-y-3"},Oe=k({__name:"settings",setup(ee){const u=T(()=>D(()=>import("./DGkLjulG.js"),__vite__mapDeps([0,1]),import.meta.url)),{params:f}=M(),b=V(),{t:g}=C(),c=U(()=>f.id),d=j("datasets"),o=I({name:"",description:"",retrievalConfig:{retrievalMode:"hybrid",strategy:"weighted_score",topK:3,scoreThreshold:.5,scoreThresholdEnabled:!1,weightConfig:{semanticWeight:.5,keywordWeight:.5},rerankConfig:{enabled:!1,modelId:""}},embeddingModelId:""}),{lockFn:_,isLock:h}=W(async()=>{try{await z(c.value,o),E(`dataset-detail-${c.value}`),b.success(`${g("console-common.messages.saveSuccess")}`)}catch(e){console.error(e)}});return S(()=>{Reflect.ownKeys(o).forEach(e=>{if(t(d)&&Object.prototype.hasOwnProperty.call(t(d),e)){const s=JSON.parse(JSON.stringify(t(d)?.[e]))??o[e];o[e]=s}})}),(e,s)=>{const w=R,n=B,x=F,v=L,y=P,m=A,$=q;return O(),N("div",J,[i("div",K,[i("div",Q,[i("h5",X,p(e.$t("ai-datasets.backend.settings.name")),1),i("p",G,p(e.$t("ai-datasets.backend.settings.description")),1)]),i("div",H,[i("div",Y,[a(n,{label:e.$t("ai-datasets.backend.common.name"),class:"flex w-full justify-between",ui:{wrapper:"flex",label:"text-accent-foreground font-medium width180",container:"flex-1"},required:""},{default:r(()=>[a(w,{modelValue:t(o).name,"onUpdate:modelValue":s[0]||(s[0]=l=>t(o).name=l),placeholder:e.$t("ai-datasets.backend.settings.nameInput"),ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1"},label:e.$t("ai-datasets.backend.common.description"),required:""},{default:r(()=>[a(x,{modelValue:t(o).description,"onUpdate:modelValue":s[1]||(s[1]=l=>t(o).description=l),placeholder:e.$t("ai-datasets.backend.settings.descriptionInput"),ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),a(n,{class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1"},label:e.$t("ai-datasets.backend.create.stepTwo.embeddingModel"),required:""},{default:r(()=>[i("div",Z,[a(v,{modelValue:t(o).embeddingModelId,console:"","button-ui":{variant:"outline",color:"neutral",ui:{base:"w-full"},class:"bg-background"},supportedModelTypes:["text-embedding"],defaultSelected:!1,capability:"chat",placeholder:"选择嵌入模型",onChange:s[2]||(s[2]=l=>t(o).embeddingModelId=l?.id??"")},null,8,["modelValue"]),a(y,{color:"warning",variant:"soft",title:e.$t("ai-datasets.backend.settings.embeddingModelWarning.title"),description:e.$t("ai-datasets.backend.settings.embeddingModelWarning.description"),icon:"i-lucide-alert-triangle"},null,8,["title","description"])])]),_:1},8,["label"]),a(m),a(n,{class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1"},label:e.$t("ai-datasets.backend.settings.retrievalMethod"),required:""},{default:r(()=>[a(t(u),{modelValue:t(o).retrievalConfig,"onUpdate:modelValue":s[3]||(s[3]=l=>t(o).retrievalConfig=l)},null,8,["modelValue"])]),_:1},8,["label"]),a(m),a(n,{label:" ",class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1 flex gap-4 items-center"}},{default:r(()=>[a($,{"trailing-icon":"i-lucide-arrow-right",label:e.$t("console-common.save"),size:"lg",loading:t(h),onClick:t(_)},null,8,["label","loading","onClick"])]),_:1})])])])}}});export{Oe as default};
