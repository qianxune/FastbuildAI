import{d as x,i as U,av as z,a_ as C,s as L,aN as V,at as D,q as S,aV as j,c as F,o as l,x as e,t as n,_ as I,f as u,g as o,aZ as P,B as M,z as _,w as i,D as T,A,aK as E}from"#entry";import R from"./cd55qm53.js";import{_ as q}from"./D_3bTjYR.js";import{_ as H}from"./Ghlq83yM.js";import{u as K}from"./GVuuMf18.js";import{u as O}from"./CSy6ZCzT.js";import"./D9sX2Qi6.js";import"./DQMjdCEn.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./CuVAPZQ8.js";import"./Z7qkLoXK.js";import"./CjE5iPSn.js";import"./D9UsdH-b.js";import"./MCK2d4XT.js";import"./EK7Wbu3-.js";import"./C0KOn7yN.js";const Z={class:"design-layout dark:bg-muted flex h-screen w-full flex-col bg-[#f7f7fc] pb-2"},G={class:"relative flex h-14 items-center px-5"},J={class:"flex items-center gap-x-2"},Q={class:"flex items-center gap-x-2 leading-[30px]"},W={class:"flex size-8 items-center justify-center rounded-lg"},X={class:"text-base"},Y={class:"hover:text-primary hover:bg-primary-light-9 flex cursor-pointer items-center rounded-lg p-2"},ee={class:"space-y-4 pb-8"},oe={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},se={class:"dark:bg-accent rounded-lg bg-[#ebecf5] px-1.5 py-1"},te={class:"bg-background flex items-center rounded-lg px-2 py-1"},ne={class:"mx-2 text-sm leading-5 font-medium"},ae={class:"ml-auto flex items-center gap-2"},ce={class:"relative flex h-full w-full gap-3 px-2"},ie=x({__name:"design",setup(h){const{t:s}=U(),r=z(),a=K(),f=C(),m=L(!1),{lockFn:v,isLock:b}=V(async()=>{await a.savePages(),D().success(s("console-widgets.designer.saveSuccess")),setTimeout(()=>r.back(),1e3)});function w(){const t=()=>{a.resetState(),r.back()};if(!a.isDirty){t();return}O({title:s("console-common.tips"),description:s("console-common.messages.confirmLeave"),confirmText:s("console-common.confirm"),cancelText:s("console-common.cancel")}).then(t)}return S(()=>{const t=c=>{if(a.isDirty)return c.preventDefault(),s("console-common.messages.confirmLeave")};window.addEventListener("beforeunload",t),j(()=>{window.removeEventListener("beforeunload",t)})}),(t,c)=>{const g=I,k=P,d=M,y=R,N=q,B=H,$=E;return l(),F("div",Z,[e("div",G,[e("div",J,[n(g,{color:"neutral",icon:"i-lucide-chevron-left",variant:"ghost",class:"hover:bg-[#ebecf5]",onClick:w}),e("div",Q,[e("h1",W,[o(f).siteConfig?.webinfo.logo?(l(),u(k,{key:0,src:o(f).siteConfig?.webinfo.logo,alt:"Logo",class:"size-8"},null,8,["src"])):(l(),u(d,{key:1,name:"system-logo",class:"text-background size-8"}))]),e("div",X,_(o(a).projectName),1),n(B,{open:o(m),"onUpdate:open":c[1]||(c[1]=p=>T(m)?m.value=p:null),title:o(s)("console-widgets.designer.editProjectName"),ui:{content:"max-w-md"},showFooter:!0},{trigger:i(()=>[e("div",Y,[n(d,{name:"i-lucide-edit",class:"size-4"})])]),default:i(()=>[e("div",ee,[n(N,{label:o(s)("console-widgets.designer.pageName"),name:"name",required:""},{default:i(()=>[n(y,{modelValue:o(a).projectName,"onUpdate:modelValue":c[0]||(c[0]=p=>o(a).projectName=p),placeholder:o(s)("console-widgets.designer.enterPageName"),maxlength:"32","show-count":"",size:"lg",ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["open","title"])])]),e("div",oe,[e("div",se,[e("div",te,[n(d,{name:"i-lucide-palette",class:"size-4"}),e("span",ne,_(t.$t("console-common.userInterface")),1)])])]),e("div",ae,[n(g,{color:"primary",loading:o(b),onClick:o(v)},{default:i(()=>[A(_(t.$t("console-common.save")),1)]),_:1},8,["loading","onClick"])])]),e("main",ce,[n($)])])}}}),Be=x({__name:"design",setup(h){return(s,r)=>(l(),u(ie))}});export{Be as default};
