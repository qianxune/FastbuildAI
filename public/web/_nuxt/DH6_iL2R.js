const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BZjD0SGj.js","./cd55qm53.js","./Cgyg1gJC.js","./D_3bTjYR.js","./D9sX2Qi6.js","./Da83zglB.js","./9Q2Y_nd6.js","./td2xDKru.js","./RPflLnqr.js","./TrJvDfxI.js","./jsPNKUA0.js","./abPSHzII.js","./4jjeIyfe.js","./DD8ySyt7.js","./B5gsc-Ax.js","./FTderXKt.js","./DaWZu8wl.js"])))=>i.map(i=>d[i]);
import{d as x,i as g,at as w,n as A,bF as B,l as D,aN as L,q as F,c as p,o as c,x as l,f as S,t as r,w as C,B as E,z as f,g as e,bE as I,_ as U,W as $,X as z}from"#entry";import{c as N,d as R}from"./B9ZIqvFb.js";const V={class:"level-edit-container flex h-full flex-col"},j={class:"bg-background sticky top-0 z-10 mb-4 flex w-full items-center justify-baseline pb-2"},q={class:"text-base font-medium"},G={class:"ml-4 text-xl font-bold"},M={key:0,class:"flex justify-center py-12"},W=x({__name:"edit",setup(P){const{t:a}=g(),o=I(),b=B(),d=w(),i=A(()=>b.query.id),v=$(()=>z(()=>import("./BZjD0SGj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),import.meta.url)),u=D({}),{lockFn:h,isLock:k}=L(async()=>{if(!i.value){d.error(a("membership.console-membership.level.edit.getDetailFailed")),o.back();return}try{const{id:t,createdAt:s,updatedAt:n,status:m,..._}=await N(i.value);u.value={..._}}catch(t){console.error("Get level detail failed:",t),o.back()}}),y=async t=>{try{await R(i.value,t),d.success(a("membership.console-membership.level.edit.submitSuccess")),setTimeout(()=>o.back(),1e3)}catch(s){console.error("Update level failed:",s)}};return F(()=>h()),(t,s)=>{const n=E,m=U;return c(),p("div",V,[l("div",j,[r(m,{color:"neutral",variant:"soft",onClick:s[0]||(s[0]=_=>e(o).back())},{default:C(()=>[r(n,{name:"i-lucide-arrow-left",class:"size-5 cursor-pointer"}),l("span",q,f(e(a)("console-common.back")),1)]),_:1}),l("h1",G,f(e(a)("membership.console-membership.level.edit.title")),1)]),e(k)?(c(),p("div",M,[r(n,{name:"i-lucide-loader-2",class:"text-primary-500 h-8 w-8 animate-spin"})])):(c(),S(e(v),{key:1,id:e(i),"initial-data":e(u),onSubmitSuccess:y},null,8,["id","initial-data"]))])}}});export{W as default};
