const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DGkLjulG.js","./Cgyg1gJC.js","./CIBXPbJ6.js","./CjZayFOz.js","./CvI6s-qz.js","./CtosDvS0.js","./CAQVAH0V.js","./DNSLGqNg.js","./BFo3vNrE.js","./DeCyaT7k.js","./D4e4FYoF.js","./Z7qkLoXK.js","./BstbYvQo.js","./CuVAPZQ8.js","./o4ws_w_T.js","./CWpJD8K1.js","./Cie-o9Wa.js","./jsPNKUA0.js","./abPSHzII.js"])))=>i.map(i=>d[i]);
import{d as T,a2 as A,aN as E,c as $,o as B,x as o,t as n,w as u,z as d,g as t,W as p,D as C,aW as x,C as w,_ as P,A as h,X as g}from"#entry";import{_ as D}from"./Cie-o9Wa.js";import{v as F}from"./gu2_Ts15.js";import"./jsPNKUA0.js";import"./abPSHzII.js";const L={class:"segmentation-configurator mx-auto h-full max-w-7xl"},z={class:"grid h-full grid-cols-1 gap-8 lg:grid-cols-2"},I={class:"space-y-2"},M={class:"text-foreground text-sm font-medium"},N={class:"text-foreground text-sm font-medium"},O={class:"flex justify-end gap-4 py-4"},G=T({__name:"index",props:{indexingConfig:{},retrievalConfig:{},disabled:{type:Boolean}},emits:["update:retrievalConfig","onStepChange","onCreate","update:indexingConfig"],setup(c,{emit:V}){const k=p(()=>g(()=>import("./DGkLjulG.js"),__vite__mapDeps([0,1]),import.meta.url)),S=p(()=>g(()=>import("./CIBXPbJ6.js"),__vite__mapDeps([2,1]),import.meta.url)),y=p(()=>g(()=>import("./CjZayFOz.js"),__vite__mapDeps([3,4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url)),f=c,l=V,r=x(f,"indexingConfig",l),m=x(f,"retrievalConfig",l),a=A({totalSegments:0,fileResults:[],processingTime:0,processedFiles:0}),{lockFn:R,isLock:_}=E(async()=>{try{const e=await F(r.value);a.totalSegments=e.totalSegments,a.fileResults=e.fileResults,a.processingTime=e.processingTime,a.processedFiles=e.processedFiles}catch(e){console.error("预览失败:",e)}});return(e,s)=>{const v=P,b=D;return B(),$("div",L,[o("div",z,[n(b,{class:"table h-full pr-2",shadow:!1},{default:u(()=>[o("section",I,[o("h5",M,d(e.$t("ai-datasets.backend.create.stepTwo.segmentation")),1),n(t(S),{modelValue:t(r),"onUpdate:modelValue":s[0]||(s[0]=i=>C(r)?r.value=i:null),"is-previewing":t(_),"on-preview-segments":t(R)},null,8,["modelValue","is-previewing","on-preview-segments"])]),o("section",{class:w(["mt-4 space-y-4",{"cursor-not-allowed":c.disabled}])},[o("h5",N,d(e.$t("ai-datasets.backend.settings.retrievalMethod")),1),n(t(k),{modelValue:t(m),"onUpdate:modelValue":s[1]||(s[1]=i=>C(m)?m.value=i:null),class:w({"pointer-events-none opacity-70":c.disabled})},null,8,["modelValue","class"])],2),o("section",O,[n(v,{size:"lg",variant:"outline",onClick:s[2]||(s[2]=i=>l("onStepChange",-1))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.previousStep")),1)]),_:1}),n(v,{size:"lg",onClick:s[3]||(s[3]=i=>l("onCreate"))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.saveAndCreate")),1)]),_:1})])]),_:1}),n(t(y),{"is-previewing":t(_),results:t(a)},null,8,["is-previewing","results"])])])}}});export{G as default};
