import{_ as S}from"./DBiaUVBh.js";import{_ as C}from"./JxyxsHxp.js";import{d as Q,i as T,at as R,s as B,f as u,o as n,w as l,x as e,t as y,c as g,y as m,z as t,g as o,_ as D,A as v}from"#entry";import{_ as $}from"./Ghlq83yM.js";import{a as V}from"./dV9HMNB4.js";import{u as q}from"./CSy6ZCzT.js";import"./DQMjdCEn.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./CuVAPZQ8.js";import"./Z7qkLoXK.js";import"./CjE5iPSn.js";import"./D9UsdH-b.js";import"./MCK2d4XT.js";import"./EK7Wbu3-.js";const M={class:"grid grid-cols-1 gap-x-6 gap-y-5 py-4 pb-4 md:grid-cols-2"},P={class:"text-muted-foreground text-sm"},z={class:"text-secondary-foreground mt-1 truncate"},F={class:"text-muted-foreground text-sm"},U={class:"text-secondary-foreground mt-1 truncate"},j={class:"text-muted-foreground text-sm"},E={class:"text-secondary-foreground mt-1 truncate"},K={class:"text-muted-foreground text-sm"},L={class:"text-secondary-foreground mt-1 truncate"},O={class:"text-muted-foreground text-sm"},Y={class:"text-secondary-foreground mt-1 truncate"},G={class:"text-muted-foreground text-sm"},H={class:"text-secondary-foreground mt-1 truncate"},J={class:"text-muted-foreground text-sm"},W={class:"text-secondary-foreground mt-1 truncate"},X={class:"text-muted-foreground text-sm"},Z={class:"text-secondary-foreground mt-1 truncate"},ee={class:"text-muted-foreground text-sm"},te={key:0,class:"mt-1 truncate text-red-500"},re={key:1,class:"text-secondary-foreground mt-1 truncate"},de={key:0},oe={class:"text-muted-foreground text-sm"},ae={class:"text-secondary-foreground mt-1 truncate"},ne={class:"flex items-center justify-end gap-2"},be=Q({__name:"order-detail",props:{order:{}},emits:["close","get-list"],setup(d,{emit:_}){const c=d,i=_,{t:r}=T(),x=R(),k=B([{rechargeQuantity:c.order?.power,freeQuantity:c.order?.givePower,quantityReceived:c.order?.totalPower,paidInAmount:c.order?.orderAmount}]),p=[{id:"rechargeQuantity",header:r("order.backend.recharge.list.rechargeQuantity"),cell:({row:a})=>a.original.rechargeQuantity},{id:"freeQuantity",header:r("order.backend.recharge.list.freeQuantity"),cell:({row:a})=>a.original.freeQuantity},{id:"quantityReceived",header:r("order.backend.recharge.list.quantityReceived"),cell:({row:a})=>a.original.quantityReceived},{id:"paidInAmount",accessorKey:"paidInAmount",header:r("order.backend.recharge.list.paidInAmount"),cell:({row:a})=>{const s=Number.parseFloat(a.getValue("paidInAmount"));return new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(s)}}],b=async()=>{await q({title:"退款",description:"是否确定退款？",color:"warning"}),await V(c.order?.id||""),x.success("退款成功"),A(),i("close")},A=()=>{i("get-list")};return(a,s)=>{const f=S,N=C,h=D,I=$;return n(),u(I,{onClose:s[1]||(s[1]=w=>i("close"))},{footer:l(()=>[e("div",ne,[d.order?.refundStatus===0&&d.order?.payStatus===1?(n(),u(h,{key:0,color:"primary",onClick:b},{default:l(()=>[v(t(o(r)("order.backend.recharge.detail.refund")),1)]),_:1})):m("",!0),y(h,{color:"neutral",variant:"soft",onClick:s[0]||(s[0]=w=>i("close"))},{default:l(()=>[v(t(o(r)("order.backend.recharge.detail.close")),1)]),_:1})])]),default:l(()=>[e("div",M,[e("div",null,[e("div",P,t(o(r)("order.backend.recharge.list.orderNo")),1),e("div",z,t(d.order?.orderNo),1)]),e("div",null,[e("div",F,t(o(r)("order.backend.recharge.detail.orderSource")),1),e("div",U,t(d.order?.terminalDesc),1)]),e("div",null,[e("div",j,t(o(r)("order.backend.recharge.detail.userInfo")),1),e("div",E,t(d.order?.user?.username),1)]),e("div",null,[e("div",K,t(o(r)("order.backend.recharge.detail.orderType")),1),e("div",L,t(d.order?.orderType),1)]),e("div",null,[e("div",O,t(o(r)("order.backend.recharge.detail.paymentStatus")),1),e("div",Y,t(d.order?.payStatus===1?o(r)("order.backend.recharge.detail.paid"):o(r)("order.backend.recharge.detail.unpaid")),1)]),e("div",null,[e("div",G,t(o(r)("order.backend.recharge.detail.paymentMethod")),1),e("div",H,t(d.order?.payTypeDesc),1)]),e("div",null,[e("div",J,t(o(r)("order.backend.recharge.detail.createdAt")),1),e("div",W,[d.order?.createdAt?(n(),u(f,{key:0,datetime:d.order.createdAt,mode:"datetime"},null,8,["datetime"])):m("",!0)])]),e("div",null,[e("div",X,t(o(r)("order.backend.recharge.detail.paidAt")),1),e("div",Z,[d.order?.payTime?(n(),u(f,{key:0,datetime:d.order.payTime,mode:"datetime"},null,8,["datetime"])):m("",!0)])]),e("div",null,[e("div",ee,t(o(r)("order.backend.recharge.detail.refundStatus")),1),d.order?.refundStatus?(n(),g("div",te,t(d.order?.refundStatusDesc),1)):(n(),g("div",re,"-"))]),d.order?.refundStatus?(n(),g("div",de,[e("div",oe,t(o(r)("order.backend.recharge.detail.serialNumber")),1),e("div",ae,t(d.order?.refundNo),1)])):m("",!0)]),y(N,{ref:"table",data:o(k),columns:p,class:"flex-1"},null,8,["data"])]),_:1})}}});export{be as default};
