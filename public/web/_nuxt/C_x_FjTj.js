import{d as Z,af as ke,ag as Ge,e as ee,cH as He,ah as Be,l as re,n as V,ae as De,f,o as u,w as g,t as T,g as a,P as ae,r as S,y as E,q as Oe,bD as oe,J as fe,m as O,aD as Fe,A as G,z as H,bw as Se,aU as Ye,bx as Je,bm as We,b7 as Qe,aT as Xe,bn as Ze,bo as ea,a7 as ie,bp as Ce,bd as aa,be as ta,bf as la,by as ia,bg as we,bz as sa,bA as se,bB as na,c as U,C as v,v as pe,x as ne,F as Q,E as ge,B as X,G as Ae,aA as ra,aB as oa,aY as ua,bC as da,ap as ca}from"#entry";import{u as pa,C as Ve,a as Le,b as ga,f as _e,c as fa,d as va,e as ma,g as ba,h as ya,i as ha,j as Ia,k as xa,l as za}from"./Dh3Mo9T6.js";import{u as qa}from"./C6Y-ieo6.js";import{u as Ta}from"./CtosDvS0.js";import{u as Sa}from"./CAQVAH0V.js";import{V as Ca}from"./Deu6qIfg.js";import{u as wa}from"./CuVAPZQ8.js";const[ve,Aa]=De("TagsInputRoot");var Va=Z({__name:"TagsInputRoot",props:{modelValue:{type:[Array,null],required:!1},defaultValue:{type:Array,required:!1,default:()=>[]},addOnPaste:{type:Boolean,required:!1},addOnTab:{type:Boolean,required:!1},addOnBlur:{type:Boolean,required:!1},duplicate:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},delimiter:{type:null,required:!1,default:","},dir:{type:String,required:!1},max:{type:Number,required:!1,default:0},id:{type:String,required:!1},convertValue:{type:Function,required:!1},displayValue:{type:Function,required:!1,default:d=>d.toString()},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","invalid","addTag","removeTag"],setup(d,{emit:L}){const i=d,e=L,{addOnPaste:m,disabled:C,delimiter:r,max:x,id:_,dir:$,addOnBlur:D,addOnTab:M}=ke(i),F=Ta($),s=Ge(i,"modelValue",e,{defaultValue:i.defaultValue,passive:!0,deep:!0}),{forwardRef:b,currentElement:k}=ee(),{focused:B}=He(k),j=Sa(k),{getItems:te,CollectionSlot:ue}=Be({isProvider:!0}),z=re(),Y=re(!1),de=V(()=>Array.isArray(s.value)?[...s.value]:[]);function N(o){if(o!==-1){const q=te().filter(w=>w.ref.dataset.disabled!=="");s.value=s.value.filter((w,A)=>A!==o),e("removeTag",q[o].value)}}return Aa({modelValue:s,onAddValue:o=>{const q=[...de.value],w=q.length>0&&typeof q[0]=="object",A=q.length>0&&typeof i.defaultValue[0]=="object";if((w||A)&&typeof i.convertValue!="function")throw new Error("You must provide a `convertValue` function when using objects as values.");const y=i.convertValue?i.convertValue(o):o;if(q.length>=x.value&&x.value)return e("invalid",y),!1;if(i.duplicate)return s.value=[...q,y],e("addTag",y),!0;if(q.includes(y))Y.value=!0;else return s.value=[...q,y],e("addTag",y),!0;return e("invalid",y),!1},onRemoveValue:N,onInputKeydown:o=>{const q=o.target,w=te().map(y=>y.ref).filter(y=>y.dataset.disabled!=="");if(!w.length)return;const A=w.at(-1);switch(o.key){case"Delete":case"Backspace":{if(q.selectionStart!==0||q.selectionEnd!==0)break;if(z.value){const y=w.findIndex(P=>P===z.value);N(y),z.value=z.value===A?w.at(y-1):w.at(y+1),o.preventDefault()}else o.key==="Backspace"&&(z.value=A,o.preventDefault());break}case"Home":case"End":case"ArrowRight":case"ArrowLeft":{const y=o.key==="ArrowRight"&&F.value==="ltr"||o.key==="ArrowLeft"&&F.value==="rtl",P=!y;if(q.selectionStart!==0||q.selectionEnd!==0)break;if(P&&!z.value)z.value=A,o.preventDefault();else if(y&&A&&z.value===A)z.value=void 0,o.preventDefault();else if(z.value){const J=qa(o,z.value,void 0,{itemsArray:w,loop:!1,dir:F.value});J&&(z.value=J),o.preventDefault()}break}case"ArrowUp":case"ArrowDown":{z.value&&o.preventDefault();break}default:z.value=void 0}},selectedElement:z,isInvalidInput:Y,addOnPaste:m,addOnBlur:D,addOnTab:M,dir:F,disabled:C,delimiter:r,max:x,id:_,displayValue:i.displayValue}),(o,q)=>(u(),f(a(ue),null,{default:g(()=>[T(a(ae),{ref:a(b),dir:a(F),as:o.as,"as-child":o.asChild,"data-invalid":Y.value?"":void 0,"data-disabled":a(C)?"":void 0,"data-focused":a(B)?"":void 0},{default:g(()=>[S(o.$slots,"default",{modelValue:a(s)}),a(j)&&o.name?(u(),f(a(Ca),{key:0,name:o.name,value:a(s),required:o.required,disabled:a(C)},null,8,["name","value","required","disabled"])):E("v-if",!0)]),_:3},8,["dir","as","as-child","data-invalid","data-disabled","data-focused"])]),_:3}))}}),La=Va,_a=Z({__name:"TagsInputInput",props:{placeholder:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},maxLength:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(d){const L=d,i=ve(),{forwardRef:e,currentElement:m}=ee();function C(s){if(i.selectedElement.value=void 0,!i.addOnBlur.value)return;const b=s.target;if(!b.value)return;i.onAddValue(b.value)&&(b.value="")}function r(s){i.addOnTab.value&&D(s)}const x=re(!1);function _(){x.value=!0}function $(){fe(()=>{x.value=!1})}async function D(s){if(x.value||(await fe(),s.defaultPrevented))return;const b=s.target;if(!b.value)return;i.onAddValue(b.value)&&(b.value=""),s.preventDefault()}function M(s){if(i.isInvalidInput.value=!1,s.data===null)return;const b=i.delimiter.value;if(b===s.data||b instanceof RegExp&&b.test(s.data)){const B=s.target;if(B.value=B.value.replace(b,""),B.value.trim()===""){B.value="";return}i.onAddValue(B.value)&&(B.value="")}}function F(s){if(i.addOnPaste.value){s.preventDefault();const b=s.clipboardData;if(!b)return;const k=b.getData("text");i.delimiter.value?k.split(i.delimiter.value).forEach(j=>{i.onAddValue(j)}):i.onAddValue(k)}}return Oe(()=>{const s=m.value.nodeName==="INPUT"?m.value:m.value.querySelector("input");s&&setTimeout(()=>{L.autoFocus&&s?.focus()},1)}),(s,b)=>(u(),f(a(ae),{id:a(i).id?.value,ref:a(e),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",as:s.as,"as-child":s.asChild,maxlength:s.maxLength,placeholder:s.placeholder,disabled:a(i).disabled.value,"data-invalid":a(i).isInvalidInput.value?"":void 0,onInput:M,onKeydown:[oe(D,["enter"]),oe(r,["tab"]),a(i).onInputKeydown],onBlur:C,onCompositionstart:_,onCompositionend:$,onPaste:F},{default:g(()=>[S(s.$slots,"default")]),_:3},8,["id","as","as-child","maxlength","placeholder","disabled","data-invalid","onKeydown"]))}}),ka=_a;const[Re,Ba]=De("TagsInputItem");var Da=Z({__name:"TagsInputItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(d){const L=d,{value:i}=ke(L),e=ve(),{forwardRef:m,currentElement:C}=ee(),{CollectionItem:r}=Be(),x=V(()=>e.selectedElement.value===C.value),_=V(()=>L.disabled||e.disabled.value),$=Ba({value:i,isSelected:x,disabled:_,textId:"",displayValue:V(()=>e.displayValue(i.value))});return(D,M)=>(u(),f(a(r),{value:a(i)},{default:g(()=>[T(a(ae),{ref:a(m),as:D.as,"as-child":D.asChild,"aria-labelledby":a($).textId,"aria-current":x.value,"data-disabled":_.value?"":void 0,"data-state":x.value?"active":"inactive"},{default:g(()=>[S(D.$slots,"default")]),_:3},8,["as","as-child","aria-labelledby","aria-current","data-disabled","data-state"])]),_:3},8,["value"]))}}),Oa=Da,Fa=Z({__name:"TagsInputItemDelete",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(d){const L=d;ee();const i=ve(),e=Re(),m=V(()=>e.disabled?.value||i.disabled.value);function C(){if(m.value)return;const r=i.modelValue.value.findIndex(x=>Fe(x,e.value.value));i.onRemoveValue(r)}return(r,x)=>(u(),f(a(ae),O({tabindex:"-1"},L,{"aria-labelledby":a(e).textId,"aria-current":a(e).isSelected.value,"data-state":a(e).isSelected.value?"active":"inactive","data-disabled":m.value?"":void 0,type:r.as==="button"?"button":void 0,onClick:C}),{default:g(()=>[S(r.$slots,"default")]),_:3},16,["aria-labelledby","aria-current","data-state","data-disabled","type"]))}}),Ra=Fa,Ea=Z({__name:"TagsInputItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(d){const L=d,i=Re();return ee(),i.textId||=wa(void 0,"reka-tags-input-item-text"),(e,m)=>(u(),f(a(ae),O(L,{id:a(i).textId}),{default:g(()=>[S(e.$slots,"default",{},()=>[G(H(a(i).displayValue.value),1)])]),_:3},16,["id"]))}}),$a=Ea;const Pa={slots:{root:"relative inline-flex items-center",base:["rounded-md","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"group absolute inset-y-0 end-0 flex items-center disabled:cursor-not-allowed disabled:opacity-75",trailingIcon:"shrink-0 text-dimmed",arrow:"fill-default",content:"max-h-60 w-(--reka-combobox-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-combobox-content-transform-origin) pointer-events-auto flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",tagsItem:"px-1.5 py-0.5 rounded-sm font-medium inline-flex items-center gap-0.5 ring ring-inset ring-accented bg-elevated text-default data-disabled:cursor-not-allowed data-disabled:opacity-75",tagsItemText:"truncate",tagsItemDelete:["inline-flex items-center rounded-xs text-dimmed hover:text-default hover:bg-accented/75 disabled:pointer-events-none","transition-colors"],tagsItemDeleteIcon:"shrink-0",tagsInput:"flex-1 border-0 bg-transparent placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",tagsItem:"text-sm",tagsItemDeleteIcon:"size-4",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},multiple:{true:{root:"flex-wrap"},false:{base:"w-full border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"}}},compoundVariants:[{variant:"soft",multiple:!0,class:"has-focus:bg-elevated"},{variant:"ghost",multiple:!0,class:"has-focus:bg-elevated"},{color:"primary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-primary"},{color:"secondary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-secondary"},{color:"success",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-success"},{color:"info",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-info"},{color:"warning",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-warning"},{color:"error",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-error"},{color:"neutral",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-inverted"},{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Ya=Object.assign({inheritAttrs:!1},{__name:"InputMenu",props:Se({as:{type:null,required:!1},id:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},trailingIcon:{type:String,required:!1},selectedIcon:{type:String,required:!1},deleteIcon:{type:String,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},openOnClick:{type:Boolean,required:!1},openOnFocus:{type:Boolean,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:Se(["update:open","change","blur","focus","create","highlight","remove-tag","update:modelValue"],["update:searchTerm"]),setup(d,{expose:L,emit:i}){const e=d,m=i,C=Ye(),r=Je(d,"searchTerm",{type:String,default:""}),{t:x}=We(),_=Qe(),{contains:$}=pa({sensitivity:"base"}),D=Xe(Ze(e,"as","modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover","openOnClick","openOnFocus"),m),M=ea(ie(()=>e.portal)),F=ie(()=>Ce(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),s=ie(()=>e.arrow),{emitFormBlur:b,emitFormFocus:k,emitFormChange:B,emitFormInput:j,size:te,color:ue,id:z,name:Y,highlight:de,disabled:N,ariaAttrs:o}=aa(e),{orientation:q,size:w}=ta(e),{isLeading:A,isTrailing:y,leadingIconName:P,trailingIconName:J}=la(ie(()=>Ce(e,{trailingIcon:_.ui.icons.chevronDown}))),Ee=V(()=>w.value||te.value),[$e,me]=ia(),n=V(()=>we({extend:we(Pa),..._.ui?.inputMenu||{}})({color:ue.value,variant:e.variant,size:Ee?.value,loading:e.loading,highlight:de.value,leading:A.value||!!e.avatar||!!C.leading,trailing:y.value||!!C.trailing,multiple:e.multiple,buttonGroup:q.value}));function be(l){return da(Pe.value,l,{labelKey:e.labelKey,valueKey:e.valueKey})??""}const ce=V(()=>e.items?.length?sa(e.items)?e.items:[e.items]:[]),Pe=V(()=>ce.value.flatMap(l=>l)),ye=V(()=>{if(e.ignoreFilter||!r.value)return ce.value;const l=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return ce.value.map(c=>c.filter(p=>p==null?!1:typeof p!="object"?$(String(p),r.value):p.type&&["label","separator"].includes(p.type)?!0:l.some(K=>{const R=se(p,K);return R!=null&&$(String(R),r.value)}))).filter(c=>c.filter(p=>!h(p)||!p.type||!["label","separator"].includes(p.type)).length>0)}),he=V(()=>ye.value.flatMap(l=>l)),Ie=V(()=>{if(!e.createItem||!r.value)return!1;const l=e.valueKey?{[e.valueKey]:r.value}:r.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!he.value.find(c=>na(c,l,e.valueKey)):!he.value.length}),xe=V(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),le=re(null);function Ke(){e.autofocus&&le.value?.$el?.focus()}Oe(()=>{fe(()=>{r.value=""}),setTimeout(()=>{Ke()},e.autofocusDelay)});function ze(l){if(ca(e.modelValue)===l)return;const c=new Event("change",{target:{value:l}});m("change",c),B(),j(),e.resetSearchTermOnSelect&&(r.value="")}function qe(l){m("blur",l),b()}function Te(l){m("focus",l),k()}function Me(l){let c;if(l){const p=new FocusEvent("focus");m("focus",p),k(),clearTimeout(c)}else{const p=new FocusEvent("blur");m("blur",p),b(),e.resetSearchTermOnBlur&&(c=setTimeout(()=>{r.value=""},100))}}function je(l){if(e.multiple){const p=e.modelValue.filter(K=>!Fe(K,l));m("update:modelValue",p),m("remove-tag",l),ze(p)}}function Ne(l,c){if(h(c)){if(c.disabled){l.preventDefault();return}c.onSelect?.(l)}}function h(l){return typeof l=="object"&&l!==null}return L({inputRef:le}),(l,c)=>(u(),U(Q,null,[T(a($e),null,{default:g(()=>[T(a(Ve),{class:v(n.value.group({class:e.ui?.group}))},{default:g(()=>[T(a(Le),{class:v(n.value.item({class:e.ui?.item})),value:r.value,onSelect:c[0]||(c[0]=pe(p=>m("create",r.value),["prevent"]))},{default:g(()=>[ne("span",{class:v(n.value.itemLabel({class:e.ui?.itemLabel}))},[S(l.$slots,"create-item-label",{item:r.value},()=>[G(H(a(x)("inputMenu.create",{label:r.value})),1)])],2)]),_:3},8,["class","value"])]),_:3},8,["class"])]),_:3}),T(a(za),O(a(D),{name:a(Y),disabled:a(N),class:n.value.root({class:[e.ui?.root,e.class]}),"as-child":!!d.multiple,"ignore-filter":"","onUpdate:modelValue":ze,"onUpdate:open":Me,onKeydown:c[5]||(c[5]=oe(p=>p.preventDefault(),["enter"]))}),{default:g(({modelValue:p,open:K})=>[T(a(ga),{"as-child":!d.multiple,class:v(n.value.base({class:e.ui?.base}))},{default:g(()=>[d.multiple?(u(),f(a(La),{key:0,"model-value":p,disabled:a(N),required:d.required,delimiter:"","as-child":"",onBlur:qe,onFocus:Te,onRemoveTag:je},{default:g(({modelValue:R})=>[(u(!0),U(Q,null,ge(R,(I,t)=>(u(),f(a(Oa),{key:t,value:h(I)?I:String(I),class:v(n.value.tagsItem({class:[e.ui?.tagsItem,h(I)&&I.ui?.tagsItem]}))},{default:g(()=>[T(a($a),{class:v(n.value.tagsItemText({class:[e.ui?.tagsItemText,h(I)&&I.ui?.tagsItemText]}))},{default:g(()=>[S(l.$slots,"tags-item-text",{item:I,index:t},()=>[G(H(be(I)),1)])]),_:2},1032,["class"]),T(a(Ra),{class:v(n.value.tagsItemDelete({class:[e.ui?.tagsItemDelete,h(I)&&I.ui?.tagsItemDelete]})),disabled:a(N)},{default:g(()=>[S(l.$slots,"tags-item-delete",{item:I,index:t},()=>[T(X,{name:d.deleteIcon||a(_).ui.icons.close,class:v(n.value.tagsItemDeleteIcon({class:[e.ui?.tagsItemDeleteIcon,h(I)&&I.ui?.tagsItemDeleteIcon]}))},null,8,["name","class"])])]),_:2},1032,["class","disabled"])]),_:2},1032,["value","class"]))),128)),T(a(_e),{modelValue:r.value,"onUpdate:modelValue":c[2]||(c[2]=I=>r.value=I),"as-child":""},{default:g(()=>[T(a(ka),O({id:a(z),ref_key:"inputRef",ref:le},{...l.$attrs,...a(o)},{placeholder:d.placeholder,class:n.value.tagsInput({class:e.ui?.tagsInput}),onKeydown:c[1]||(c[1]=oe(pe(()=>{},["prevent"]),["enter"]))}),null,16,["id","placeholder","class"])]),_:1},8,["modelValue"])]),_:3},8,["model-value","disabled","required"])):(u(),f(a(_e),O({key:1,id:a(z),ref_key:"inputRef",ref:le,"display-value":be},{...l.$attrs,...a(o)},{type:d.type,placeholder:d.placeholder,required:d.required,onBlur:qe,onFocus:Te,"onUpdate:modelValue":c[3]||(c[3]=R=>r.value=R)}),null,16,["id","type","placeholder","required"])),a(A)||d.avatar||C.leading?(u(),U("span",{key:2,class:v(n.value.leading({class:e.ui?.leading}))},[S(l.$slots,"leading",{modelValue:p,open:K,ui:n.value},()=>[a(A)&&a(P)?(u(),f(X,{key:0,name:a(P),class:v(n.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):d.avatar?(u(),f(Ae,O({key:1,size:e.ui?.itemLeadingAvatarSize||n.value.itemLeadingAvatarSize()},d.avatar,{class:n.value.itemLeadingAvatar({class:e.ui?.itemLeadingAvatar})}),null,16,["size","class"])):E("",!0)])],2)):E("",!0),a(y)||C.trailing?(u(),f(a(fa),{key:3,class:v(n.value.trailing({class:e.ui?.trailing}))},{default:g(()=>[S(l.$slots,"trailing",{modelValue:p,open:K,ui:n.value},()=>[a(J)?(u(),f(X,{key:0,name:a(J),class:v(n.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):E("",!0)])]),_:2},1032,["class"])):E("",!0)]),_:2},1032,["as-child","class"]),T(a(va),ra(oa(a(M))),{default:g(()=>[T(a(ma),O({class:n.value.content({class:e.ui?.content})},F.value,{onFocusOutside:c[4]||(c[4]=pe(()=>{},["prevent"]))}),{default:g(()=>[S(l.$slots,"content-top"),T(a(ba),{class:v(n.value.empty({class:e.ui?.empty}))},{default:g(()=>[S(l.$slots,"empty",{searchTerm:r.value},()=>[G(H(r.value?a(x)("inputMenu.noMatch",{searchTerm:r.value}):a(x)("inputMenu.noData")),1)])]),_:3},8,["class"]),ne("div",{role:"presentation",class:v(n.value.viewport({class:e.ui?.viewport}))},[Ie.value&&xe.value==="top"?(u(),f(a(me),{key:0})):E("",!0),(u(!0),U(Q,null,ge(ye.value,(R,I)=>(u(),f(a(Ve),{key:`group-${I}`,class:v(n.value.group({class:e.ui?.group}))},{default:g(()=>[(u(!0),U(Q,null,ge(R,(t,W)=>(u(),U(Q,{key:`group-${I}-${W}`},[h(t)&&t.type==="label"?(u(),f(a(ya),{key:0,class:v(n.value.label({class:[e.ui?.label,t.ui?.label,t.class]}))},{default:g(()=>[G(H(a(se)(t,e.labelKey)),1)]),_:2},1032,["class"])):h(t)&&t.type==="separator"?(u(),f(a(ha),{key:1,class:v(n.value.separator({class:[e.ui?.separator,t.ui?.separator,t.class]}))},null,8,["class"])):(u(),f(a(Le),{key:2,class:v(n.value.item({class:[e.ui?.item,h(t)&&t.ui?.item,h(t)&&t.class]})),disabled:h(t)&&t.disabled,value:e.valueKey&&h(t)?a(se)(t,e.valueKey):t,onSelect:Ue=>Ne(Ue,t)},{default:g(()=>[S(l.$slots,"item",{item:t,index:W},()=>[S(l.$slots,"item-leading",{item:t,index:W},()=>[h(t)&&t.icon?(u(),f(X,{key:0,name:t.icon,class:v(n.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,t.ui?.itemLeadingIcon]}))},null,8,["name","class"])):h(t)&&t.avatar?(u(),f(Ae,O({key:1,size:t.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||n.value.itemLeadingAvatarSize()},{ref_for:!0},t.avatar,{class:n.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,t.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):h(t)&&t.chip?(u(),f(ua,O({key:2,size:t.ui?.itemLeadingChipSize||e.ui?.itemLeadingChipSize||n.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},t.chip,{class:n.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,t.ui?.itemLeadingChip]})}),null,16,["size","class"])):E("",!0)]),ne("span",{class:v(n.value.itemLabel({class:[e.ui?.itemLabel,h(t)&&t.ui?.itemLabel]}))},[S(l.$slots,"item-label",{item:t,index:W},()=>[G(H(h(t)?a(se)(t,e.labelKey):t),1)])],2),ne("span",{class:v(n.value.itemTrailing({class:[e.ui?.itemTrailing,h(t)&&t.ui?.itemTrailing]}))},[S(l.$slots,"item-trailing",{item:t,index:W}),T(a(Ia),{"as-child":""},{default:g(()=>[T(X,{name:d.selectedIcon||a(_).ui.icons.check,class:v(n.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,h(t)&&t.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128)),Ie.value&&xe.value==="bottom"?(u(),f(a(me),{key:1})):E("",!0)],2),S(l.$slots,"content-bottom"),d.arrow?(u(),f(a(xa),O({key:0},s.value,{class:n.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):E("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["name","disabled","class","as-child"])],64))}});export{Ya as _};
