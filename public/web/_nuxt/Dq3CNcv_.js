import{d as M,l as h,a2 as S,n as $,q,J as m,aV as B,p as y,cr as F,f as E,o as I,w as P,x as w,C as W,a0 as k}from"#entry";import{W as L}from"./BJfIXs0j.js";import{_ as O}from"./abPSHzII.js";const V=M({__name:"content",props:{color:{default:"#FFF"},quantity:{default:100},speed:{default:1},maxRadius:{default:3},minRadius:{default:1},class:{default:""},style:{}},setup(R){const a=R,o=h(null),l=h(null),n=h(null),v=h([]),t=S({w:0,h:0}),{pixelRatio:f}=F();let c=null;const _=$(()=>{const e=a.color.replace(/^#/,"").padStart(6,"0"),s=parseInt(e,16),i=s>>16&255,u=s>>8&255,d=s&255;return`${i} ${u} ${d}`});q(()=>{o.value&&(n.value=o.value.getContext("2d")),r(),x(),window.addEventListener("resize",r),l.value&&(c=new ResizeObserver(()=>{m(()=>{r()})}),c.observe(l.value))}),B(()=>{window.removeEventListener("resize",r),c&&(c.disconnect(),c=null)}),y(()=>a.style,()=>{m(()=>{r()})},{deep:!0}),y([()=>a.quantity,()=>a.speed,()=>a.maxRadius,()=>a.minRadius],()=>{m(()=>{p()})});function r(){g(),p()}function g(){l.value&&o.value&&n.value&&(v.value.length=0,t.w=l.value.offsetWidth,t.h=l.value.offsetHeight,o.value.width=t.w*f.value,o.value.height=t.h*f.value,o.value.style.width=`${t.w}px`,o.value.style.height=`${t.h}px`,n.value.scale(f.value,f.value))}function p(){v.value=[];for(let e=0;e<a.quantity;e++){const s=z();v.value.push(s)}}function z(){const e=Math.random()*t.w,s=Math.random()*t.h,i=Math.random()*(a.maxRadius-a.minRadius)+a.minRadius,u=Math.random()*.5+.5,d=(Math.random()-.5)*.5,b=Math.random()*.25+a.speed;return{x:e,y:s,size:i,alpha:u,dx:d,dy:b}}function C(e){if(n.value){const{x:s,y:i,size:u,alpha:d}=e;n.value.beginPath(),n.value.arc(s,i,u,0,Math.PI*2),n.value.fillStyle=`rgba(${_.value.split(" ").join(", ")}, ${d})`,n.value.fill()}}function x(){n.value&&n.value.clearRect(0,0,t.w,t.h),v.value.forEach(e=>{e.x+=e.dx,e.y+=e.dy,e.y>t.h&&(e.y=-e.size,e.x=Math.random()*t.w),C(e)}),requestAnimationFrame(x)}return(e,s)=>(I(),E(L,{style:k(a.style),"override-bg-color":!0,"custom-class":"snowfall-bg-content"},{default:P(({style:i})=>[w("div",{ref_key:"canvasContainerRef",ref:l,class:W([a.class,"snowfall-container"]),"aria-hidden":"true"},[w("canvas",{ref_key:"canvasRef",ref:o},null,512)],2)]),_:1},8,["style"]))}}),H=O(V,[["__scopeId","data-v-46a185c8"]]);export{H as default};
