import{d as U,a$ as E,aM as F,b2 as N,l as x,n as V,p as q,c as a,x as o,t,w as m,D as H,g as i,F as w,E as k,H as I,z as h,A as J,f as P,ba as R,_ as G,bb as M,b3 as W,bc as j,o as n,C as D,ar as K,J as X}from"#entry";import{_ as Y}from"./CWpJD8K1.js";import{_ as Z}from"./CqBu4bDI.js";import{_ as Q}from"./Cie-o9Wa.js";import{_ as ee}from"./CVhf1Cq6.js";import{_ as te}from"./CzL0xTzV.js";import{_ as oe}from"./DBiaUVBh.js";import{d as ne}from"./MCK2d4XT.js";import"./CdknASxf.js";import"./gaGwb9HC.js";import"./CuVAPZQ8.js";import"./CtosDvS0.js";import"./CjasYwqF.js";import"./C6Y-ieo6.js";import"./jsPNKUA0.js";import"./abPSHzII.js";import"./TrJvDfxI.js";import"./u_h4lk84.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./Z7qkLoXK.js";import"./CjE5iPSn.js";import"./D9UsdH-b.js";import"./EK7Wbu3-.js";const se={class:"bg-background flex size-full overflow-hidden"},ae={class:"fixed bottom-1/2 left-0 md:hidden"},ie={class:"relative flex h-full w-52 flex-col"},le={class:"absolute -right-7 bottom-1/2 md:hidden"},re={class:"flex-1 overflow-hidden"},ce={key:0,class:"h-full space-y-3"},pe={key:1,class:"flex flex-col gap-3"},de=["onClick"],ue={class:"mt-auto px-4 py-2"},me={class:"bg-muted w-0 overflow-x-hidden transition-[width] md:w-44 lg:w-52"},_e={class:"flex h-full w-full min-w-44 flex-col gap-4"},fe={class:"flex-1 overflow-hidden"},ve={key:0,class:"h-full space-y-3"},ye={key:1,class:"flex flex-col gap-3 text-sm"},he=["onClick"],ge={class:"mt-auto px-4 py-2"},xe={id:"__read_area__",class:"flex-1 overflow-y-auto"},we={class:"mx-auto flex w-full flex-col gap-4 p-6 md:max-w-prose"},ke={key:0,class:"space-y-4"},Ce={class:"mt-8! space-y-6"},be={key:1,class:"space-y-4"},Ae={class:"text-2xl font-medium"},Te={class:"text-foreground/60 text-xs"},Se={key:1},$e={class:"prose dark:prose-invert"},tt=U({__name:"index",async setup(De){let f,C;E({title:"Policy Agreements"});const B=F(),{data:v,pending:b}=([f,C]=N(()=>W(()=>j(),{transform:u=>{const e=u.agreement;if(!e)return console.warn("Agreement configuration not found"),[];const c=[];return e.serviceTitle&&e.serviceContent&&c.push({title:e.serviceTitle,type:"service",content:e.serviceContent,updateAt:e.updateAt||new Date().toISOString()}),e.privacyTitle&&e.privacyContent&&c.push({title:e.privacyTitle,type:"privacy",content:e.privacyContent,updateAt:e.updateAt||new Date().toISOString()}),e.paymentTitle&&e.paymentContent&&c.push({title:e.paymentTitle,type:"payment",content:e.paymentContent,updateAt:e.updateAt||new Date().toISOString()}),c}},"$8SJ7sF5zWw")),f=await f,C(),f);(!v.value||v.value.length===0)&&console.error("Agreement configuration data not found");const d=x(!1);ne({o:()=>d.value=!d.value});const g=x(!1),r=x(null),A=V(()=>[{id:"agreement",value:"agreement",label:"Policy Agreements",defaultOpen:!0,list:v.value||[]}]);async function T(u,e){g.value=!0,r.value=e,await K({path:"/agreement",query:{type:u,item:e.type}},{replace:!0}),await X(),document.getElementById("__read_area__")?.scrollTo({top:0,behavior:"smooth"}),g.value=!1}return q(()=>B.query,u=>{const e=u.type,c=u.item,s=v.value||[];if(e==="agreement"&&c){const _=s.find(y=>y.type===c);if(_){r.value=_;return}}s[0]&&!r.value&&(r.value=s[0])},{immediate:!0}),(u,e)=>{const c=G,s=Y,_=Z,y=Q,S=ee,$=M,z=te,O=oe,L=R("dompurify-html");return n(),a("div",se,[o("div",ae,[t(c,{icon:"tabler:list",ui:{base:"rounded-s-none"},onClick:e[0]||(e[0]=l=>d.value=!0)})]),t(z,{open:i(d),"onUpdate:open":e[2]||(e[2]=l=>H(d)?d.value=l:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:m(()=>[o("div",ie,[o("div",le,[t(c,{icon:"tabler:text-wrap",ui:{base:"rounded-s-none"},onClick:e[1]||(e[1]=l=>d.value=!1)})]),o("div",re,[t(y,{class:"h-full px-4"},{default:m(()=>[t(_,{items:i(A),type:"multiple",style:{"--ui-border":"transparent"},"default-value":["agreement"],ui:{trigger:"text-md",trailingIcon:"size-4"}},{content:m(({item:l})=>[i(b)?(n(),a("div",ce,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",pe,[(n(!0),a(w,null,k(l.list,p=>(n(),a("div",{key:p.type,class:D(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":p.type===i(r)?.type}]),onClick:()=>{T(l.id,p),d.value=!1}},h(p.title),11,de))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ue,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),_:1},8,["open"]),o("div",me,[o("div",_e,[o("div",fe,[t(y,{class:"h-full pr-4 pl-2"},{default:m(()=>[t(_,{items:i(A),type:"multiple","default-value":["agreement"],style:{"--ui-border":"transparent"},ui:{trailingIcon:"size-4"}},{content:m(({item:l})=>[i(b)?(n(),a("div",ve,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",ye,[(n(!0),a(w,null,k(l.list,p=>(n(),a("div",{key:p.type,class:D(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":p.type===i(r)?.type}]),onClick:Be=>T(l.id,p)},h(p.title),11,he))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ge,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),o("div",xe,[o("div",we,[i(g)?(n(),a("div",ke,[t(s,{class:"h-6 w-[250px]"}),t(s,{class:"h-4 w-[200px]"}),o("div",Ce,[(n(),a(w,null,k(15,l=>t(s,{key:l,class:"h-4 w-full"})),64))])])):(n(),a("div",be,[o("h1",Ae,h(i(r)?.title),1),o("p",Te,[J(h(u.$t("common.updateAt"))+": ",1),i(r)?.updateAt?(n(),P(O,{key:0,datetime:i(r).updateAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",Se,"-"))]),I(o("div",$e,null,512),[[L,i(r)?.content]])]))])])])}}});export{tt as default};
