const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CA3iJI7z.js","./cd55qm53.js","./Cgyg1gJC.js","./D_3bTjYR.js","./D9sX2Qi6.js","./Co1Njv5N.js","./CtosDvS0.js","./CAQVAH0V.js","./BCcN9pii.js","./CMKSl-Ng.js","./Deu6qIfg.js","./DBEJUH-Z.js","./CuVAPZQ8.js","./CvI6s-qz.js","./DNSLGqNg.js","./BFo3vNrE.js","./DeCyaT7k.js","./D4e4FYoF.js","./Z7qkLoXK.js","./BstbYvQo.js","./bvMLy1sv.js","./JxyxsHxp.js","./B5gsc-Ax.js","./DD8ySyt7.js","./B9ZIqvFb.js","./Bk5k3yMa.js","./FTderXKt.js","./DaWZu8wl.js"])))=>i.map(i=>d[i]);
import{d as g,i as D,at as w,n as A,bF as P,l as B,aN as C,q as F,c as m,o as p,x as l,y as S,t as i,w as E,B as I,z as _,g as e,bE as N,_ as U,W as V,X as $}from"#entry";import{b as z,c as L}from"./Bk5k3yMa.js";const R={class:"level-edit-container flex h-full flex-col"},j={class:"bg-background sticky top-0 z-10 mb-4 flex w-full items-center justify-baseline pb-2"},q={class:"text-base font-medium"},G={class:"ml-4 text-xl font-bold"},M={key:0,class:"flex justify-center py-12"},X=g({__name:"edit",setup(T){const{t:a}=D(),r=w(),o=N(),f=P(),n=A(()=>f.query.id),b=V(()=>$(()=>import("./CA3iJI7z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]),import.meta.url)),d=B({}),{lockFn:h,isLock:k}=C(async()=>{if(!n.value){r.error(a("membership.console-membership.plan.edit.getDetailFailed")),o.back();return}try{const{id:t,createdAt:s,updatedAt:c,status:u,sort:y,...x}=await L(n.value);d.value={...x}}catch(t){console.error("Get level detail failed:",t),o.back()}}),v=async t=>{try{await z(n.value,t),r.success(a("membership.console-membership.plan.edit.submitSuccess")),setTimeout(()=>o.back(),1e3)}catch(s){console.error("Update level failed:",s)}};return F(()=>h()),(t,s)=>{const c=I,u=U;return p(),m("div",R,[l("div",j,[i(u,{color:"neutral",variant:"soft",onClick:s[0]||(s[0]=y=>e(o).back())},{default:E(()=>[i(c,{name:"i-lucide-arrow-left",class:"size-5 cursor-pointer"}),l("span",q,_(e(a)("console-common.back")),1)]),_:1}),l("h1",G,_(e(a)("membership.console-membership.plan.edit.title")),1)]),e(k)?(p(),m("div",M,[i(c,{name:"i-lucide-loader-2",class:"text-primary-500 h-8 w-8 animate-spin"})])):S("",!0),i(e(b),{id:e(n),initialData:e(d),onSubmitSuccess:v},null,8,["id","initialData"])])}}});export{X as default};
