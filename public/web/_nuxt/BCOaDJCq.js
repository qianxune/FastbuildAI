import{c as v,d as L}from"./C0KOn7yN.js";import{O as g,l as r,n,a8 as k}from"#entry";const a=[{id:"layout-1",name:"顶部导航1",component:"Layout1"},{id:"layout-2",name:"顶部导航2",component:"Layout2"},{id:"layout-3",name:"顶部导航3",component:"Layout3"},{id:"layout-4",name:"侧边导航1",component:"Layout4"},{id:"layout-5",name:"侧边导航2",component:"Layout5"}],u=[{id:"1",title:"首页",link:{path:"/"},icon:"i-heroicons-home"},{id:"2",title:"产品",link:{path:"/products"},icon:"i-heroicons-squares-2x2",children:[{id:"2-1",title:"产品列表",link:{path:"/products/list"},icon:"i-heroicons-list-bullet"},{id:"2-2",title:"产品详情",link:{path:"/products/detail"},icon:"i-heroicons-eye"}]},{id:"3",title:"服务",link:{path:"/services"},icon:"i-heroicons-cog-6-tooth"},{id:"4",title:"关于我们",link:{path:"/about"},icon:"i-heroicons-information-circle"},{id:"5",title:"联系我们",link:{path:"/contact"},icon:"i-heroicons-phone"}],S=g("layout",()=>{const o=r("layout-1"),e=r([...u]),s=n(()=>a.find(t=>t.id===o.value)||a[0]),i=n(()=>({layout:o.value,menus:e.value})),c=n(()=>({items:e.value.filter(t=>!t.isHidden)})),l=t=>{a.find(f=>f.id===t)&&(o.value=t)},y=t=>{e.value=[...t]},d=async()=>{try{const t={...i.value};return await v("web",t)}catch(t){throw console.error("保存布局配置失败:",t),t}},p=async()=>{try{const t=await L("web");return o.value=t.data.layout,e.value=[...t.data.menus],t}catch(t){throw console.error("加载布局配置失败:",t),t}},h=()=>{o.value="layout-1",e.value=[...u]};return{currentLayoutId:k(o),currentMenus:e,currentLayoutStyle:s,currentLayoutConfig:i,navigationConfig:c,setCurrentLayout:l,updateMenus:y,saveCurrentLayout:d,loadLayoutFromServer:p,resetToDefault:h}});export{a as l,S as u};
