import{d as f,c as r,o as s,F as j,E as B,x as t,y as c,f as v,z as m,t as d,_ as T,B as A,w,a0 as M}from"#entry";import{_ as U}from"./o4ws_w_T.js";import{_ as F}from"./DbqqhwXM.js";import{u as I}from"./RPflLnqr.js";const N={class:"flex flex-wrap gap-2"},S={key:0,class:"group relative"},V=["src","onClick"],E={key:0,class:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50"},R={class:"text-center text-white"},D={class:"text-xs font-medium"},L={key:1,class:"bg-muted/50 absolute inset-0 flex items-center justify-center rounded-lg"},O={key:1,class:"group relative"},P=["onClick"],q=["src"],G={class:"absolute inset-0 flex items-center justify-center"},H={key:0,class:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50"},J={class:"text-center text-white"},K={class:"text-xs font-medium"},Q={key:1,class:"bg-muted/50 absolute inset-0 flex items-center justify-center rounded-lg"},W={key:2,class:"group relative"},X=["onClick"],Y={class:"border-border flex size-8.5 items-center justify-center rounded-lg border shadow-md"},Z={class:"flex flex-col"},ee={class:"text-foreground max-w-[200px] truncate text-sm font-bold"},te=["src"],se={key:0,class:"bg-muted/50 absolute inset-0 flex items-center justify-center rounded-lg"},oe={class:"text-center"},re={class:"text-xs font-medium"},ne={key:1,class:"bg-muted/50 absolute inset-0 flex items-center justify-center rounded-lg"},ce=["onClick"],ie={class:"border-border flex size-8 items-center justify-center rounded-lg border shadow-md"},ae={class:"text-foreground me-auto max-w-[250px] truncate text-sm font-bold"},de={key:0,class:"flex items-center gap-2"},le={class:"bg-muted h-2 w-16 rounded-full"},ue={class:"text-muted-foreground w-8 text-xs"},me={key:1,class:"bg-muted/50 absolute inset-0 flex items-center justify-center rounded-lg"},ve=f({__name:"prompt-file-preview",props:{files:{},showActions:{type:Boolean}},emits:["remove","view","retry"],setup(l,{emit:C}){const y=l,p=C,n=o=>"status"in o,u=o=>"mediaType"in o&&o.mediaType?o.mediaType:"isImage"in o&&o.isImage?"image":"file",_=o=>p("remove",o),h=o=>p("retry",o),g=o=>{u(o)==="image"?I(y.files.filter(a=>u(a)==="image").map(a=>a.url),y.files.filter(a=>u(a)==="image").indexOf(o)):p("view",o)};return(o,z)=>{const a=T,x=U,k=A,b=F;return s(),r("div",N,[(s(!0),r(j,null,B(l.files,(e,$)=>(s(),r("div",{key:$,class:"group relative"},[u(e)==="image"?(s(),r("div",S,[t("img",{src:e.url,onClick:i=>g(e),class:"size-12.5 max-h-48 cursor-pointer rounded-lg object-cover"},null,8,V),n(e)&&e.status==="uploading"?(s(),r("div",E,[t("div",R,[t("div",D,m(Math.round(e.progress))+"%",1)])])):c("",!0),n(e)&&e.status==="error"?(s(),r("div",L,[d(a,{size:"xs",color:"error",variant:"ghost",icon:"i-lucide-refresh-cw",onClick:i=>h(e)},null,8,["onClick"])])):c("",!0),l.showActions&&(!n(e)||e.status==="success"||e.status==="error")?(s(),v(x,{key:2,size:"xs",icon:"i-lucide-x",color:"neutral",class:"absolute top-1 right-1 rounded-full",onClick:i=>_(e)},null,8,["onClick"])):c("",!0)])):u(e)==="video"?(s(),r("div",O,[t("div",{class:"relative h-12.5 w-20 cursor-pointer rounded-lg bg-black",onClick:i=>g(e)},[t("video",{src:e.url,class:"size-full rounded-lg object-cover",preload:"metadata"},null,8,q),t("div",G,[d(k,{name:"i-lucide-play-circle",class:"size-6 text-white opacity-80"})])],8,P),n(e)&&e.status==="uploading"?(s(),r("div",H,[t("div",J,[t("div",K,m(Math.round(e.progress))+"%",1)])])):c("",!0),n(e)&&e.status==="error"?(s(),r("div",Q,[d(a,{size:"xs",color:"error",variant:"ghost",icon:"i-lucide-refresh-cw",onClick:i=>h(e)},null,8,["onClick"])])):c("",!0),l.showActions&&(!n(e)||e.status==="success"||e.status==="error")?(s(),v(x,{key:2,size:"xs",icon:"i-lucide-x",color:"neutral",class:"absolute top-1 right-1 rounded-full",onClick:i=>_(e)},null,8,["onClick"])):c("",!0)])):u(e)==="audio"?(s(),r("div",W,[t("div",{class:"border-border bg-muted/50 relative flex cursor-pointer items-center gap-2 rounded-lg border p-2 pr-4!",onClick:i=>g(e)},[t("div",Y,[d(k,{name:"i-lucide-audio-lines",class:"text-foreground size-4"})]),t("div",Z,[d(b,{text:e.name,"delay-duration":0},{default:w(()=>[t("div",ee,m(e.name),1)]),_:2},1032,["text"]),t("audio",{src:e.url,controls:!1,class:"h-6 w-48",preload:"metadata"},null,8,te)]),n(e)&&e.status==="uploading"?(s(),r("div",se,[t("div",oe,[t("div",re,m(Math.round(e.progress))+"%",1)])])):c("",!0),n(e)&&e.status==="error"?(s(),r("div",ne,[d(a,{size:"xs",color:"error",variant:"ghost",icon:"i-lucide-refresh-cw",onClick:i=>h(e)},null,8,["onClick"])])):c("",!0),l.showActions&&(!n(e)||e.status==="success")?(s(),v(x,{key:2,size:"xs",icon:"i-lucide-x",color:"neutral",class:"absolute top-1 right-1 rounded-full",onClick:i=>_(e)},null,8,["onClick"])):c("",!0)],8,X)])):(s(),r("div",{key:3,class:"border-border bg-muted/50 relative flex cursor-pointer items-center gap-2 rounded-lg border p-2 pr-4!",onClick:i=>g(e)},[t("div",ie,[d(k,{name:"i-lucide-file-box",class:"text-foreground size-4"})]),d(b,{text:e.name,"delay-duration":0},{default:w(()=>[t("div",ae,m(e.name),1)]),_:2},1032,["text"]),n(e)&&e.status==="uploading"?(s(),r("div",de,[t("div",le,[t("div",{class:"bg-primary h-2 rounded-full transition-all duration-300",style:M({width:`${e.progress}%`})},null,4)]),t("span",ue,m(Math.round(e.progress))+"% ",1)])):c("",!0),n(e)&&e.status==="error"?(s(),r("div",me,[d(a,{size:"xs",color:"error",variant:"ghost",icon:"i-lucide-refresh-cw",onClick:i=>h(e)},null,8,["onClick"])])):c("",!0),l.showActions&&(!n(e)||e.status==="success"||e.status==="error")?(s(),v(x,{key:2,size:"xs",icon:"i-lucide-x",color:"neutral",class:"absolute top-1 right-1 rounded-full",onClick:i=>_(e)},null,8,["onClick"])):c("",!0)],8,ce))]))),128))])}}});export{ve as _};
