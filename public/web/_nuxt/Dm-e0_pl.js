import{_ as N}from"./DBiaUVBh.js";import{_ as h}from"./o4ws_w_T.js";import{_ as V}from"./JxyxsHxp.js";import{_ as z}from"./CvI6s-qz.js";import{_ as A}from"./D4ebF709.js";import w from"./cd55qm53.js";import{b as C}from"./dbUs94xf.js";import{u as S}from"./ZDOPDbaX.js";import{d as U,i as $,q as k,h as K,c as p,o as l,t as d,x as a,w as u,y as f,f as T,z as m,g as t,A as B}from"#entry";import"./CtosDvS0.js";import"./CAQVAH0V.js";import"./DNSLGqNg.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./Z7qkLoXK.js";import"./BstbYvQo.js";import"./CuVAPZQ8.js";import"./o0-e7Rye.js";import"./abPSHzII.js";const D={class:"flex h-full flex-col"},I={class:"flex flex-col items-center"},F={key:0},M={key:1},P={class:"border-default mt-auto flex items-center justify-between gap-3 border-t pt-4"},j={class:"text-muted flex items-center gap-2 text-sm"},q={class:"flex items-center gap-1.5"},E={class:"text-muted flex items-center gap-2 text-sm"},me=U({__name:"subscription-table",setup(L){const{t:n}=$(),g=N,{paging:r,getLists:i}=S({fetchFun:C});k(()=>{i()});const _=[{accessorKey:"orderNo",header:n("order.frontend.subscription.list.orderNo"),cell:({row:s})=>s.original.orderNo},{accessorKey:"planName",header:n("order.frontend.subscription.list.planName"),cell:({row:s})=>s.original.planName},{accessorKey:"levelName",header:n("order.frontend.subscription.list.levelName"),cell:({row:s})=>s.original.levelName},{accessorKey:"duration",header:n("order.frontend.subscription.list.duration"),cell:({row:s})=>s.original.duration},{accessorKey:"orderAmount",header:n("order.frontend.subscription.list.paidInAmount"),cell:({row:s})=>{const e=Number.parseFloat(s.getValue("orderAmount")||"0");return new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e)}},{accessorKey:"payTypeDesc",header:n("order.frontend.subscription.list.paymentMethod")},{accessorKey:"createdAt",header:n("order.frontend.subscription.list.createdAt"),cell:({row:s})=>{const e=s.getValue("createdAt");return K(g,{datetime:e,mode:"datetime"})}}];return(s,e)=>{const c=h,y=V,b=z,x=A,v=w;return l(),p("div",D,[d(y,{ref:"table",sticky:"",data:t(r).items,columns:_,class:"max-h-full flex-1",ui:{th:"whitespace-nowrap"}},{"payTypeDesc-cell":u(({row:o})=>[a("div",I,[o.original.payType===1?(l(),p("div",F,m(t(n)("order.frontend.subscription.list.wechat")),1)):o.original.payType===2?(l(),p("div",M,m(t(n)("order.frontend.subscription.list.alipay")),1)):f("",!0),o.original.refundStatus===1?(l(),T(c,{key:2,color:"warning"},{default:u(()=>[B(m(t(n)("order.frontend.subscription.list.refunded")),1)]),_:1})):f("",!0)])]),_:1},8,["data"]),a("div",P,[a("div",j,[a("span",null,"共 "+m(t(r).total)+" 条",1),d(b,{modelValue:t(r).pageSize,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).pageSize=o),size:"lg",items:[{label:"10 条/页",value:10},{label:"20 条/页",value:20},{label:"50 条/页",value:50},{label:"100 条/页",value:100}],class:"w-28",onChange:e[1]||(e[1]=o=>t(i)())},null,8,["modelValue"])]),a("div",q,[d(x,{page:t(r).page,"onUpdate:page":e[2]||(e[2]=o=>t(r).page=o),size:t(r).pageSize,"onUpdate:size":e[3]||(e[3]=o=>t(r).pageSize=o),"show-edges":"",total:t(r).total,onChange:e[4]||(e[4]=o=>t(i)())},null,8,["page","size","total"]),a("div",E,[e[7]||(e[7]=a("span",null,"前往",-1)),d(v,{modelValue:t(r).page,"onUpdate:modelValue":e[5]||(e[5]=o=>t(r).page=o),size:"lg",type:"number",class:"w-18",onChange:e[6]||(e[6]=o=>t(i)())},null,8,["modelValue"]),e[8]||(e[8]=a("span",null,"页",-1))])])])])}}});export{me as default};
