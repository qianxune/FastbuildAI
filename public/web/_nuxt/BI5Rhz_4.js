import{d as D,av as _,i as N,s as U,n as M,q as P,c as p,o as r,x as o,y as R,t as a,G as j,z as i,w as d,A as x,g as y,B as A,v as l,_ as I,aZ as E,f as k,F,E as q,D as G}from"#entry";import{_ as L}from"./o4ws_w_T.js";import{_ as S}from"./DBiaUVBh.js";import{_ as Z}from"./cdILXO3J.js";import{u as H}from"./CxvgZo8z.js";import"./cd55qm53.js";import"./shdu-Ndv.js";import"./hsuWSsy6.js";import"./DMoqg0Fd.js";import"./CtosDvS0.js";import"./kRIii9yh.js";import"./DNSLGqNg.js";import"./Z7qkLoXK.js";import"./C6Y-ieo6.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./CuVAPZQ8.js";import"./psimjGaX.js";import"./BZx839BO.js";const J={class:"absolute bottom-3 left-3.5 z-10 flex gap-1 opacity-100 transition-opacity duration-200 group-hover:opacity-0"},K={key:0,class:"flex items-center justify-center gap-1 text-xs"},O={class:"text-muted-foreground truncate"},Q={class:"mb-3 flex items-start gap-3"},W={class:"border-default bg-muted flex size-10 flex-none items-center justify-center rounded-lg border"},X={class:"flex min-w-0 flex-1 flex-col"},Y={class:"text-foreground truncate text-sm font-medium"},tt={class:"text-muted-foreground mt-1 text-xs"},et={class:"text-muted-foreground h-10 pr-8 text-xs"},ot={class:"line-clamp-2 overflow-hidden"},at={key:1,class:"flex flex-wrap gap-1"},Vt=D({__name:"agent-card",props:{agent:{}},emits:["delete","edit","exportDsl","updateTags"],setup(e,{emit:z}){const m=e,u=z,$=_(),{t:f}=N(),c=U([]),h=()=>{$.push(H("ai-agent:detail",{id:m.agent.id}))},C=M(()=>m.agent.createMode==="coze"?f("ai-agent.backend.create.modes.coze"):m.agent.createMode==="dify"?f("ai-agent.backend.create.modes.dify"):f("ai-agent.backend.create.modes.direct"));return P(()=>{c.value=m.agent.tags.map(n=>n.id)}),(n,t)=>{const w=j,v=L,b=A,g=I,V=E,B=S,T=Z;return r(),p("div",{class:"group border-default relative cursor-pointer rounded-lg border p-4 transition-all duration-200 hover:shadow-lg",onClick:h},[o("div",J,[e.agent.creator?(r(),p("div",K,[a(w,{src:e.agent.creator?.avatar,alt:"avatar",size:"2xs"},null,8,["src"]),o("div",O,i(e.agent.creator?.nickname),1)])):R("",!0)]),o("div",{class:"absolute right-3 bottom-3 z-10 flex gap-1 opacity-100 transition-opacity duration-200 group-hover:opacity-0",onClick:t[0]||(t[0]=l(()=>{},["stop"]))},[a(v,{color:"neutral",variant:"soft",size:"sm"},{default:d(()=>[x(i(y(C)),1)]),_:1}),a(v,{color:e.agent.isPublic?"success":"neutral",variant:"soft",size:"sm"},{default:d(()=>[a(b,{name:e.agent.isPublic?"i-lucide-globe":"i-lucide-globe-lock",class:"mr-1 size-3"},null,8,["name"]),x(" "+i(e.agent.isPublic?n.$t("ai-agent.backend.configuration.public"):n.$t("ai-agent.backend.configuration.private")),1)]),_:1},8,["color"])]),o("div",{class:"absolute right-3 bottom-3 z-10 flex gap-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100",onClick:t[4]||(t[4]=l(()=>{},["stop"]))},[a(g,{class:"opacity-70 hover:opacity-100",icon:"i-lucide-file-code",size:"xs",label:n.$t("console-common.export"),color:"success",variant:"ghost",onClick:t[1]||(t[1]=l(s=>u("exportDsl",e.agent),["stop"]))},null,8,["label"]),a(g,{class:"opacity-70 hover:opacity-100",icon:"i-lucide-edit",size:"xs",label:n.$t("console-common.edit"),color:"primary",variant:"ghost",onClick:t[2]||(t[2]=l(s=>u("edit",e.agent),["stop"]))},null,8,["label"]),a(g,{class:"opacity-70 hover:opacity-100",icon:"i-lucide-trash",size:"xs",label:n.$t("console-common.delete"),color:"error",variant:"ghost",onClick:t[3]||(t[3]=l(s=>u("delete",e.agent),["stop"]))},null,8,["label"])]),o("div",Q,[o("div",W,[a(V,{src:e.agent.avatar,alt:"avatar",class:"size-10 rounded-lg object-contain"},null,8,["src"])]),o("div",X,[o("h3",Y,i(e.agent.name),1),o("div",tt,[o("span",null,i(n.$t("ai-agent.backend.create.edit")),1),a(B,{datetime:e.agent.updatedAt,mode:"datetime"},null,8,["datetime"])])])]),o("div",et,[o("p",ot,i(e.agent.description),1)]),o("div",{class:"mb-5",onClick:t[8]||(t[8]=l(()=>{},["stop"]))},[a(T,{modelValue:y(c),"onUpdate:modelValue":t[6]||(t[6]=s=>G(c)?c.value=s:null),type:"app",onClose:t[7]||(t[7]=s=>u("updateTags",e.agent,y(c)))},{trigger:d(()=>[o("div",{class:"hover:bg-muted rounded-lg py-1",onClick:t[5]||(t[5]=l(()=>{},["stop"]))},[e.agent.tags?.length?(r(),p("div",at,[(r(!0),p(F,null,q(e.agent.tags,s=>(r(),k(v,{key:s.id,color:"neutral",variant:"outline"},{default:d(()=>[a(b,{name:"i-lucide-tag",class:"size-2"}),o("span",null,i(s.name),1),t[9]||(t[9]=x("1 ",-1))]),_:2},1024))),128))])):(r(),k(g,{key:0,color:"neutral",variant:"outline",size:"xs"},{default:d(()=>[a(b,{name:"i-lucide-tag",class:"size-2"}),o("span",null,i(n.$t("common.tag.addTag")),1)]),_:1}))])]),_:1},8,["modelValue"])])])}}});export{Vt as default};
