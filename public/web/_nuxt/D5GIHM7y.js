import{_ as v}from"./bvMLy1sv.js";import{_ as C}from"./D_3bTjYR.js";import y from"./cd55qm53.js";import{_ as $}from"./Ckxdm3-q.js";import{_ as B}from"./Da83zglB.js";import{d as D,i as F,at as I,aQ as q,aN as N,q as j,f as A,o as L,w as n,x as r,t as a,g as o,z as p,A as f,_ as M}from"#entry";import{_ as S}from"./Ghlq83yM.js";import{a as z,b as R}from"./C0KOn7yN.js";import{u as T}from"./UqhBTNL6.js";import"./D9sX2Qi6.js";import"./CAQVAH0V.js";import"./Deu6qIfg.js";import"./9Q2Y_nd6.js";import"./td2xDKru.js";import"./RPflLnqr.js";import"./TrJvDfxI.js";import"./jsPNKUA0.js";import"./abPSHzII.js";import"./DQMjdCEn.js";import"./OUYfsp1i.js";import"./BFo3vNrE.js";import"./CuVAPZQ8.js";import"./Z7qkLoXK.js";import"./CjE5iPSn.js";import"./D9UsdH-b.js";import"./MCK2d4XT.js";import"./EK7Wbu3-.js";const G={class:"grid grid-cols-1 gap-4"},P={class:"w-full"},Q={class:"text-xs"},E={class:"flex w-full items-center justify-end gap-2"},Uo=D({__name:"apps-decorate",emits:["close"],setup(H,{emit:g}){const c=g,{t}=F(),d=I(),l=q({enabled:!1,title:"",link:{name:"",path:"",query:{}},heroImageUrl:""}),b=async()=>{try{const m=await z();T(l,m)}catch(m){console.error("获取装修设置失败:",m)}},{lockFn:V,isLock:u}=N(async()=>{try{await R(l),c("close"),d.success(t("console-common.messages.success"))}catch{d.error(t("console-common.messages.failed"))}});return j(()=>b()),(m,e)=>{const k=v,i=C,w=y,U=$,x=B,_=M,h=S;return L(),A(h,{title:o(t)("decorate.apps.modalTitle"),onClose:e[5]||(e[5]=s=>c("close"))},{default:n(()=>[r("div",G,[a(i,{label:o(t)("console-common.enabled"),required:""},{default:n(()=>[a(k,{modelValue:o(l).enabled,"onUpdate:modelValue":e[0]||(e[0]=s=>o(l).enabled=s)},null,8,["modelValue"])]),_:1},8,["label"]),a(i,{label:o(t)("console-common.title")},{default:n(()=>[a(w,{modelValue:o(l).title,"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).title=s),ui:{root:"w-full"},placeholder:o(t)("console-common.placeholder.title")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:o(t)("console-common.link")},{default:n(()=>[r("div",P,[a(U,{modelValue:o(l).link,"onUpdate:modelValue":e[2]||(e[2]=s=>o(l).link=s),size:"md",ui:{root:"w-full"}},null,8,["modelValue"])])]),_:1},8,["label"]),a(i,{label:o(t)("decorate.apps.heroImage"),required:""},{help:n(()=>[r("span",Q,p(o(t)("extensions.develop.form.bannerRecommendation")),1)]),default:n(()=>[a(x,{modelValue:o(l).heroImageUrl,"onUpdate:modelValue":e[3]||(e[3]=s=>o(l).heroImageUrl=s),class:"h-24 w-24",icon:"i-lucide-upload",accept:".jpg,.png,.jpeg,.gif,.webp",maxCount:1,single:!0,multiple:!1},null,8,["modelValue"])]),_:1},8,["label"])]),r("div",E,[a(_,{disabled:o(u),variant:"ghost",onClick:e[4]||(e[4]=s=>c("close"))},{default:n(()=>[f(p(o(t)("console-common.cancel")),1)]),_:1},8,["disabled"]),a(_,{loading:o(u),color:"primary",onClick:o(V)},{default:n(()=>[f(p(o(t)("console-common.save")),1)]),_:1},8,["loading","onClick"])])]),_:1},8,["title"])}}});export{Uo as default};
