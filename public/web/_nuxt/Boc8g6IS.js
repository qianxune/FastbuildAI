const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C4d-ImUs.js","./Cgyg1gJC.js","./DbqqhwXM.js","./DNSLGqNg.js","./psimjGaX.js","./CuVAPZQ8.js","./B3rWqoNg.js","./EK7Wbu3-.js","./o4ws_w_T.js","./bvMLy1sv.js","./D9sX2Qi6.js","./CAQVAH0V.js","./Deu6qIfg.js","./B5gsc-Ax.js","./Ce6s6j9m.js","./CBTz8tdX.js","./DMoqg0Fd.js","./CtosDvS0.js","./kRIii9yh.js","./Z7qkLoXK.js","./C6Y-ieo6.js","./BFo3vNrE.js","./DeCyaT7k.js","./D4e4FYoF.js","./BCcN9pii.js","./CMKSl-Ng.js","./Y67jy4iF.js","./CjasYwqF.js","./DBEJUH-Z.js","./BlyoSzaa.js","./HMypDuVE.js","./cd55qm53.js","./D_3bTjYR.js","./Da83zglB.js","./9Q2Y_nd6.js","./td2xDKru.js","./RPflLnqr.js","./TrJvDfxI.js","./jsPNKUA0.js","./abPSHzII.js","./Cie-o9Wa.js","./hsuWSsy6.js","./B6e0YRC4.js","./Co1Njv5N.js","./C_x_FjTj.js","./Dh3Mo9T6.js","./sTbVUDyT.js","./4jjeIyfe.js","./DD8ySyt7.js","./Ghlq83yM.js","./DQMjdCEn.js","./OUYfsp1i.js","./CjE5iPSn.js","./D9UsdH-b.js","./MCK2d4XT.js","./BEKWrOog.js","./FTderXKt.js","./DaWZu8wl.js","./UqhBTNL6.js","./CxvgZo8z.js","./rpHeZOi0.js","./CWpJD8K1.js","./CzL0xTzV.js"])))=>i.map(i=>d[i]);
import{d as X,at as H,i as J,V as Y,aQ as Z,s as E,l as ee,aN as oe,n as I,q as te,c as h,o as u,x as c,f as R,y as se,t as n,g as o,D as ae,z as l,w as p,_ as le,A as b,F as re,E as ie,W as k,B as ce,X as x}from"#entry";import ne from"./cd55qm53.js";import{_ as de}from"./CvI6s-qz.js";import{_ as me}from"./Y67jy4iF.js";import{_ as ue}from"./B3rWqoNg.js";import{_ as pe}from"./B5gsc-Ax.js";import{_ as _e}from"./Cie-o9Wa.js";import{a as ve,b as he,c as fe,d as ge}from"./BEKWrOog.js";import{u as ye}from"./CSy6ZCzT.js";import"./CtosDvS0.js";import"./CAQVAH0V.js";import"./DNSLGqNg.js";import"./BFo3vNrE.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./Z7qkLoXK.js";import"./BstbYvQo.js";import"./CuVAPZQ8.js";import"./CjasYwqF.js";import"./DBEJUH-Z.js";import"./CMKSl-Ng.js";import"./BCcN9pii.js";import"./Deu6qIfg.js";import"./D9sX2Qi6.js";import"./EK7Wbu3-.js";import"./jsPNKUA0.js";import"./abPSHzII.js";const be={class:"provider-list-container pb-5"},ke={class:"bg-background sticky top-0 z-10 flex flex-wrap gap-4 pb-2"},xe={class:"flex items-center gap-2 md:ml-auto"},Ae={class:"flex items-center gap-2"},we={class:"text-accent-foreground text-sm dark:text-gray-400"},Pe={class:"mt-2 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4"},Ve={key:1,class:"flex h-[calc(100vh-13rem)] items-center justify-center"},Ce={class:"flex items-center gap-3"},De={class:"text-accent-foreground"},Se={key:2,class:"flex h-[calc(100vh-13rem)] flex-col items-center justify-center"},Ee={class:"text-secondary-foreground mb-2 text-lg font-medium"},Ie={class:"text-accent-foreground"},Re={key:3,class:"bg-background sticky bottom-0 z-10 flex items-center justify-between gap-3 py-4"},Te={class:"text-muted text-sm"},Be={class:"text-muted text-sm"},no=X({__name:"list",setup(Me){const T=k(()=>x(()=>import("./C4d-ImUs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]),import.meta.url)),B=k(()=>x(()=>import("./HMypDuVE.js"),__vite__mapDeps([30,1,31,32,10,33,34,35,36,37,38,39,8,40,41,16,17,18,3,19,20,21,22,23,24,25,5,4,42,43,11,12,28,44,45,46,47,48,49,50,51,52,53,54,7,55,56,57,58,59]),import.meta.url)),M=k(()=>x(()=>import("./rpHeZOi0.js"),__vite__mapDeps([60,1,61,40,38,39,62,51,21,5,19,52,53,55,54,7]),import.meta.url)),f=H(),{t}=J(),A=Y(),_=Z({keyword:"",isActive:void 0}),v=E(),a=ee(new Set),r=E([]),{lockFn:d,isLock:w}=oe(async()=>{try{const e=await he(_);r.value=e}catch(e){console.error("Get provider list failed:",e)}}),U=(e,s)=>{if(typeof s=="boolean"){const i=e.id;s?a.value.add(i):a.value.delete(i)}},$=e=>{e===!0?r.value.forEach(i=>{i.id&&a.value.add(i.id)}):a.value.clear()},P=async e=>{try{await ye({title:t("ai-provider.backend.confirm.deleteTitle"),description:t("ai-provider.backend.confirm.deleteMessage"),color:"error"}),Array.isArray(e)?(await fe(e),f.success(t("console-common.batchDeleteSuccess"))):(await ge(e),f.success(t("common.message.deleteSuccess"))),a.value.clear(),d()}catch(s){console.error("Delete failed:",s)}},L=e=>{e.id&&P(e.id)},z=()=>{const e=Array.from(a.value);e.length!==0&&P(e)},F=async e=>{await A.create(M).open({providerId:e}).result&&d()},V=async(e="")=>{await A.create(B).open({id:e}).result&&d()},C=()=>{V()},N=e=>{V(e.id)},O=async(e,s)=>{try{await ve(e,s),f.success(t(s?"ai-provider.backend.messages.enableSuccess":"ai-provider.backend.messages.disableSuccess")),d()}catch(i){console.error("Toggle provider active failed:",i)}},j=I(()=>r.value.length>0&&r.value.every(e=>e.id&&a.value.has(e.id))),G=I(()=>{const e=r.value.filter(s=>s.id&&a.value.has(s.id)).length;return e>0&&e<r.value.length}),q=()=>{v.value==="all"?_.isActive=void 0:_.isActive=v.value===!0,d()};return te(()=>d()),(e,s)=>{const i=ne,g=de,K=me,Q=ue,y=le,D=pe,W=_e,S=ce;return u(),h("div",be,[c("div",ke,[n(i,{modelValue:o(_).keyword,"onUpdate:modelValue":s[0]||(s[0]=m=>o(_).keyword=m),placeholder:o(t)("ai-provider.backend.search.placeholder"),onChange:o(d)},null,8,["modelValue","placeholder","onChange"]),n(g,{modelValue:o(v),"onUpdate:modelValue":s[1]||(s[1]=m=>ae(v)?v.value=m:null),items:[{label:o(t)("ai-provider.backend.search.all"),value:"all"},{label:o(t)("console-common.show"),value:!0},{label:o(t)("console-common.hide"),value:!1}],"label-key":"label","value-key":"value",placeholder:o(t)("ai-provider.backend.search.status"),onChange:q},null,8,["modelValue","items","placeholder"]),c("div",xe,[c("div",Ae,[n(K,{"model-value":o(j)?!0:o(G)?"indeterminate":!1,"onUpdate:modelValue":$},null,8,["model-value"]),c("span",we,l(o(a).size)+" / "+l(o(r).length)+" "+l(o(t)("console-common.selected")),1)]),n(D,{codes:["ai-providers:delete"]},{default:p(()=>[n(y,{color:"error",variant:"subtle",label:o(t)("console-common.batchDelete"),icon:"i-heroicons-trash",disabled:o(a).size===0,onClick:z},{trailing:p(()=>[n(Q,null,{default:p(()=>[b(l(o(a).size),1)]),_:1})]),_:1},8,["label","disabled"])]),_:1}),n(D,{codes:["ai-providers:create"]},{default:p(()=>[n(y,{icon:"i-heroicons-plus",color:"primary",onClick:C},{default:p(()=>[b(l(o(t)("ai-provider.backend.addTitle")),1)]),_:1})]),_:1})])]),!o(w)&&o(r).length>0?(u(),R(W,{key:0,class:"h-[calc(100vh-12rem)]",shadow:!1},{default:p(()=>[c("div",Pe,[(u(!0),h(re,null,ie(o(r),m=>(u(),R(o(T),{key:m.id,provider:m,selected:o(a).has(m.id),onSelect:U,onDelete:L,onEdit:N,onViewModels:F,onToggleActive:O},null,8,["provider","selected"]))),128))])]),_:1})):o(w)?(u(),h("div",Ve,[c("div",Ce,[n(S,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),c("span",De,l(e.$t("common.loading")),1)])])):(u(),h("div",Se,[n(S,{name:"i-lucide-building",class:"text-muted-foreground mb-4 h-16 w-16"}),c("h3",Ee,l(o(t)("ai-provider.backend.empty.noProviders")),1),c("p",Ie,l(o(t)("ai-provider.backend.empty.noProvidersDescription")),1),n(y,{class:"mt-4",icon:"i-heroicons-plus",color:"primary",onClick:C},{default:p(()=>[b(l(o(t)("ai-provider.backend.empty.addFirstProvider")),1)]),_:1})])),o(r).length>0?(u(),h("div",Re,[c("div",Te,l(o(a).size)+" "+l(e.$t("console-common.selected")),1),c("div",Be,l(o(t)("ai-provider.backend.stats.totalProviders",{count:o(r).length})),1)])):se("",!0)])}}});export{no as default};
